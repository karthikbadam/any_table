const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B0x0HnJ1.js","assets/string-CNNSUb3f.js","assets/index-BlmdFGXB.js"])))=>i.map(i=>d[i]);
var sw=Object.defineProperty;var ow=(e,t,n)=>t in e?sw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xn=(e,t,n)=>ow(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ly={exports:{}},jl={},uy={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),lw=Symbol.for("react.portal"),uw=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),dw=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),mw=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),uh=Symbol.iterator;function vw(e){return e===null||typeof e!="object"?null:(e=uh&&e[uh]||e["@@iterator"],typeof e=="function"?e:null)}var cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,fy={};function cs(e,t,n){this.props=e,this.context=t,this.refs=fy,this.updater=n||cy}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hy(){}hy.prototype=cs.prototype;function vd(e,t,n){this.props=e,this.context=t,this.refs=fy,this.updater=n||cy}var _d=vd.prototype=new hy;_d.constructor=vd;dy(_d,cs.prototype);_d.isPureReactComponent=!0;var ch=Array.isArray,py=Object.prototype.hasOwnProperty,wd={current:null},yy={key:!0,ref:!0,__self:!0,__source:!0};function my(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)py.call(t,r)&&!yy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bo,type:e,key:s,ref:o,props:i,_owner:wd.current}}function _w(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sd(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function ww(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dh=/\/+/g;function vu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ww(""+e.key):t.toString(36)}function ia(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bo:case lw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+vu(o,0):r,ch(i)?(n="",e!=null&&(n=e.replace(dh,"$&/")+"/"),ia(i,t,n,"",function(u){return u})):i!=null&&(Sd(i)&&(i=_w(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ch(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+vu(s,a);o+=ia(s,t,n,l,i)}else if(l=vw(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+vu(s,a++),o+=ia(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(e,t,n){if(e==null)return e;var r=[],i=0;return ia(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Sw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ce={current:null},sa={transition:null},Iw={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:sa,ReactCurrentOwner:wd};function gy(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ko,forEach:function(e,t,n){ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!Sd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=cs;J.Fragment=uw;J.Profiler=dw;J.PureComponent=vd;J.StrictMode=cw;J.Suspense=yw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iw;J.act=gy;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)py.call(t,l)&&!yy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bo,type:e.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:hw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fw,_context:e},e.Consumer=e};J.createElement=my;J.createFactory=function(e){var t=my.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:pw,render:e}};J.isValidElement=Sd;J.lazy=function(e){return{$$typeof:gw,_payload:{_status:-1,_result:e},_init:Sw}};J.memo=function(e,t){return{$$typeof:mw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=sa.transition;sa.transition={};try{e()}finally{sa.transition=t}};J.unstable_act=gy;J.useCallback=function(e,t){return ce.current.useCallback(e,t)};J.useContext=function(e){return ce.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return ce.current.useDeferredValue(e)};J.useEffect=function(e,t){return ce.current.useEffect(e,t)};J.useId=function(){return ce.current.useId()};J.useImperativeHandle=function(e,t,n){return ce.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return ce.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return ce.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return ce.current.useMemo(e,t)};J.useReducer=function(e,t,n){return ce.current.useReducer(e,t,n)};J.useRef=function(e){return ce.current.useRef(e)};J.useState=function(e){return ce.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return ce.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return ce.current.useTransition()};J.version="18.3.1";uy.exports=J;var A=uy.exports;const Ew=aw(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=A,Tw=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Rw=Object.prototype.hasOwnProperty,Aw=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ow={key:!0,ref:!0,__self:!0,__source:!0};function vy(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Rw.call(t,r)&&!Ow.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tw,type:e,key:s,ref:o,props:i,_owner:Aw.current}}jl.Fragment=Nw;jl.jsx=vy;jl.jsxs=vy;ly.exports=jl;var B=ly.exports,ic={},_y={exports:{}},Le={},wy={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,q){var G=R.length;R.push(q);t:for(;0<G;){var vt=G-1>>>1,Ot=R[vt];if(0<i(Ot,q))R[vt]=q,R[G]=Ot,G=vt;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],G=R.pop();if(G!==q){R[0]=G;t:for(var vt=0,Ot=R.length,Kn=Ot>>>1;vt<Kn;){var un=2*(vt+1)-1,ui=R[un],be=un+1,Jn=R[be];if(0>i(ui,G))be<Ot&&0>i(Jn,ui)?(R[vt]=Jn,R[be]=G,vt=be):(R[vt]=ui,R[un]=G,vt=un);else if(be<Ot&&0>i(Jn,G))R[vt]=Jn,R[be]=G,vt=be;else break t}}return q}function i(R,q){var G=R.sortIndex-q.sortIndex;return G!==0?G:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,_=!1,F=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=R)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function w(R){if(_=!1,y(R),!v)if(n(l)!==null)v=!0,qt(E);else{var q=n(u);q!==null&&re(w,q.startTime-R)}}function E(R,q){v=!1,_&&(_=!1,m(N),N=-1),g=!0;var G=h;try{for(y(q),d=n(l);d!==null&&(!(d.expirationTime>q)||R&&!et());){var vt=d.callback;if(typeof vt=="function"){d.callback=null,h=d.priorityLevel;var Ot=vt(d.expirationTime<=q);q=e.unstable_now(),typeof Ot=="function"?d.callback=Ot:d===n(l)&&r(l),y(q)}else r(l);d=n(l)}if(d!==null)var Kn=!0;else{var un=n(u);un!==null&&re(w,un.startTime-q),Kn=!1}return Kn}finally{d=null,h=G,g=!1}}var T=!1,b=null,N=-1,L=5,x=-1;function et(){return!(e.unstable_now()-x<L)}function ne(){if(b!==null){var R=e.unstable_now();x=R;var q=!0;try{q=b(!0,R)}finally{q?Ee():(T=!1,b=null)}}else T=!1}var Ee;if(typeof f=="function")Ee=function(){f(ne)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,$t=at.port2;at.port1.onmessage=ne,Ee=function(){$t.postMessage(null)}}else Ee=function(){F(ne,0)};function qt(R){b=R,T||(T=!0,Ee())}function re(R,q){N=F(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,qt(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var G=h;h=q;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return q()}finally{h=G}},e.unstable_scheduleCallback=function(R,q,G){var vt=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?vt+G:vt):G=vt,R){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=G+Ot,R={id:c++,callback:q,priorityLevel:R,startTime:G,expirationTime:Ot,sortIndex:-1},G>vt?(R.sortIndex=G,t(u,R),n(l)===null&&R===n(u)&&(_?(m(N),N=-1):_=!0,re(w,G-vt))):(R.sortIndex=Ot,t(l,R),v||g||(v=!0,qt(E))),R},e.unstable_shouldYield=et,e.unstable_wrapCallback=function(R){var q=h;return function(){var G=h;h=q;try{return R.apply(this,arguments)}finally{h=G}}}})(Sy);wy.exports=Sy;var Fw=wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=A,Fe=Fw;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iy=new Set,Ks={};function oi(e,t){Ki(e,t),Ki(e+"Capture",t)}function Ki(e,t){for(Ks[e]=t,e=0;e<t.length;e++)Iy.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fh={},hh={};function xw(e){return sc.call(hh,e)?!0:sc.call(fh,e)?!1:Lw.test(e)?hh[e]=!0:(fh[e]=!0,!1)}function Bw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cw(e,t,n,r){if(t===null||typeof t>"u"||Bw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function de(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new de(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new de(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new de(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new de(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new de(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new de(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new de(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new de(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new de(e,5,!1,e.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function Ed(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Id,Ed);Ht[t]=new de(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Id,Ed);Ht[t]=new de(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Id,Ed);Ht[t]=new de(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new de(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new de("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new de(e,1,!1,e.toLowerCase(),null,!0,!0)});function bd(e,t,n,r){var i=Ht.hasOwnProperty(t)?Ht[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cw(t,n,i,r)&&(n=null),r||i===null?xw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hn=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),by=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Ty=Symbol.for("react.offscreen"),ph=Symbol.iterator;function vs(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,_u;function As(e){if(_u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_u=t&&t[1]||""}return`
`+_u+e}var wu=!1;function Su(e,t){if(!e||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?As(e):""}function kw(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Su(e.type,!1),e;case 11:return e=Su(e.type.render,!1),e;case 1:return e=Su(e.type,!0),e;default:return""}}function uc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case bi:return"Portal";case oc:return"Profiler";case Td:return"StrictMode";case ac:return"Suspense";case lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case by:return(e.displayName||"Context")+".Consumer";case Ey:return(e._context.displayName||"Context")+".Provider";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rd:return t=e.displayName||null,t!==null?t:uc(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return uc(e(t))}catch{}}return null}function Mw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uc(t);case 8:return t===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uw(e){var t=Ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uo(e){e._valueTracker||(e._valueTracker=Uw(e))}function Ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cc(e,t){var n=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ay(e,t){t=t.checked,t!=null&&bd(e,"checked",t,!1)}function dc(e,t){Ay(e,t);var n=Er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fc(e,t.type,n):t.hasOwnProperty("defaultValue")&&fc(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fc(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Os(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Er(n)}}function Oy(e,t){var n=Er(t.value),r=Er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,Dy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pw=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){Pw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function Ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function xy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zw=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(e,t){if(t){if(zw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function mc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=null;function Ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vc=null,zi=null,ji=null;function _h(e){if(e=Ro(e)){if(typeof vc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ql(t),vc(e.stateNode,e.type,t))}}function By(e){zi?ji?ji.push(e):ji=[e]:zi=e}function Cy(){if(zi){var e=zi,t=ji;if(ji=zi=null,_h(e),t)for(e=0;e<t.length;e++)_h(t[e])}}function ky(e,t){return e(t)}function My(){}var Iu=!1;function Uy(e,t,n){if(Iu)return e(t,n);Iu=!0;try{return ky(e,t,n)}finally{Iu=!1,(zi!==null||ji!==null)&&(My(),Cy())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var r=ql(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var _c=!1;if(jn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){_c=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{_c=!1}function jw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var js=!1,Ba=null,Ca=!1,wc=null,$w={onError:function(e){js=!0,Ba=e}};function Vw(e,t,n,r,i,s,o,a,l){js=!1,Ba=null,jw.apply($w,arguments)}function Ww(e,t,n,r,i,s,o,a,l){if(Vw.apply(this,arguments),js){if(js){var u=Ba;js=!1,Ba=null}else throw Error(I(198));Ca||(Ca=!0,wc=u)}}function ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wh(e){if(ai(e)!==e)throw Error(I(188))}function Hw(e){var t=e.alternate;if(!t){if(t=ai(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wh(i),e;if(s===r)return wh(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function zy(e){return e=Hw(e),e!==null?jy(e):null}function jy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jy(e);if(t!==null)return t;e=e.sibling}return null}var $y=Fe.unstable_scheduleCallback,Sh=Fe.unstable_cancelCallback,qw=Fe.unstable_shouldYield,Yw=Fe.unstable_requestPaint,Ft=Fe.unstable_now,Gw=Fe.unstable_getCurrentPriorityLevel,Od=Fe.unstable_ImmediatePriority,Vy=Fe.unstable_UserBlockingPriority,ka=Fe.unstable_NormalPriority,Qw=Fe.unstable_LowPriority,Wy=Fe.unstable_IdlePriority,$l=null,In=null;function Kw(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot($l,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Zw,Jw=Math.log,Xw=Math.LN2;function Zw(e){return e>>>=0,e===0?32:31-(Jw(e)/Xw|0)|0}var zo=64,jo=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ma(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),i=1<<n,r|=e[n],t&=~i;return r}function tS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hy(){var e=zo;return zo<<=1,!(zo&4194240)&&(zo=64),e}function Eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function To(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function nS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dt=0;function qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yy,Dd,Gy,Qy,Ky,Ic=!1,$o=[],pr=null,yr=null,mr=null,Zs=new Map,to=new Map,lr=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function ws(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ro(t),t!==null&&Dd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function iS(e,t,n,r,i){switch(t){case"focusin":return pr=ws(pr,e,t,n,r,i),!0;case"dragenter":return yr=ws(yr,e,t,n,r,i),!0;case"mouseover":return mr=ws(mr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,ws(Zs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,to.set(s,ws(to.get(s)||null,e,t,n,r,i)),!0}return!1}function Jy(e){var t=jr(e.target);if(t!==null){var n=ai(t);if(n!==null){if(t=n.tag,t===13){if(t=Py(n),t!==null){e.blockedOn=t,Ky(e.priority,function(){Gy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gc=r,n.target.dispatchEvent(r),gc=null}else return t=Ro(n),t!==null&&Dd(t),e.blockedOn=n,!1;t.shift()}return!0}function Eh(e,t,n){oa(e)&&n.delete(t)}function sS(){Ic=!1,pr!==null&&oa(pr)&&(pr=null),yr!==null&&oa(yr)&&(yr=null),mr!==null&&oa(mr)&&(mr=null),Zs.forEach(Eh),to.forEach(Eh)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,sS)))}function eo(e){function t(i){return Ss(i,e)}if(0<$o.length){Ss($o[0],e);for(var n=1;n<$o.length;n++){var r=$o[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pr!==null&&Ss(pr,e),yr!==null&&Ss(yr,e),mr!==null&&Ss(mr,e),Zs.forEach(t),to.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)Jy(n),n.blockedOn===null&&lr.shift()}var $i=Hn.ReactCurrentBatchConfig,Ua=!0;function oS(e,t,n,r){var i=dt,s=$i.transition;$i.transition=null;try{dt=1,Ld(e,t,n,r)}finally{dt=i,$i.transition=s}}function aS(e,t,n,r){var i=dt,s=$i.transition;$i.transition=null;try{dt=4,Ld(e,t,n,r)}finally{dt=i,$i.transition=s}}function Ld(e,t,n,r){if(Ua){var i=Ec(e,t,n,r);if(i===null)xu(e,t,r,Pa,n),Ih(e,r);else if(iS(i,e,t,n,r))r.stopPropagation();else if(Ih(e,r),t&4&&-1<rS.indexOf(e)){for(;i!==null;){var s=Ro(i);if(s!==null&&Yy(s),s=Ec(e,t,n,r),s===null&&xu(e,t,r,Pa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xu(e,t,r,null,n)}}var Pa=null;function Ec(e,t,n,r){if(Pa=null,e=Ad(r),e=jr(e),e!==null)if(t=ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Py(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function Xy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gw()){case Od:return 1;case Vy:return 4;case ka:case Qw:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var dr=null,xd=null,aa=null;function Zy(){if(aa)return aa;var e,t=xd,n=t.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return aa=i.slice(e,1<r?1-r:void 0)}function la(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vo(){return!0}function bh(){return!1}function xe(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vo:bh,this.isPropagationStopped=bh,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bd=xe(ds),No=Tt({},ds,{view:0,detail:0}),lS=xe(No),bu,Tu,Is,Vl=Tt({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(bu=e.screenX-Is.screenX,Tu=e.screenY-Is.screenY):Tu=bu=0,Is=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),Th=xe(Vl),uS=Tt({},Vl,{dataTransfer:0}),cS=xe(uS),dS=Tt({},No,{relatedTarget:0}),Nu=xe(dS),fS=Tt({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=xe(fS),pS=Tt({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yS=xe(pS),mS=Tt({},ds,{data:0}),Nh=xe(mS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_S[e])?!!t[e]:!1}function Cd(){return wS}var SS=Tt({},No,{key:function(e){if(e.key){var t=gS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IS=xe(SS),ES=Tt({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=xe(ES),bS=Tt({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),TS=xe(bS),NS=Tt({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=xe(NS),AS=Tt({},Vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=xe(AS),FS=[9,13,27,32],kd=jn&&"CompositionEvent"in window,$s=null;jn&&"documentMode"in document&&($s=document.documentMode);var DS=jn&&"TextEvent"in window&&!$s,tm=jn&&(!kd||$s&&8<$s&&11>=$s),Ah=" ",Oh=!1;function em(e,t){switch(e){case"keyup":return FS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function LS(e,t){switch(e){case"compositionend":return nm(t);case"keypress":return t.which!==32?null:(Oh=!0,Ah);case"textInput":return e=t.data,e===Ah&&Oh?null:e;default:return null}}function xS(e,t){if(Ni)return e==="compositionend"||!kd&&em(e,t)?(e=Zy(),aa=xd=dr=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tm&&t.locale!=="ko"?null:t.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BS[e.type]:t==="textarea"}function rm(e,t,n,r){By(r),t=za(t,"onChange"),0<t.length&&(n=new Bd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vs=null,no=null;function CS(e){pm(e,0)}function Wl(e){var t=Oi(e);if(Ry(t))return e}function kS(e,t){if(e==="change")return t}var im=!1;if(jn){var Ru;if(jn){var Au="oninput"in document;if(!Au){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),Au=typeof Dh.oninput=="function"}Ru=Au}else Ru=!1;im=Ru&&(!document.documentMode||9<document.documentMode)}function Lh(){Vs&&(Vs.detachEvent("onpropertychange",sm),no=Vs=null)}function sm(e){if(e.propertyName==="value"&&Wl(no)){var t=[];rm(t,no,e,Ad(e)),Uy(CS,t)}}function MS(e,t,n){e==="focusin"?(Lh(),Vs=t,no=n,Vs.attachEvent("onpropertychange",sm)):e==="focusout"&&Lh()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(no)}function PS(e,t){if(e==="click")return Wl(t)}function zS(e,t){if(e==="input"||e==="change")return Wl(t)}function jS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:jS;function ro(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sc.call(t,i)||!on(e[i],t[i]))return!1}return!0}function xh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var n=xh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=xh(n)}}function om(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?om(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function am(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $S(e){var t=am(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&om(n.ownerDocument.documentElement,n)){if(r!==null&&Md(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Bh(n,s);var o=Bh(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VS=jn&&"documentMode"in document&&11>=document.documentMode,Ri=null,bc=null,Ws=null,Tc=!1;function Ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tc||Ri==null||Ri!==xa(r)||(r=Ri,"selectionStart"in r&&Md(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&ro(Ws,r)||(Ws=r,r=za(bc,"onSelect"),0<r.length&&(t=new Bd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ri)))}function Wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ai={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Ou={},lm={};jn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Hl(e){if(Ou[e])return Ou[e];if(!Ai[e])return e;var t=Ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lm)return Ou[e]=t[n];return e}var um=Hl("animationend"),cm=Hl("animationiteration"),dm=Hl("animationstart"),fm=Hl("transitionend"),hm=new Map,kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){hm.set(e,t),oi(t,[e])}for(var Fu=0;Fu<kh.length;Fu++){var Du=kh[Fu],WS=Du.toLowerCase(),HS=Du[0].toUpperCase()+Du.slice(1);xr(WS,"on"+HS)}xr(um,"onAnimationEnd");xr(cm,"onAnimationIteration");xr(dm,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(fm,"onTransitionEnd");Ki("onMouseEnter",["mouseout","mouseover"]);Ki("onMouseLeave",["mouseout","mouseover"]);Ki("onPointerEnter",["pointerout","pointerover"]);Ki("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Mh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ww(r,t,void 0,e),e.currentTarget=null}function pm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;Mh(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;Mh(i,a,u),s=l}}}if(Ca)throw e=wc,Ca=!1,wc=null,e}function yt(e,t){var n=t[Fc];n===void 0&&(n=t[Fc]=new Set);var r=e+"__bubble";n.has(r)||(ym(t,e,2,!1),n.add(r))}function Lu(e,t,n){var r=0;t&&(r|=4),ym(n,e,r,t)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Ho]){e[Ho]=!0,Iy.forEach(function(n){n!=="selectionchange"&&(qS.has(n)||Lu(n,!1,e),Lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ho]||(t[Ho]=!0,Lu("selectionchange",!1,t))}}function ym(e,t,n,r){switch(Xy(t)){case 1:var i=oS;break;case 4:i=aS;break;default:i=Ld}n=i.bind(null,t,n,e),i=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}Uy(function(){var u=s,c=Ad(n),d=[];t:{var h=hm.get(e);if(h!==void 0){var g=Bd,v=e;switch(e){case"keypress":if(la(n)===0)break t;case"keydown":case"keyup":g=IS;break;case"focusin":v="focus",g=Nu;break;case"focusout":v="blur",g=Nu;break;case"beforeblur":case"afterblur":g=Nu;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TS;break;case um:case cm:case dm:g=hS;break;case fm:g=RS;break;case"scroll":g=lS;break;case"wheel":g=OS;break;case"copy":case"cut":case"paste":g=yS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rh}var _=(t&4)!==0,F=!_&&e==="scroll",m=_?h!==null?h+"Capture":null:h;_=[];for(var f=u,y;f!==null;){y=f;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Xs(f,m),w!=null&&_.push(so(f,w,y)))),F)break;f=f.return}0<_.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){t:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==gc&&(v=n.relatedTarget||n.fromElement)&&(jr(v)||v[$n]))break t;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?jr(v):null,v!==null&&(F=ai(v),v!==F||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(_=Th,w="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=Rh,w="onPointerLeave",m="onPointerEnter",f="pointer"),F=g==null?h:Oi(g),y=v==null?h:Oi(v),h=new _(w,f+"leave",g,n,c),h.target=F,h.relatedTarget=y,w=null,jr(c)===u&&(_=new _(m,f+"enter",v,n,c),_.target=y,_.relatedTarget=F,w=_),F=w,g&&v)e:{for(_=g,m=v,f=0,y=_;y;y=ci(y))f++;for(y=0,w=m;w;w=ci(w))y++;for(;0<f-y;)_=ci(_),f--;for(;0<y-f;)m=ci(m),y--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break e;_=ci(_),m=ci(m)}_=null}else _=null;g!==null&&Uh(d,h,g,_,!1),v!==null&&F!==null&&Uh(d,F,v,_,!0)}}t:{if(h=u?Oi(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=kS;else if(Fh(h))if(im)E=zS;else{E=US;var T=MS}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=PS);if(E&&(E=E(e,u))){rm(d,E,n,c);break t}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&fc(h,"number",h.value)}switch(T=u?Oi(u):window,e){case"focusin":(Fh(T)||T.contentEditable==="true")&&(Ri=T,bc=u,Ws=null);break;case"focusout":Ws=bc=Ri=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Ch(d,n,c);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Ch(d,n,c)}var b;if(kd)t:{switch(e){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else Ni?em(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(tm&&n.locale!=="ko"&&(Ni||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ni&&(b=Zy()):(dr=c,xd="value"in dr?dr.value:dr.textContent,Ni=!0)),T=za(u,N),0<T.length&&(N=new Nh(N,e,null,n,c),d.push({event:N,listeners:T}),b?N.data=b:(b=nm(n),b!==null&&(N.data=b)))),(b=DS?LS(e,n):xS(e,n))&&(u=za(u,"onBeforeInput"),0<u.length&&(c=new Nh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}pm(d,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function za(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xs(e,n),s!=null&&r.unshift(so(e,s,i)),s=Xs(e,t),s!=null&&r.push(so(e,s,i))),e=e.return}return r}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xs(n,s),l!=null&&o.unshift(so(n,l,a))):i||(l=Xs(n,s),l!=null&&o.push(so(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function Ph(e){return(typeof e=="string"?e:""+e).replace(YS,`
`).replace(GS,"")}function qo(e,t,n){if(t=Ph(t),Ph(e)!==t&&n)throw Error(I(425))}function ja(){}var Nc=null,Rc=null;function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(JS)}:Oc;function JS(e){setTimeout(function(){throw e})}function Bu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),eo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eo(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),yn="__reactFiber$"+fs,oo="__reactProps$"+fs,$n="__reactContainer$"+fs,Fc="__reactEvents$"+fs,XS="__reactListeners$"+fs,ZS="__reactHandles$"+fs;function jr(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$n]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jh(e);e!==null;){if(n=e[yn])return n;e=jh(e)}return t}e=n,n=e.parentNode}return null}function Ro(e){return e=e[yn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ql(e){return e[oo]||null}var Dc=[],Fi=-1;function Br(e){return{current:e}}function mt(e){0>Fi||(e.current=Dc[Fi],Dc[Fi]=null,Fi--)}function pt(e,t){Fi++,Dc[Fi]=e.current,e.current=t}var br={},te=Br(br),ve=Br(!1),Jr=br;function Ji(e,t){var n=e.type.contextTypes;if(!n)return br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _e(e){return e=e.childContextTypes,e!=null}function $a(){mt(ve),mt(te)}function $h(e,t,n){if(te.current!==br)throw Error(I(168));pt(te,t),pt(ve,n)}function mm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,Mw(e)||"Unknown",i));return Tt({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Jr=te.current,pt(te,e),pt(ve,ve.current),!0}function Vh(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=mm(e,t,Jr),r.__reactInternalMemoizedMergedChildContext=e,mt(ve),mt(te),pt(te,e)):mt(ve),pt(ve,n)}var Cn=null,Yl=!1,Cu=!1;function gm(e){Cn===null?Cn=[e]:Cn.push(e)}function t1(e){Yl=!0,gm(e)}function Cr(){if(!Cu&&Cn!==null){Cu=!0;var e=0,t=dt;try{var n=Cn;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,Yl=!1}catch(i){throw Cn!==null&&(Cn=Cn.slice(e+1)),$y(Od,Cr),i}finally{dt=t,Cu=!1}}return null}var Di=[],Li=0,Wa=null,Ha=0,Me=[],Ue=0,Xr=null,Un=1,Pn="";function Ur(e,t){Di[Li++]=Ha,Di[Li++]=Wa,Wa=e,Ha=t}function vm(e,t,n){Me[Ue++]=Un,Me[Ue++]=Pn,Me[Ue++]=Xr,Xr=e;var r=Un;e=Pn;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Un=1<<32-nn(t)+i|n<<i|r,Pn=s+e}else Un=1<<s|n<<i|r,Pn=e}function Ud(e){e.return!==null&&(Ur(e,1),vm(e,1,0))}function Pd(e){for(;e===Wa;)Wa=Di[--Li],Di[Li]=null,Ha=Di[--Li],Di[Li]=null;for(;e===Xr;)Xr=Me[--Ue],Me[Ue]=null,Pn=Me[--Ue],Me[Ue]=null,Un=Me[--Ue],Me[Ue]=null}var Oe=null,Ae=null,wt=!1,en=null;function _m(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Ae=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:Un,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Ae=null,!0):!1;default:return!1}}function Lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xc(e){if(wt){var t=Ae;if(t){var n=t;if(!Wh(e,t)){if(Lc(e))throw Error(I(418));t=gr(n.nextSibling);var r=Oe;t&&Wh(e,t)?_m(r,n):(e.flags=e.flags&-4097|2,wt=!1,Oe=e)}}else{if(Lc(e))throw Error(I(418));e.flags=e.flags&-4097|2,wt=!1,Oe=e}}}function Hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Yo(e){if(e!==Oe)return!1;if(!wt)return Hh(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ac(e.type,e.memoizedProps)),t&&(t=Ae)){if(Lc(e))throw wm(),Error(I(418));for(;t;)_m(e,t),t=gr(t.nextSibling)}if(Hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=gr(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Oe?gr(e.stateNode.nextSibling):null;return!0}function wm(){for(var e=Ae;e;)e=gr(e.nextSibling)}function Xi(){Ae=Oe=null,wt=!1}function zd(e){en===null?en=[e]:en.push(e)}var e1=Hn.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qh(e){var t=e._init;return t(e._payload)}function Sm(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Sr(m,f),m.index=0,m.sibling=null,m}function s(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,y,w){return f===null||f.tag!==6?(f=$u(y,m.mode,w),f.return=m,f):(f=i(f,y),f.return=m,f)}function l(m,f,y,w){var E=y.type;return E===Ti?c(m,f,y.props.children,w,y.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&qh(E)===f.type)?(w=i(f,y.props),w.ref=Es(m,f,y),w.return=m,w):(w=ya(y.type,y.key,y.props,null,m.mode,w),w.ref=Es(m,f,y),w.return=m,w)}function u(m,f,y,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Vu(y,m.mode,w),f.return=m,f):(f=i(f,y.children||[]),f.return=m,f)}function c(m,f,y,w,E){return f===null||f.tag!==7?(f=Gr(y,m.mode,w,E),f.return=m,f):(f=i(f,y),f.return=m,f)}function d(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=$u(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mo:return y=ya(f.type,f.key,f.props,null,m.mode,y),y.ref=Es(m,null,f),y.return=m,y;case bi:return f=Vu(f,m.mode,y),f.return=m,f;case rr:var w=f._init;return d(m,w(f._payload),y)}if(Os(f)||vs(f))return f=Gr(f,m.mode,y,null),f.return=m,f;Go(m,f)}return null}function h(m,f,y,w){var E=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(m,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mo:return y.key===E?l(m,f,y,w):null;case bi:return y.key===E?u(m,f,y,w):null;case rr:return E=y._init,h(m,f,E(y._payload),w)}if(Os(y)||vs(y))return E!==null?null:c(m,f,y,w,null);Go(m,y)}return null}function g(m,f,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(f,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mo:return m=m.get(w.key===null?y:w.key)||null,l(f,m,w,E);case bi:return m=m.get(w.key===null?y:w.key)||null,u(f,m,w,E);case rr:var T=w._init;return g(m,f,y,T(w._payload),E)}if(Os(w)||vs(w))return m=m.get(y)||null,c(f,m,w,E,null);Go(f,w)}return null}function v(m,f,y,w){for(var E=null,T=null,b=f,N=f=0,L=null;b!==null&&N<y.length;N++){b.index>N?(L=b,b=null):L=b.sibling;var x=h(m,b,y[N],w);if(x===null){b===null&&(b=L);break}e&&b&&x.alternate===null&&t(m,b),f=s(x,f,N),T===null?E=x:T.sibling=x,T=x,b=L}if(N===y.length)return n(m,b),wt&&Ur(m,N),E;if(b===null){for(;N<y.length;N++)b=d(m,y[N],w),b!==null&&(f=s(b,f,N),T===null?E=b:T.sibling=b,T=b);return wt&&Ur(m,N),E}for(b=r(m,b);N<y.length;N++)L=g(b,m,N,y[N],w),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?N:L.key),f=s(L,f,N),T===null?E=L:T.sibling=L,T=L);return e&&b.forEach(function(et){return t(m,et)}),wt&&Ur(m,N),E}function _(m,f,y,w){var E=vs(y);if(typeof E!="function")throw Error(I(150));if(y=E.call(y),y==null)throw Error(I(151));for(var T=E=null,b=f,N=f=0,L=null,x=y.next();b!==null&&!x.done;N++,x=y.next()){b.index>N?(L=b,b=null):L=b.sibling;var et=h(m,b,x.value,w);if(et===null){b===null&&(b=L);break}e&&b&&et.alternate===null&&t(m,b),f=s(et,f,N),T===null?E=et:T.sibling=et,T=et,b=L}if(x.done)return n(m,b),wt&&Ur(m,N),E;if(b===null){for(;!x.done;N++,x=y.next())x=d(m,x.value,w),x!==null&&(f=s(x,f,N),T===null?E=x:T.sibling=x,T=x);return wt&&Ur(m,N),E}for(b=r(m,b);!x.done;N++,x=y.next())x=g(b,m,N,x.value,w),x!==null&&(e&&x.alternate!==null&&b.delete(x.key===null?N:x.key),f=s(x,f,N),T===null?E=x:T.sibling=x,T=x);return e&&b.forEach(function(ne){return t(m,ne)}),wt&&Ur(m,N),E}function F(m,f,y,w){if(typeof y=="object"&&y!==null&&y.type===Ti&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mo:t:{for(var E=y.key,T=f;T!==null;){if(T.key===E){if(E=y.type,E===Ti){if(T.tag===7){n(m,T.sibling),f=i(T,y.props.children),f.return=m,m=f;break t}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&qh(E)===T.type){n(m,T.sibling),f=i(T,y.props),f.ref=Es(m,T,y),f.return=m,m=f;break t}n(m,T);break}else t(m,T);T=T.sibling}y.type===Ti?(f=Gr(y.props.children,m.mode,w,y.key),f.return=m,m=f):(w=ya(y.type,y.key,y.props,null,m.mode,w),w.ref=Es(m,f,y),w.return=m,m=w)}return o(m);case bi:t:{for(T=y.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=i(f,y.children||[]),f.return=m,m=f;break t}else{n(m,f);break}else t(m,f);f=f.sibling}f=Vu(y,m.mode,w),f.return=m,m=f}return o(m);case rr:return T=y._init,F(m,f,T(y._payload),w)}if(Os(y))return v(m,f,y,w);if(vs(y))return _(m,f,y,w);Go(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,y),f.return=m,m=f):(n(m,f),f=$u(y,m.mode,w),f.return=m,m=f),o(m)):n(m,f)}return F}var Zi=Sm(!0),Im=Sm(!1),qa=Br(null),Ya=null,xi=null,jd=null;function $d(){jd=xi=Ya=null}function Vd(e){var t=qa.current;mt(qa),e._currentValue=t}function Bc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vi(e,t){Ya=e,jd=xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ge=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(jd!==e)if(e={context:e,memoizedValue:t,next:null},xi===null){if(Ya===null)throw Error(I(308));xi=e,Ya.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var $r=null;function Wd(e){$r===null?$r=[e]:$r.push(e)}function Em(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Wd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vn(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fd(e,n)}}function Yh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,r){var i=e.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var v=e,_=a;switch(h=t,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(g,d,h);break t}d=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break t;d=Tt({},d,h);break t;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ti|=o,e.lanes=o,e.memoizedState=d}}function Gh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Ao={},En=Br(Ao),ao=Br(Ao),lo=Br(Ao);function Vr(e){if(e===Ao)throw Error(I(174));return e}function qd(e,t){switch(pt(lo,t),pt(ao,e),pt(En,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}mt(En),pt(En,t)}function ts(){mt(En),mt(ao),mt(lo)}function Tm(e){Vr(lo.current);var t=Vr(En.current),n=pc(t,e.type);t!==n&&(pt(ao,e),pt(En,n))}function Yd(e){ao.current===e&&(mt(En),mt(ao))}var It=Br(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ku=[];function Gd(){for(var e=0;e<ku.length;e++)ku[e]._workInProgressVersionPrimary=null;ku.length=0}var ca=Hn.ReactCurrentDispatcher,Mu=Hn.ReactCurrentBatchConfig,Zr=0,bt=null,Bt=null,Pt=null,Ka=!1,Hs=!1,uo=0,n1=0;function Yt(){throw Error(I(321))}function Qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Kd(e,t,n,r,i,s){if(Zr=s,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=e===null||e.memoizedState===null?o1:a1,e=n(r,i),Hs){s=0;do{if(Hs=!1,uo=0,25<=s)throw Error(I(301));s+=1,Pt=Bt=null,t.updateQueue=null,ca.current=l1,e=n(r,i)}while(Hs)}if(ca.current=Ja,t=Bt!==null&&Bt.next!==null,Zr=0,Pt=Bt=bt=null,Ka=!1,t)throw Error(I(300));return e}function Jd(){var e=uo!==0;return uo=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?bt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Ye(){if(Bt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Pt===null?bt.memoizedState:Pt.next;if(t!==null)Pt=t,Bt=e;else{if(e===null)throw Error(I(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Pt===null?bt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function co(e,t){return typeof t=="function"?t(e):t}function Uu(e){var t=Ye(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,bt.lanes|=c,ti|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,on(r,t.memoizedState)||(ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,bt.lanes|=s,ti|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pu(e){var t=Ye(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);on(s,t.memoizedState)||(ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Nm(){}function Rm(e,t){var n=bt,r=Ye(),i=t(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,ge=!0),r=r.queue,Xd(Fm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,fo(9,Om.bind(null,n,r,i,t),void 0,null),zt===null)throw Error(I(349));Zr&30||Am(n,t,i)}return i}function Am(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Om(e,t,n,r){t.value=n,t.getSnapshot=r,Dm(t)&&Lm(e)}function Fm(e,t,n){return n(function(){Dm(t)&&Lm(e)})}function Dm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function Lm(e){var t=Vn(e,1);t!==null&&rn(t,e,1,-1)}function Qh(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=s1.bind(null,bt,e),[t.memoizedState,e]}function fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xm(){return Ye().memoizedState}function da(e,t,n,r){var i=fn();bt.flags|=e,i.memoizedState=fo(1|t,n,void 0,r===void 0?null:r)}function Gl(e,t,n,r){var i=Ye();r=r===void 0?null:r;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,r!==null&&Qd(r,o.deps)){i.memoizedState=fo(t,n,s,r);return}}bt.flags|=e,i.memoizedState=fo(1|t,n,s,r)}function Kh(e,t){return da(8390656,8,e,t)}function Xd(e,t){return Gl(2048,8,e,t)}function Bm(e,t){return Gl(4,2,e,t)}function Cm(e,t){return Gl(4,4,e,t)}function km(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mm(e,t,n){return n=n!=null?n.concat([e]):null,Gl(4,4,km.bind(null,t,e),n)}function Zd(){}function Um(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pm(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zm(e,t,n){return Zr&21?(on(n,t)||(n=Hy(),bt.lanes|=n,ti|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ge=!0),e.memoizedState=n)}function r1(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Mu.transition;Mu.transition={};try{e(!1),t()}finally{dt=n,Mu.transition=r}}function jm(){return Ye().memoizedState}function i1(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$m(e))Vm(t,n);else if(n=Em(e,t,n,r),n!==null){var i=ae();rn(n,e,r,i),Wm(n,t,r)}}function s1(e,t,n){var r=wr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($m(e))Vm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,o)){var l=t.interleaved;l===null?(i.next=i,Wd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Em(e,t,i,r),n!==null&&(i=ae(),rn(n,e,r,i),Wm(n,t,r))}}function $m(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Vm(e,t){Hs=Ka=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fd(e,n)}}var Ja={readContext:qe,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},o1={readContext:qe,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Kh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,da(4194308,4,km.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=i1.bind(null,bt,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Qh,useDebugValue:Zd,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Qh(!1),t=e[0];return e=r1.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bt,i=fn();if(wt){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),zt===null)throw Error(I(349));Zr&30||Am(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Kh(Fm.bind(null,r,s,e),[e]),r.flags|=2048,fo(9,Om.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=fn(),t=zt.identifierPrefix;if(wt){var n=Pn,r=Un;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=n1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a1={readContext:qe,useCallback:Um,useContext:qe,useEffect:Xd,useImperativeHandle:Mm,useInsertionEffect:Bm,useLayoutEffect:Cm,useMemo:Pm,useReducer:Uu,useRef:xm,useState:function(){return Uu(co)},useDebugValue:Zd,useDeferredValue:function(e){var t=Ye();return zm(t,Bt.memoizedState,e)},useTransition:function(){var e=Uu(co)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Nm,useSyncExternalStore:Rm,useId:jm,unstable_isNewReconciler:!1},l1={readContext:qe,useCallback:Um,useContext:qe,useEffect:Xd,useImperativeHandle:Mm,useInsertionEffect:Bm,useLayoutEffect:Cm,useMemo:Pm,useReducer:Pu,useRef:xm,useState:function(){return Pu(co)},useDebugValue:Zd,useDeferredValue:function(e){var t=Ye();return Bt===null?t.memoizedState=e:zm(t,Bt.memoizedState,e)},useTransition:function(){var e=Pu(co)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Nm,useSyncExternalStore:Rm,useId:jm,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return(e=e._reactInternals)?ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ae(),i=wr(e),s=zn(r,i);s.payload=t,n!=null&&(s.callback=n),t=vr(e,s,i),t!==null&&(rn(t,e,i,r),ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ae(),i=wr(e),s=zn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vr(e,s,i),t!==null&&(rn(t,e,i,r),ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ae(),r=wr(e),i=zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=vr(e,i,r),t!==null&&(rn(t,e,r,n),ua(t,e,r))}};function Jh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(i,s):!0}function Hm(e,t,n){var r=!1,i=br,s=t.contextType;return typeof s=="object"&&s!==null?s=qe(s):(i=_e(t)?Jr:te.current,r=t.contextTypes,s=(r=r!=null)?Ji(e,i):br),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function kc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qe(s):(s=_e(t)?Jr:te.current,i.context=Ji(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Cc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ql.enqueueReplaceState(i,i.state,null),Ga(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",r=t;do n+=kw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u1=typeof WeakMap=="function"?WeakMap:Map;function qm(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,Yc=r),Mc(e,t)},n}function Ym(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mc(e,t),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Zh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new u1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=E1.bind(null,e,t,n),t.then(e,e))}function tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ep(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var c1=Hn.ReactCurrentOwner,ge=!1;function ie(e,t,n,r){t.child=e===null?Im(t,null,n,r):Zi(t,e.child,n,r)}function np(e,t,n,r,i){n=n.render;var s=t.ref;return Vi(t,i),r=Kd(e,t,n,r,s,i),n=Jd(),e!==null&&!ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(wt&&n&&Ud(t),t.flags|=1,ie(e,t,r,i),t.child)}function rp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!lf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Gm(e,t,s,r,i)):(e=ya(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&e.ref===t.ref)return Wn(e,t,i)}return t.flags|=1,e=Sr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ro(s,r)&&e.ref===t.ref)if(ge=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ge=!0);else return t.lanes=e.lanes,Wn(e,t,i)}return Uc(e,t,n,r,i)}function Qm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ci,Ne),Ne|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Ci,Ne),Ne|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pt(Ci,Ne),Ne|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,pt(Ci,Ne),Ne|=r;return ie(e,t,i,n),t.child}function Km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uc(e,t,n,r,i){var s=_e(n)?Jr:te.current;return s=Ji(t,s),Vi(t,i),n=Kd(e,t,n,r,s,i),r=Jd(),e!==null&&!ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(wt&&r&&Ud(t),t.flags|=1,ie(e,t,n,i),t.child)}function ip(e,t,n,r,i){if(_e(n)){var s=!0;Va(t)}else s=!1;if(Vi(t,i),t.stateNode===null)fa(e,t),Hm(t,n,r),kc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=_e(n)?Jr:te.current,u=Ji(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xh(t,o,r,u),ir=!1;var h=t.memoizedState;o.state=h,Ga(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ve.current||ir?(typeof c=="function"&&(Cc(t,n,c,r),l=t.memoizedState),(a=ir||Jh(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,bm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xe(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=_e(n)?Jr:te.current,l=Ji(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Xh(t,o,r,l),ir=!1,h=t.memoizedState,o.state=h,Ga(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||ve.current||ir?(typeof g=="function"&&(Cc(t,n,g,r),v=t.memoizedState),(u=ir||Jh(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pc(e,t,n,r,s,i)}function Pc(e,t,n,r,i,s){Km(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Vh(t,n,!1),Wn(e,t,s);r=t.stateNode,c1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zi(t,e.child,null,s),t.child=Zi(t,null,a,s)):ie(e,t,a,s),t.memoizedState=r.state,i&&Vh(t,n,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),qd(e,t.containerInfo)}function sp(e,t,n,r,i){return Xi(),zd(i),t.flags|=256,ie(e,t,n,r),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xm(e,t,n){var r=t.pendingProps,i=It.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pt(It,i&1),e===null)return xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xl(o,r,0,null),e=Gr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jc(n),t.memoizedState=zc,e):tf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return d1(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Sr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sr(a,s):(s=Gr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=zc,r}return s=e.child,e=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tf(e,t){return t=Xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qo(e,t,n,r){return r!==null&&zd(r),Zi(t,e.child,null,n),e=tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d1(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=zu(Error(I(422))),Qo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Xl({mode:"visible",children:r.children},i,0,null),s=Gr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zi(t,e.child,null,o),t.child.memoizedState=jc(o),t.memoizedState=zc,s);if(!(t.mode&1))return Qo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=zu(s,r,void 0),Qo(e,t,o,r)}if(a=(o&e.childLanes)!==0,ge||a){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(e,i),rn(r,e,i,-1))}return af(),r=zu(Error(I(421))),Qo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=b1.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ae=gr(i.nextSibling),Oe=t,wt=!0,en=null,e!==null&&(Me[Ue++]=Un,Me[Ue++]=Pn,Me[Ue++]=Xr,Un=e.id,Pn=e.overflow,Xr=t),t=tf(t,r.children),t.flags|=4096,t)}function op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bc(e.return,t,n)}function ju(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Zm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ie(e,t,r.children,n),r=It.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&op(e,n,t);else if(e.tag===19)op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pt(It,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ju(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ju(t,!0,n,null,s);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function f1(e,t,n){switch(t.tag){case 3:Jm(t),Xi();break;case 5:Tm(t);break;case 1:_e(t.type)&&Va(t);break;case 4:qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pt(qa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pt(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?Xm(e,t,n):(pt(It,It.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);pt(It,It.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Zm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(It,It.current),r)break;return null;case 22:case 23:return t.lanes=0,Qm(e,t,n)}return Wn(e,t,n)}var tg,$c,eg,ng;tg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$c=function(){};eg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vr(En.current);var s=null;switch(n){case"input":i=cc(e,i),r=cc(e,r),s=[];break;case"select":i=Tt({},i,{value:void 0}),r=Tt({},r,{value:void 0}),s=[];break;case"textarea":i=hc(e,i),r=hc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ja)}yc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ng=function(e,t,n,r){n!==r&&(t.flags|=4)};function bs(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function h1(e,t,n){var r=t.pendingProps;switch(Pd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return _e(t.type)&&$a(),Gt(t),null;case 3:return r=t.stateNode,ts(),mt(ve),mt(te),Gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Kc(en),en=null))),$c(e,t),Gt(t),null;case 5:Yd(t);var i=Vr(lo.current);if(n=t.type,e!==null&&t.stateNode!=null)eg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Gt(t),null}if(e=Vr(En.current),Yo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[yn]=t,r[oo]=s,e=(t.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(i=0;i<Ds.length;i++)yt(Ds[i],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":yh(r,s),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yt("invalid",r);break;case"textarea":gh(r,s),yt("invalid",r)}yc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qo(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qo(r.textContent,a,e),i=["children",""+a]):Ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yt("scroll",r)}switch(n){case"input":Uo(r),mh(r,s,!0);break;case"textarea":Uo(r),vh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ja)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yn]=t,e[oo]=r,tg(e,t,!1,!1),t.stateNode=e;t:{switch(o=mc(n,r),n){case"dialog":yt("cancel",e),yt("close",e),i=r;break;case"iframe":case"object":case"embed":yt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ds.length;i++)yt(Ds[i],e);i=r;break;case"source":yt("error",e),i=r;break;case"img":case"image":case"link":yt("error",e),yt("load",e),i=r;break;case"details":yt("toggle",e),i=r;break;case"input":yh(e,r),i=cc(e,r),yt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Tt({},r,{value:void 0}),yt("invalid",e);break;case"textarea":gh(e,r),i=hc(e,r),yt("invalid",e);break;default:i=r}yc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Js(e,l):typeof l=="number"&&Js(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yt("scroll",e):l!=null&&bd(e,s,l,o))}switch(n){case"input":Uo(e),mh(e,r,!1);break;case"textarea":Uo(e),vh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Er(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Pi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ja)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)ng(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Vr(lo.current),Vr(En.current),Yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(s=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return Gt(t),null;case 13:if(mt(It),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Ae!==null&&t.mode&1&&!(t.flags&128))wm(),Xi(),t.flags|=98560,s=!1;else if(s=Yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[yn]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),s=!1}else en!==null&&(Kc(en),en=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?Mt===0&&(Mt=3):af())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return ts(),$c(e,t),e===null&&io(t.stateNode.containerInfo),Gt(t),null;case 10:return Vd(t.type._context),Gt(t),null;case 17:return _e(t.type)&&$a(),Gt(t),null;case 19:if(mt(It),s=t.memoizedState,s===null)return Gt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)bs(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qa(e),o!==null){for(t.flags|=128,bs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pt(It,It.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ft()>ns&&(t.flags|=128,r=!0,bs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return Gt(t),null}else 2*Ft()-s.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,bs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ft(),t.sibling=null,n=It.current,pt(It,r?n&1|2:n&1),t):(Gt(t),null);case 22:case 23:return of(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ne&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function p1(e,t){switch(Pd(t),t.tag){case 1:return _e(t.type)&&$a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),mt(ve),mt(te),Gd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yd(t),null;case 13:if(mt(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(It),null;case 4:return ts(),null;case 10:return Vd(t.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Ko=!1,Qt=!1,y1=typeof WeakSet=="function"?WeakSet:Set,O=null;function Bi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(e,t,r)}else n.current=null}function Vc(e,t,n){try{n()}catch(r){Rt(e,t,r)}}var ap=!1;function m1(e,t){if(Nc=Ua,e=am(),Md(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;e:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break e;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rc={focusedElem:e,selectionRange:n},Ua=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,F=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Xe(t.type,_),F);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){Rt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=ap,ap=!1,v}function qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vc(t,n,s)}i=i.next}while(i!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[oo],delete t[Fc],delete t[XS],delete t[ZS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ig(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}var Vt=null,Ze=!1;function Zn(e,t,n){for(n=n.child;n!==null;)sg(e,t,n),n=n.sibling}function sg(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount($l,n)}catch{}switch(n.tag){case 5:Qt||Bi(n,t);case 6:var r=Vt,i=Ze;Vt=null,Zn(e,t,n),Vt=r,Ze=i,Vt!==null&&(Ze?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Ze?(e=Vt,n=n.stateNode,e.nodeType===8?Bu(e.parentNode,n):e.nodeType===1&&Bu(e,n),eo(e)):Bu(Vt,n.stateNode));break;case 4:r=Vt,i=Ze,Vt=n.stateNode.containerInfo,Ze=!0,Zn(e,t,n),Vt=r,Ze=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vc(n,t,o),i=i.next}while(i!==r)}Zn(e,t,n);break;case 1:if(!Qt&&(Bi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,t,a)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Zn(e,t,n),Qt=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new y1),t.forEach(function(r){var i=T1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,Ze=!1;break t;case 3:Vt=a.stateNode.containerInfo,Ze=!0;break t;case 4:Vt=a.stateNode.containerInfo,Ze=!0;break t}a=a.return}if(Vt===null)throw Error(I(160));sg(s,o,i),Vt=null,Ze=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Rt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)og(t,e),t=t.sibling}function og(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),cn(e),r&4){try{qs(3,e,e.return),Kl(3,e)}catch(_){Rt(e,e.return,_)}try{qs(5,e,e.return)}catch(_){Rt(e,e.return,_)}}break;case 1:Je(t,e),cn(e),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(Je(t,e),cn(e),r&512&&n!==null&&Bi(n,n.return),e.flags&32){var i=e.stateNode;try{Js(i,"")}catch(_){Rt(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ay(i,s),mc(a,o);var u=mc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?xy(i,d):c==="dangerouslySetInnerHTML"?Dy(i,d):c==="children"?Js(i,d):bd(i,c,d,u)}switch(a){case"input":dc(i,s);break;case"textarea":Oy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Pi(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Pi(i,!!s.multiple,s.defaultValue,!0):Pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(_){Rt(e,e.return,_)}}break;case 6:if(Je(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Rt(e,e.return,_)}}break;case 3:if(Je(t,e),cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(_){Rt(e,e.return,_)}break;case 4:Je(t,e),cn(e);break;case 13:Je(t,e),cn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rf=Ft())),r&4&&up(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||c,Je(t,e),Qt=u):Je(t,e),cn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(h=O,g=h.child,h.tag){case 0:case 11:case 14:case 15:qs(4,h,h.return);break;case 1:Bi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){Rt(r,n,_)}}break;case 5:Bi(h,h.return);break;case 22:if(h.memoizedState!==null){dp(d);continue}}g!==null?(g.return=h,O=g):dp(d)}c=c.sibling}t:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ly("display",o))}catch(_){Rt(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Rt(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(t,e),cn(e),r&4&&up(e);break;case 21:break;default:Je(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(ig(n)){var r=n;break t}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Js(i,""),r.flags&=-33);var s=lp(e);qc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lp(e);Hc(e,a,o);break;default:throw Error(I(161))}}catch(l){Rt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g1(e,t,n){O=e,ag(e)}function ag(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ko;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Ko;var u=Qt;if(Ko=o,(Qt=l)&&!u)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?fp(i):l!==null?(l.return=o,O=l):fp(i);for(;s!==null;)O=s,ag(s),s=s.sibling;O=i,Ko=a,Qt=u}cp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):cp(e)}}function cp(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Qt||t.flags&512&&Wc(t)}catch(h){Rt(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function dp(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function fp(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(l){Rt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Rt(t,i,l)}}var s=t.return;try{Wc(t)}catch(l){Rt(t,s,l)}break;case 5:var o=t.return;try{Wc(t)}catch(l){Rt(t,o,l)}}}catch(l){Rt(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var v1=Math.ceil,Xa=Hn.ReactCurrentDispatcher,ef=Hn.ReactCurrentOwner,Ve=Hn.ReactCurrentBatchConfig,nt=0,zt=null,Lt=null,Wt=0,Ne=0,Ci=Br(0),Mt=0,ho=null,ti=0,Jl=0,nf=0,Ys=null,pe=null,rf=0,ns=1/0,Dn=null,Za=!1,Yc=null,_r=null,Jo=!1,fr=null,tl=0,Gs=0,Gc=null,ha=-1,pa=0;function ae(){return nt&6?Ft():ha!==-1?ha:ha=Ft()}function wr(e){return e.mode&1?nt&2&&Wt!==0?Wt&-Wt:e1.transition!==null?(pa===0&&(pa=Hy()),pa):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Xy(e.type)),e):1}function rn(e,t,n,r){if(50<Gs)throw Gs=0,Gc=null,Error(I(185));To(e,n,r),(!(nt&2)||e!==zt)&&(e===zt&&(!(nt&2)&&(Jl|=n),Mt===4&&ur(e,Wt)),we(e,r),n===1&&nt===0&&!(t.mode&1)&&(ns=Ft()+500,Yl&&Cr()))}function we(e,t){var n=e.callbackNode;eS(e,t);var r=Ma(e,e===zt?Wt:0);if(r===0)n!==null&&Sh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sh(n),t===1)e.tag===0?t1(hp.bind(null,e)):gm(hp.bind(null,e)),KS(function(){!(nt&6)&&Cr()}),n=null;else{switch(qy(r)){case 1:n=Od;break;case 4:n=Vy;break;case 16:n=ka;break;case 536870912:n=Wy;break;default:n=ka}n=yg(n,lg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lg(e,t){if(ha=-1,pa=0,nt&6)throw Error(I(327));var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var r=Ma(e,e===zt?Wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=el(e,r);else{t=r;var i=nt;nt|=2;var s=cg();(zt!==e||Wt!==t)&&(Dn=null,ns=Ft()+500,Yr(e,t));do try{S1();break}catch(a){ug(e,a)}while(!0);$d(),Xa.current=s,nt=i,Lt!==null?t=0:(zt=null,Wt=0,t=Mt)}if(t!==0){if(t===2&&(i=Sc(e),i!==0&&(r=i,t=Qc(e,i))),t===1)throw n=ho,Yr(e,0),ur(e,r),we(e,Ft()),n;if(t===6)ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!_1(i)&&(t=el(e,r),t===2&&(s=Sc(e),s!==0&&(r=s,t=Qc(e,s))),t===1))throw n=ho,Yr(e,0),ur(e,r),we(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Pr(e,pe,Dn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=rf+500-Ft(),10<t)){if(Ma(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ae(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Oc(Pr.bind(null,e,pe,Dn),t);break}Pr(e,pe,Dn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*v1(r/1960))-r,10<r){e.timeoutHandle=Oc(Pr.bind(null,e,pe,Dn),r);break}Pr(e,pe,Dn);break;case 5:Pr(e,pe,Dn);break;default:throw Error(I(329))}}}return we(e,Ft()),e.callbackNode===n?lg.bind(null,e):null}function Qc(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=el(e,t),e!==2&&(t=pe,pe=n,t!==null&&Kc(t)),e}function Kc(e){pe===null?pe=e:pe.push.apply(pe,e)}function _1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~nf,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function hp(e){if(nt&6)throw Error(I(327));Wi();var t=Ma(e,0);if(!(t&1))return we(e,Ft()),null;var n=el(e,t);if(e.tag!==0&&n===2){var r=Sc(e);r!==0&&(t=r,n=Qc(e,r))}if(n===1)throw n=ho,Yr(e,0),ur(e,t),we(e,Ft()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,pe,Dn),we(e,Ft()),null}function sf(e,t){var n=nt;nt|=1;try{return e(t)}finally{nt=n,nt===0&&(ns=Ft()+500,Yl&&Cr())}}function ei(e){fr!==null&&fr.tag===0&&!(nt&6)&&Wi();var t=nt;nt|=1;var n=Ve.transition,r=dt;try{if(Ve.transition=null,dt=1,e)return e()}finally{dt=r,Ve.transition=n,nt=t,!(nt&6)&&Cr()}}function of(){Ne=Ci.current,mt(Ci)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QS(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(Pd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$a();break;case 3:ts(),mt(ve),mt(te),Gd();break;case 5:Yd(r);break;case 4:ts();break;case 13:mt(It);break;case 19:mt(It);break;case 10:Vd(r.type._context);break;case 22:case 23:of()}n=n.return}if(zt=e,Lt=e=Sr(e.current,null),Wt=Ne=t,Mt=0,ho=null,nf=Jl=ti=0,pe=Ys=null,$r!==null){for(t=0;t<$r.length;t++)if(n=$r[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$r=null}return e}function ug(e,t){do{var n=Lt;try{if($d(),ca.current=Ja,Ka){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ka=!1}if(Zr=0,Pt=Bt=bt=null,Hs=!1,uo=0,ef.current=null,n===null||n.return===null){Mt=1,ho=t,Lt=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=tp(o);if(g!==null){g.flags&=-257,ep(g,o,a,s,t),g.mode&1&&Zh(s,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break t}else{if(!(t&1)){Zh(s,u,t),af();break t}l=Error(I(426))}}else if(wt&&a.mode&1){var F=tp(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),ep(F,o,a,s,t),zd(es(l,a));break t}}s=l=es(l,a),Mt!==4&&(Mt=2),Ys===null?Ys=[s]:Ys.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=qm(s,l,t);Yh(s,m);break t;case 1:a=l;var f=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_r===null||!_r.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Ym(s,a,t);Yh(s,w);break t}}s=s.return}while(s!==null)}fg(n)}catch(E){t=E,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function cg(){var e=Xa.current;return Xa.current=Ja,e===null?Ja:e}function af(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(ti&268435455)&&!(Jl&268435455)||ur(zt,Wt)}function el(e,t){var n=nt;nt|=2;var r=cg();(zt!==e||Wt!==t)&&(Dn=null,Yr(e,t));do try{w1();break}catch(i){ug(e,i)}while(!0);if($d(),nt=n,Xa.current=r,Lt!==null)throw Error(I(261));return zt=null,Wt=0,Mt}function w1(){for(;Lt!==null;)dg(Lt)}function S1(){for(;Lt!==null&&!qw();)dg(Lt)}function dg(e){var t=pg(e.alternate,e,Ne);e.memoizedProps=e.pendingProps,t===null?fg(e):Lt=t,ef.current=null}function fg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=p1(n,t),n!==null){n.flags&=32767,Lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Lt=null;return}}else if(n=h1(n,t,Ne),n!==null){Lt=n;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Pr(e,t,n){var r=dt,i=Ve.transition;try{Ve.transition=null,dt=1,I1(e,t,n,r)}finally{Ve.transition=i,dt=r}return null}function I1(e,t,n,r){do Wi();while(fr!==null);if(nt&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(nS(e,s),e===zt&&(Lt=zt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,yg(ka,function(){return Wi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ve.transition,Ve.transition=null;var o=dt;dt=1;var a=nt;nt|=4,ef.current=null,m1(e,n),og(n,e),$S(Rc),Ua=!!Nc,Rc=Nc=null,e.current=n,g1(n),Yw(),nt=a,dt=o,Ve.transition=s}else e.current=n;if(Jo&&(Jo=!1,fr=e,tl=i),s=e.pendingLanes,s===0&&(_r=null),Kw(n.stateNode),we(e,Ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Za)throw Za=!1,e=Yc,Yc=null,e;return tl&1&&e.tag!==0&&Wi(),s=e.pendingLanes,s&1?e===Gc?Gs++:(Gs=0,Gc=e):Gs=0,Cr(),null}function Wi(){if(fr!==null){var e=qy(tl),t=Ve.transition,n=dt;try{if(Ve.transition=null,dt=16>e?16:e,fr===null)var r=!1;else{if(e=fr,fr=null,tl=0,nt&6)throw Error(I(331));var i=nt;for(nt|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:qs(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var h=c.sibling,g=c.return;if(rg(c),c===u){O=null;break}if(h!==null){h.return=g,O=h;break}O=g}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var F=_.sibling;_.sibling=null,_=F}while(_!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else t:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break t}O=s.return}}var f=e.current;for(O=f;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else t:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kl(9,a)}}catch(E){Rt(a,a.return,E)}if(a===o){O=null;break t}var w=a.sibling;if(w!==null){w.return=a.return,O=w;break t}O=a.return}}if(nt=i,Cr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot($l,e)}catch{}r=!0}return r}finally{dt=n,Ve.transition=t}}return!1}function pp(e,t,n){t=es(n,t),t=qm(e,t,1),e=vr(e,t,1),t=ae(),e!==null&&(To(e,1,t),we(e,t))}function Rt(e,t,n){if(e.tag===3)pp(e,e,n);else for(;t!==null;){if(t.tag===3){pp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){e=es(n,e),e=Ym(t,e,1),t=vr(t,e,1),e=ae(),t!==null&&(To(t,1,e),we(t,e));break}}t=t.return}}function E1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ae(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Wt&n)===n&&(Mt===4||Mt===3&&(Wt&130023424)===Wt&&500>Ft()-rf?Yr(e,0):nf|=n),we(e,t)}function hg(e,t){t===0&&(e.mode&1?(t=jo,jo<<=1,!(jo&130023424)&&(jo=4194304)):t=1);var n=ae();e=Vn(e,t),e!==null&&(To(e,t,n),we(e,n))}function b1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hg(e,n)}function T1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),hg(e,n)}var pg;pg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ve.current)ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ge=!1,f1(e,t,n);ge=!!(e.flags&131072)}else ge=!1,wt&&t.flags&1048576&&vm(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var i=Ji(t,te.current);Vi(t,n),i=Kd(null,t,r,e,i,n);var s=Jd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(s=!0,Va(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(t),i.updater=Ql,t.stateNode=i,i._reactInternals=t,kc(t,r,e,n),t=Pc(null,t,r,!0,s,n)):(t.tag=0,wt&&s&&Ud(t),ie(null,t,i,n),t=t.child),t;case 16:r=t.elementType;t:{switch(fa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=R1(r),e=Xe(r,e),i){case 0:t=Uc(null,t,r,e,n);break t;case 1:t=ip(null,t,r,e,n);break t;case 11:t=np(null,t,r,e,n);break t;case 14:t=rp(null,t,r,Xe(r.type,e),n);break t}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),Uc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),ip(e,t,r,i,n);case 3:t:{if(Jm(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,bm(e,t),Ga(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=es(Error(I(423)),t),t=sp(e,t,r,n,i);break t}else if(r!==i){i=es(Error(I(424)),t),t=sp(e,t,r,n,i);break t}else for(Ae=gr(t.stateNode.containerInfo.firstChild),Oe=t,wt=!0,en=null,n=Im(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===i){t=Wn(e,t,n);break t}ie(e,t,r,n)}t=t.child}return t;case 5:return Tm(t),e===null&&xc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ac(r,i)?o=null:s!==null&&Ac(r,s)&&(t.flags|=32),Km(e,t),ie(e,t,o,n),t.child;case 6:return e===null&&xc(t),null;case 13:return Xm(e,t,n);case 4:return qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zi(t,null,r,n):ie(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),np(e,t,r,i,n);case 7:return ie(e,t,t.pendingProps,n),t.child;case 8:return ie(e,t,t.pendingProps.children,n),t.child;case 12:return ie(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,pt(qa,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!ve.current){t=Wn(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ie(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vi(t,n),i=qe(i),r=r(i),t.flags|=1,ie(e,t,r,n),t.child;case 14:return r=t.type,i=Xe(r,t.pendingProps),i=Xe(r.type,i),rp(e,t,r,i,n);case 15:return Gm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xe(r,i),fa(e,t),t.tag=1,_e(r)?(e=!0,Va(t)):e=!1,Vi(t,n),Hm(t,r,i),kc(t,r,i,n),Pc(null,t,r,!0,e,n);case 19:return Zm(e,t,n);case 22:return Qm(e,t,n)}throw Error(I(156,t.tag))};function yg(e,t){return $y(e,t)}function N1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new N1(e,t,n,r)}function lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R1(e){if(typeof e=="function")return lf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nd)return 11;if(e===Rd)return 14}return 2}function Sr(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ya(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")lf(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Ti:return Gr(n.children,i,s,t);case Td:o=8,i|=8;break;case oc:return e=$e(12,n,t,i|2),e.elementType=oc,e.lanes=s,e;case ac:return e=$e(13,n,t,i),e.elementType=ac,e.lanes=s,e;case lc:return e=$e(19,n,t,i),e.elementType=lc,e.lanes=s,e;case Ty:return Xl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ey:o=10;break t;case by:o=9;break t;case Nd:o=11;break t;case Rd:o=14;break t;case rr:o=16,r=null;break t}throw Error(I(130,e==null?e:typeof e,""))}return t=$e(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Gr(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Xl(e,t,n,r){return e=$e(22,e,r,t),e.elementType=Ty,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Vu(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eu(0),this.expirationTimes=Eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uf(e,t,n,r,i,s,o,a,l){return e=new A1(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$e(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(s),e}function O1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mg(e){if(!e)return br;e=e._reactInternals;t:{if(ai(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(_e(n))return mm(e,n,t)}return t}function gg(e,t,n,r,i,s,o,a,l){return e=uf(n,r,!0,e,i,s,o,a,l),e.context=mg(null),n=e.current,r=ae(),i=wr(n),s=zn(r,i),s.callback=t??null,vr(n,s,i),e.current.lanes=i,To(e,i,r),we(e,r),e}function Zl(e,t,n,r){var i=t.current,s=ae(),o=wr(i);return n=mg(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vr(i,t,o),e!==null&&(rn(e,i,o,s),ua(e,i,o)),o}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function F1(){return null}var vg=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}tu.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Zl(e,t,null,null)};tu.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ei(function(){Zl(null,e,null,null)}),t[$n]=null}};function tu(e){this._internalRoot=e}tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&Jy(e)}};function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mp(){}function D1(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=nl(o);s.call(u)}}var o=gg(t,r,e,0,null,!1,!1,"",mp);return e._reactRootContainer=o,e[$n]=o.current,io(e.nodeType===8?e.parentNode:e),ei(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=nl(l);a.call(u)}}var l=uf(e,0,!1,null,null,!1,!1,"",mp);return e._reactRootContainer=l,e[$n]=l.current,io(e.nodeType===8?e.parentNode:e),ei(function(){Zl(t,l,n,r)}),l}function nu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=nl(o);a.call(l)}}Zl(t,o,e,i)}else o=D1(n,t,e,i,r);return nl(o)}Yy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Fd(t,n|1),we(t,Ft()),!(nt&6)&&(ns=Ft()+500,Cr()))}break;case 13:ei(function(){var r=Vn(e,1);if(r!==null){var i=ae();rn(r,e,1,i)}}),cf(e,1)}};Dd=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=ae();rn(t,e,134217728,n)}cf(e,134217728)}};Gy=function(e){if(e.tag===13){var t=wr(e),n=Vn(e,t);if(n!==null){var r=ae();rn(n,e,t,r)}cf(e,t)}};Qy=function(){return dt};Ky=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};vc=function(e,t,n){switch(t){case"input":if(dc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ql(r);if(!i)throw Error(I(90));Ry(r),dc(r,i)}}}break;case"textarea":Oy(e,n);break;case"select":t=n.value,t!=null&&Pi(e,!!n.multiple,t,!1)}};ky=sf;My=ei;var L1={usingClientEntryPoint:!1,Events:[Ro,Oi,ql,By,Cy,sf]},Ts={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x1={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||F1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{$l=Xo.inject(x1),In=Xo}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(t))throw Error(I(200));return O1(e,t,null,n)};Le.createRoot=function(e,t){if(!ff(e))throw Error(I(299));var n=!1,r="",i=vg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uf(e,1,!1,null,null,n,!1,r,i),e[$n]=t.current,io(e.nodeType===8?e.parentNode:e),new df(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=zy(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return ei(e)};Le.hydrate=function(e,t,n){if(!eu(t))throw Error(I(200));return nu(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!ff(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gg(t,null,e,1,n??null,i,!1,s,o),e[$n]=t.current,io(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tu(t)};Le.render=function(e,t,n){if(!eu(t))throw Error(I(200));return nu(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!eu(e))throw Error(I(40));return e._reactRootContainer?(ei(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};Le.unstable_batchedUpdates=sf;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eu(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return nu(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function _g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_g)}catch(e){console.error(e)}}_g(),_y.exports=Le;var B1=_y.exports,gp=B1;ic.createRoot=gp.createRoot,ic.hydrateRoot=gp.hydrateRoot;const C1="modulepreload",k1=function(e){return"/anytable/"+e},vp={},_p=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=k1(l),l in vp)return;vp[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":C1,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function M1(e){const t=e.toUpperCase();return/^(TINYINT|SMALLINT|INTEGER|INT|BIGINT|HUGEINT|UTINYINT|USMALLINT|UINTEGER|UBIGINT)$/.test(t)||/^(FLOAT|REAL|DOUBLE|DECIMAL|NUMERIC)/.test(t)?"numeric":/^(DATE|TIME|TIMESTAMP|TIMESTAMPTZ|TIMESTAMP WITH TIME ZONE|TIMESTAMP_S|TIMESTAMP_MS|TIMESTAMP_NS|INTERVAL)/.test(t)?"temporal":t==="BOOLEAN"||t==="BOOL"?"boolean":t==="BLOB"||t==="BYTEA"?"binary":t==="UUID"?"identifier":t.startsWith("ENUM")?"enum":/^(LIST|ARRAY)/.test(t)||/^(STRUCT|ROW)/.test(t)||/^(MAP)/.test(t)||/^(UNION)/.test(t)||t==="JSON"||t==="JSONB"?"complex":/^(GEOMETRY|GEOGRAPHY|POINT|LINESTRING|POLYGON)/.test(t)?"geo":/^(VARCHAR|TEXT|CHAR|STRING|NAME|BPCHAR)/.test(t)?"text":"unknown"}function U1(e){switch(e.sqlType.toUpperCase()){case"BIGINT":case"HUGEINT":case"UBIGINT":return{column:e.name,castTo:"TEXT"};case"INTERVAL":case"TIME":return{column:e.name,castTo:"TEXT"};case"JSON":case"JSONB":return{column:e.name,castTo:"TEXT"};default:return e.typeCategory==="complex"?{column:e.name,castTo:"TEXT"}:{column:e.name,castTo:null}}}function P1(e,t){if(e==null)return null;switch(t.typeCategory){case"numeric":{const n=t.sqlType.toUpperCase();return n==="BIGINT"||n==="HUGEINT"||n==="UBIGINT"?{display:String(e),sortValue:BigInt(e)}:e}case"temporal":{const n=t.sqlType.toUpperCase();return n==="DATE"?new Date(e):n.startsWith("TIMESTAMP")?new Date(e):e}case"complex":{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}default:return e}}function Wu(e,t,n,r){return typeof e=="number"?e:e==="auto"?-1:e.endsWith("px")?parseFloat(e):e.endsWith("%")?parseFloat(e)/100*t:e.endsWith("rem")?parseFloat(e)*n:e.endsWith("em")?parseFloat(e)*r:parseFloat(e)}var z1="1.25rem",j1=3,$1="0.5rem";function V1(e,t){const n=(e==null?void 0:e.lineHeight)??z1,r=(e==null?void 0:e.numLines)??j1,i=(e==null?void 0:e.padding)??$1,s=wp(n,t),o=wp(i,t);return r*s+o}function wp(e,t){return e.endsWith("rem")?parseFloat(e)*t:e.endsWith("px")?parseFloat(e):e.endsWith("em")?parseFloat(e)*t:parseFloat(e)}var W1=class{constructor(){Xn(this,"rows",new Map);Xn(this,"_totalRows",0)}get totalRows(){return this._totalRows}setTotalRows(e){this._totalRows=e}getTotalRows(){return this._totalRows}mergeRows(e,t){for(let n=0;n<t.length;n++)this.rows.set(e+n,t[n])}getRow(e){return this.rows.get(e)??null}hasRow(e){return this.rows.has(e)}evict(e,t){for(const n of this.rows.keys())(n<e||n>t)&&this.rows.delete(n)}clear(){this.rows.clear()}get size(){return this.rows.size}},H1=3.75;function q1(e){const{columns:t,containerWidth:n,rootFontSize:r,tableFontSize:i,rowHeightConfig:s}=e,o=H1*r,a=V1(s,r),l=t.map(f=>{const y=f.minWidth?Wu(f.minWidth,n,r,i):o,w=f.maxWidth?Wu(f.maxWidth,n,r,i):1/0;let E=null;return f.width!=null&&(E=Wu(f.width,n,r,i),E===-1&&(E=null)),{key:f.key,flex:f.flex??(E==null?1:0),fixedPx:E,minPx:y,maxPx:w}}),u=l.filter(f=>f.fixedPx!=null&&f.flex===0),c=l.filter(f=>f.fixedPx==null||f.flex>0);let d=0;const h=new Map;for(const f of u){const y=Math.max(f.minPx,Math.min(f.maxPx,f.fixedPx));h.set(f.key,y),d+=y}let g=Math.max(0,n-d),v=[...c];for(let f=0;f<3&&v.length>0;f++){const y=v.reduce((b,N)=>b+N.flex,0);if(y===0)break;const w=[],E=[];let T=0;for(const b of v){const N=b.flex/y*g,L=Math.max(b.minPx,Math.min(b.maxPx,N));L!==N?(h.set(b.key,L),T+=L,w.push(b)):E.push(b)}if(w.length===0){for(const b of v)h.set(b.key,b.flex/y*g);break}if(g-=T,v=E,f===2||E.length===0){const b=E.reduce((N,L)=>N+L.flex,0);for(const N of E){const L=b>0?N.flex/b*g:g/E.length;h.set(N.key,Math.max(N.minPx,L))}}}let _=0;const F=t.map(f=>{const y=h.get(f.key)??o,w={key:f.key,width:Math.round(y),offset:Math.round(_),region:"center"};return _+=y,w}),m=Math.round(_);return{resolved:F,totalWidth:m,pinnedLeftWidth:0,pinnedRightWidth:0,scrollableWidth:m,rowHeight:Math.round(a)}}var wg=5,Y1=3,G1=.3;function Sg(e){const{scrollTop:t,viewportHeight:n,rowHeight:r,totalRows:i}=e;if(r<=0||i<=0)return{start:0,end:0};const s=Math.max(0,Math.floor(t/r)),o=Math.min(i,Math.ceil((t+n)/r));return{start:s,end:o}}function Q1(e,t=wg){const n=Sg(e);return{start:Math.max(0,n.start-t),end:Math.min(e.totalRows,n.end+t)}}function K1(e,t,n=wg){const r=Q1(e,n),s=(Math.ceil(e.viewportHeight/e.rowHeight)||1)*Y1;if(!t)return{offset:Math.max(0,r.start-Math.floor(s/4)),limit:s};const o=t.offset+t.limit,a=Math.ceil(s*G1),l=r.start-t.offset<a,u=o-r.end<a;if(!l&&!u)return null;const c=Math.floor((r.start+r.end)/2);return{offset:Math.max(0,c-Math.floor(s/2)),limit:s}}function Ig(e,t){return e*t}async function J1(e,t,n){return(await n(e,[{table:t,column:"*"}])).map(i=>({name:i.column,sqlType:i.sqlType,typeCategory:M1(i.sqlType)}))}function X1(e,t,n,r,i){const s=new e(i);return s.query=o=>t.from(r.tableName).select({count:n()}).where(o),s.queryResult=o=>{const l=o.toArray()[0],u=Number((l==null?void 0:l.count)??0);return r.onResult(u),s},s}function Z1(e){return e==null?null:Array.isArray(e)?e:[e]}function tI(e,t,n,r){const{Query:i,column:s,cast:o,row_number:a,desc:l}=t,u=new Map;for(const v of n.columns)u.set(v.name,v);let c=null,d=0,h=100;const g=new e(r);return Object.defineProperty(g,"sort",{get:()=>c,set:v=>{c=v},enumerable:!0,configurable:!0}),g.query=v=>{const _={};for(const y of n.columns){const w=U1(y);w.castTo?_[y.name]=o(s(y.name),w.castTo):_[y.name]=s(y.name)}const F=Z1(c);let m=a();if(F&&F.length>0){const y=F.map(w=>w.desc?l(s(w.column)):s(w.column));m=a().orderby(...y)}_.__oid=m;let f=i.from(n.tableName).select(_).where(v);return F&&F.length>0&&(f=f.orderby(...F.map(y=>y.desc?l(s(y.column)):s(y.column)))),f.limit(h).offset(d)},g.queryResult=v=>{const _=v.toArray(),F=[];for(const m of _){const f={},y=m;for(const w of n.columns)f[w.name]=P1(y[w.name],w);f.__oid=Number(y.__oid),F.push(f)}return n.onResult(F,d),g},g.fetchWindow=(v,_)=>{d=v,h=_},g}var Eg=A.createContext({coordinator:null});function eI(){return A.useContext(Eg).coordinator}function nI({coordinator:e,children:t}){const n=e??null;return B.jsx(Eg.Provider,{value:{coordinator:n},children:t})}var bg=A.createContext(null);function Tg(){const e=A.useContext(bg);if(!e)throw new Error("useDataContext must be used within Table.Root");return e}var Ng=A.createContext(null);function Oo(){const e=A.useContext(Ng);if(!e)throw new Error("useLayoutContext must be used within Table.Root");return e}var Rg=A.createContext(null);function Ag(){return A.useContext(Rg)}var Og=A.createContext(null);function Fg(){return A.useContext(Og)}function rI(e){const[t,n]=A.useState({width:0,height:0,rootFontSize:16,tableFontSize:16});return A.useEffect(()=>{const r=e.current;if(!r)return;const i=()=>{const o=r.getBoundingClientRect(),a=parseFloat(getComputedStyle(document.documentElement).fontSize),l=parseFloat(getComputedStyle(r).fontSize);n(u=>u.width===o.width&&u.height===o.height&&u.rootFontSize===a&&u.tableFontSize===l?u:{width:o.width,height:o.height,rootFontSize:a,tableFontSize:l})};i();const s=new ResizeObserver(i);return s.observe(r),()=>s.disconnect()},[e]),t}function iI(e){const{table:t,rows:n,filter:r}=e,i=eI(),s=e.columns.join(","),o=A.useMemo(()=>e.columns,[s]),[a,l]=A.useState(0),[u,c]=A.useState([]),[d,h]=A.useState(!0),[g,v]=A.useState(null),_=A.useRef(new W1),F=A.useRef(null),m=A.useRef(null),f=A.useRef(!1),y=n!=null;A.useEffect(()=>{if(!y)return;const L=o.map(et=>({name:et,sqlType:"VARCHAR",typeCategory:"text"}));c(L);const x=_.current;x.clear(),x.setTotalRows(n.length),x.mergeRows(0,n),h(!1),l(et=>et+1)},[y,n,o]),A.useEffect(()=>{if(y||!t||!i)return;let L=!1;f.current=!1,h(!0);async function x(){try{const[et,ne]=await Promise.all([_p(()=>import("./index-B0x0HnJ1.js"),__vite__mapDeps([0,1])),_p(()=>import("./index-BlmdFGXB.js"),__vite__mapDeps([2,1]))]);if(L)return;const{MosaicClient:Ee,queryFieldInfo:at}=et,{Query:$t,column:qt,cast:re,row_number:R,desc:q,count:G}=ne,vt=await J1(i,t,at);if(L)return;const Ot=o.length>0?vt.filter(be=>o.includes(be.name)):vt;c(Ot);const Kn=_.current;Kn.clear();const un=X1(Ee,$t,G,{tableName:t,onResult:be=>{Kn.setTotalRows(be),l(Jn=>Jn+1)}},r);m.current=un;const ui=tI(Ee,{Query:$t,column:qt,cast:re,row_number:R,desc:q},{tableName:t,columns:Ot,onResult:(be,Jn)=>{Kn.mergeRows(Jn,be),h(!1),l(iw=>iw+1)}},r);F.current=ui,await i.connect(un),await i.connect(ui),L||(f.current=!0)}catch(et){L||(console.error("[any_table] Failed to initialize data:",et),h(!1))}}return x(),()=>{L=!0,f.current=!1,F.current&&i&&i.disconnect(F.current),m.current&&i&&i.disconnect(m.current)}},[y,t,i,r,o]);const w=A.useCallback(L=>{if(v(L),y){if(!n)return;const x=_.current;x.clear();let et=[...n];if(L){const ne=Array.isArray(L)?L:[L];et.sort((Ee,at)=>{for(const $t of ne){const qt=Ee[$t.column],re=at[$t.column];if(qt!=null&&re!=null&&qt<re)return $t.desc?1:-1;if(qt!=null&&re!=null&&qt>re)return $t.desc?-1:1}return 0})}x.setTotalRows(et.length),x.mergeRows(0,et),l(ne=>ne+1)}else{const x=F.current;x&&f.current&&(x.sort=L,_.current.clear(),l(et=>et+1),x.requestUpdate())}},[y,n]),E=A.useCallback((L,x)=>{const et=F.current;et&&f.current&&(et.fetchWindow(L,x),et.requestUpdate())},[]),T=_.current,b=A.useCallback(L=>T.getRow(L),[T]),N=A.useCallback(L=>T.hasRow(L),[T]);return A.useMemo(()=>({getRow:b,hasRow:N,totalRows:T.totalRows,schema:u,isLoading:d,setWindow:E,sort:g,setSort:w}),[b,N,a,u,d,E,g,w])}function sI(e){const{columns:t,containerRef:n,rowHeightConfig:r}=e,{width:i,rootFontSize:s,tableFontSize:o}=rI(n);return A.useMemo(()=>{if(i===0)return{resolved:[],totalWidth:0,pinnedLeftWidth:0,pinnedRightWidth:0,scrollableWidth:0,rowHeight:0,getWidth:()=>0,getOffset:()=>0};const a=q1({columns:t,containerWidth:i,rootFontSize:s,tableFontSize:o,rowHeightConfig:r}),l=new Map,u=new Map;for(const c of a.resolved)l.set(c.key,c.width),u.set(c.key,c.offset);return{...a,getWidth:c=>l.get(c)??0,getOffset:c=>u.get(c)??0}},[t,i,s,o,r])}function oI(e){const{data:t,layout:n,overscan:r=5,containerRef:i}=e,{totalRows:s,setWindow:o}=t,{rowHeight:a,totalWidth:l}=n,u=A.useRef(0),c=A.useRef(0),d=A.useRef(null),h=A.useRef(null),g=A.useRef(null),[v,_]=A.useState({start:0,end:0}),[F,m]=A.useState(0),[f,y]=A.useState(0),w=Ig(s,a),E=A.useCallback(()=>{var at;return((at=i.current)==null?void 0:at.clientHeight)??0},[i]),T=A.useCallback(()=>{var at;return((at=i.current)==null?void 0:at.clientWidth)??0},[i]),b=A.useCallback(()=>{d.current=null;const at=E();if(at===0||a===0)return;const $t={scrollTop:u.current,scrollLeft:c.current,viewportHeight:at,viewportWidth:T(),rowHeight:a,totalRows:s},qt=Sg($t);_(R=>R.start===qt.start&&R.end===qt.end?R:qt),m(u.current),y(c.current);const re=K1($t,h.current,r);re&&(h.current=re,o(re.offset,re.limit))},[a,s,r,o,E,T]),N=A.useRef(()=>{});N.current=at=>{at.preventDefault();const $t=Math.max(0,w-E()),qt=Math.max(0,l-T());u.current=Math.max(0,Math.min($t,u.current+at.deltaY)),c.current=Math.max(0,Math.min(qt,c.current+at.deltaX)),d.current==null&&(d.current=requestAnimationFrame(b))};const L=A.useRef();L.current||(L.current=at=>{N.current(at)});const x=A.useCallback(at=>{g.current=at},[]);A.useEffect(()=>{const at=i.current,$t=L.current;if(at)return at.addEventListener("wheel",$t,{passive:!1}),()=>{at.removeEventListener("wheel",$t)}},[i]),A.useEffect(()=>{a>0&&s>0&&b()},[a,s,b]),A.useEffect(()=>()=>{d.current!=null&&cancelAnimationFrame(d.current)},[]);const et=A.useCallback(at=>{u.current=Math.max(0,at*a),d.current==null&&(d.current=requestAnimationFrame(b))},[a,b]),ne=A.useCallback(()=>{u.current=0,d.current==null&&(d.current=requestAnimationFrame(b))},[b]);return{scrollTop:F,scrollLeft:f,visibleRowRange:v,viewportRef:x,scrollContainerStyle:{position:"relative",overflow:"hidden",willChange:"transform"},scrollToRow:et,scrollToTop:ne}}function aI(e){const{table:t,rows:n,columns:r,filter:i,containerRef:s,scroll:o,rowHeightConfig:a,onSortChange:l}=e,u=A.useMemo(()=>r.map(F=>F.key),[r]),c=iI({table:t,rows:n,columns:u,filter:i}),d=c.setSort;l&&(c.setSort=F=>{d(F),l(F)});const h=sI({columns:r,containerRef:s,rowHeightConfig:a}),g=typeof o=="object"&&o!==null?o.overscan:void 0,v=oI({data:c,layout:h,overscan:g,containerRef:s});return{rootProps:{data:c,layout:h,scroll:v,pagination:null,selection:null,pinning:null,expansion:null,grouping:null,columns:r},data:c,layout:h,scroll:v,pagination:null,selection:null,pinning:null,columnOrder:null,resize:null,expansion:null,grouping:null}}function lI({data:e,layout:t,scroll:n,columns:r,children:i,className:s,style:o}){const a={sort:e.sort,setSort:e.setSort};return B.jsx(bg.Provider,{value:e,children:B.jsx(Ng.Provider,{value:t,children:B.jsx(Rg.Provider,{value:n??null,children:B.jsx(Og.Provider,{value:a,children:B.jsx("div",{role:"grid","aria-rowcount":e.totalRows,"aria-colcount":r.length,className:s,style:{position:"relative",display:"flex",flexDirection:"column",height:"100%",...o},children:i})})})})})}function uI({children:e,className:t,style:n}){const r=Oo();return B.jsx("div",{role:"rowgroup",className:t,style:{position:"sticky",top:0,zIndex:2,...n},children:B.jsx("div",{role:"row",style:{display:"flex",position:"relative",width:r.totalWidth},children:e({columns:r.resolved})})})}function cI(e,t){if(!e)return"none";const r=(Array.isArray(e)?e:[e]).find(i=>i.column===t);return r?r.desc?"descending":"ascending":"none"}function dI({column:e,children:t,className:n,style:r}){const i=Oo(),s=i.getWidth(e),o=i.getOffset(e),a=Fg(),l=a?cI(a.sort,e):"none";return B.jsx("div",{role:"columnheader","aria-sort":l,className:n,style:{position:"absolute",left:o,width:s,height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",...r},children:t})}function fI({children:e,className:t,style:n}){const r=Tg(),i=Oo(),s=Ag(),{rowHeight:o}=i,{totalRows:a}=r,l=(s==null?void 0:s.scrollTop)??0,u=[];if(s&&o>0){const{start:c,end:d}=s.visibleRowRange,h=Math.max(0,c-5),g=Math.min(a,d+5);for(let v=h;v<g;v++)u.push({key:v,index:v,data:r.getRow(v),top:v*o-l})}else if(!s){const c=Math.min(a,100);for(let d=0;d<c;d++)u.push({key:d,index:d,data:r.getRow(d),top:d*o})}return B.jsx("div",{ref:s==null?void 0:s.viewportRef,role:"rowgroup",className:t,style:{flex:1,overflow:"hidden",position:"relative",...n},children:e({rows:u})})}function hI({row:e,children:t,className:n,style:r}){const i=Oo(),s=i.resolved.map(o=>{var a;return{column:o.key,value:((a=e.data)==null?void 0:a[o.key])??null,width:o.width,offset:o.offset}});return B.jsx("div",{role:"row","aria-rowindex":e.index+1,className:n,style:{position:"absolute",top:0,left:0,width:i.totalWidth,height:i.rowHeight,display:"flex",overflow:"hidden",transform:`translateY(${e.top}px)`,...r},children:t({cells:s})})}function pI({column:e,width:t,offset:n,children:r,className:i,style:s}){return B.jsx("div",{role:"gridcell",className:i,style:{position:"absolute",left:n,width:t,height:"100%",boxSizing:"border-box",overflow:"hidden",whiteSpace:"normal",wordBreak:"break-word",...s},children:r})}function yI(e,t){if(!e)return null;const r=(Array.isArray(e)?e:[e]).find(i=>i.column===t);return r?r.desc?"desc":"asc":null}function mI({column:e,children:t,className:n,style:r}){const i=Fg(),s=i?yI(i.sort,e):null,o=A.useCallback(()=>{i&&(s===null?i.setSort({column:e,desc:!1}):s==="asc"?i.setSort({column:e,desc:!0}):i.setSort(null))},[i,e,s]),a=s==="asc"?" ":s==="desc"?" ":"";return B.jsxs("button",{type:"button",onClick:o,className:n,"aria-label":`Sort by ${e}`,style:{background:"none",border:"none",cursor:"pointer",padding:"0 4px",fontSize:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center",...r},children:[t,a]})}function gI({className:e,style:t,fadeTimeout:n=1500}){var y,w;const r=Ag(),i=Tg(),s=Oo(),[o,a]=A.useState(!1),[l,u]=A.useState(!1),c=A.useRef(null),d=A.useRef(null),h=Ig(i.totalRows,s.rowHeight),g=((w=(y=c.current)==null?void 0:y.parentElement)==null?void 0:w.clientHeight)??0,v=g>0&&h>0?Math.max(.05,g/h):1,_=Math.max(20,v*g),m=(h>g?((r==null?void 0:r.scrollTop)??0)/(h-g):0)*(g-_);A.useEffect(()=>{a(!0),d.current&&clearTimeout(d.current),l||(d.current=setTimeout(()=>a(!1),n))},[r==null?void 0:r.scrollTop,l,n]);const f=A.useCallback(E=>{E.preventDefault(),E.stopPropagation(),u(!0),E.target.setPointerCapture(E.pointerId);const T=c.current;if(!T||!r)return;const b=T.getBoundingClientRect(),N=x=>{const et=x.clientY-b.top,ne=Math.max(0,Math.min(1,et/b.height)),Ee=Math.floor(ne*i.totalRows);r.scrollToRow(Ee)},L=()=>{u(!1),document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",L)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",L)},[r,i.totalRows]);return h<=g?null:B.jsx("div",{ref:c,className:e,style:{position:"absolute",right:0,top:0,bottom:0,width:8,opacity:o||l?1:0,transition:"opacity 0.2s",zIndex:10,...t},children:B.jsx("div",{onPointerDown:f,style:{position:"absolute",top:m,right:0,width:8,height:_,borderRadius:4,backgroundColor:l?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.3)",cursor:"pointer",transition:l?"none":"background-color 0.15s"}})})}var tr={Root:lI,Header:uI,HeaderCell:dI,Viewport:fI,Row:hI,Cell:pI,SortTrigger:mI,VerticalScrollbar:gI};function H(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Sp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(e){return this instanceof Y?(this.v=e,this):new Y(e)}function _n(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,d)}}function a(g,v){r[g]&&(i[g]=function(_){return new Promise(function(F,m){s.push([g,_,F,m])>1||l(g,_)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(_){h(s[0][3],_)}}function u(g){g.value instanceof Y?Promise.resolve(g.value.v).then(c,d):h(s[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ma(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Y(e[i](o)),done:!1}:s?s(o):o}:s}}function Qr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Sp=="function"?Sp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const vI=new TextDecoder("utf-8"),Jc=e=>vI.decode(e),_I=new TextEncoder,hf=e=>_I.encode(e),wI=e=>typeof e=="number",Dg=e=>typeof e=="boolean",Ct=e=>typeof e=="function",Se=e=>e!=null&&Object(e)===e,ni=e=>Se(e)&&Ct(e.then),Fo=e=>Se(e)&&Ct(e[Symbol.iterator]),hs=e=>Se(e)&&Ct(e[Symbol.asyncIterator]),Xc=e=>Se(e)&&Se(e.schema),Lg=e=>Se(e)&&"done"in e&&"value"in e,xg=e=>Se(e)&&Ct(e.stat)&&wI(e.fd),Bg=e=>Se(e)&&pf(e.body),ru=e=>"_getDOMStream"in e&&"_getNodeStream"in e,SI=e=>Se(e)&&Ct(e.abort)&&Ct(e.getWriter)&&!ru(e),pf=e=>Se(e)&&Ct(e.cancel)&&Ct(e.getReader)&&!ru(e),II=e=>Se(e)&&Ct(e.end)&&Ct(e.write)&&Dg(e.writable)&&!ru(e),Cg=e=>Se(e)&&Ct(e.read)&&Ct(e.pipe)&&Dg(e.readable)&&!ru(e),EI=e=>Se(e)&&Ct(e.clear)&&Ct(e.bytes)&&Ct(e.position)&&Ct(e.setPosition)&&Ct(e.capacity)&&Ct(e.getBufferIdentifier)&&Ct(e.createLong),yf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function bI(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=e.length;++l<c;){if(o=t[u],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function Ip(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function bn(e,t){const n=bI(e),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?Ip(o,s,a):o=s;break}Ip(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function ct(e,t){let n=Lg(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=hf(n)),n instanceof ArrayBuffer?new e(n):n instanceof yf?new e(n):EI(n)?ct(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const Ns=e=>ct(Int32Array,e),Ep=e=>ct(BigInt64Array,e),X=e=>ct(Uint8Array,e),Zc=e=>(e.next(),e);function*TI(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof yf?n(t):Fo(t)?t:n(t);return yield*Zc(function*(i){let s=null;do s=i.next(yield ct(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const NI=e=>TI(Uint8Array,e);function kg(e,t){return _n(this,arguments,function*(){if(ni(t))return yield Y(yield Y(yield*ma(Qr(kg(e,yield Y(t))))));const r=function(o){return _n(this,arguments,function*(){yield yield Y(yield Y(o))})},i=function(o){return _n(this,arguments,function*(){yield Y(yield*ma(Qr(Zc(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof yf?r(t):Fo(t)?i(t):hs(t)?t:r(t);return yield Y(yield*ma(Qr(Zc(function(o){return _n(this,arguments,function*(){let a=null;do a=yield Y(o.next(yield yield Y(ct(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Y(new e)})}const RI=e=>kg(Uint8Array,e);function Mg(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function AI(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Ce={fromIterable(e){return Zo(OI(e))},fromAsyncIterable(e){return Zo(FI(e))},fromDOMStream(e){return Zo(DI(e))},fromNodeStream(e){return Zo(xI(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Zo=e=>(e.next(),e);function*OI(e){let t,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?bn(r,o)[0]:([i,r,a]=bn(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=NI(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function FI(e){return _n(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?bn(i,a)[0]:([s,i,l]=bn(i,a),s)}({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0});const c=RI(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.next()):yield Y(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield Y(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield Y(c.return(new Uint8Array(0))))}return yield Y(null)})}function DI(e){return _n(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?bn(i,a)[0]:([s,i,l]=bn(i,a),s)}({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0});const c=new LI(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.read()):yield Y(c.read(a-l)),!n&&s.byteLength>0&&(i.push(X(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield Y(c.cancel(d)))}finally{r===!1?yield Y(c.cancel()):e.locked&&c.releaseLock()}return yield Y(null)})}class LI{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return H(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return H(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=X(n)),n})}}const Hu=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function xI(e){return _n(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?bn(u,a)[0]:([c,u,l]=bn(u,a),c)}if({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0},e.isTTY)return yield yield Y(new Uint8Array(0)),yield Y(null);try{n[0]=Hu(e,"end"),n[1]=Hu(e,"error");do{if(n[2]=Hu(e,"readable"),[r,s]=yield Y(Promise.race(n.map(g=>g[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=X(e.read(a-l)),c.byteLength<a-l&&(c=X(e.read()))):c=X(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Y(d()));while(a<l)}while(!i)}finally{yield Y(h(n,r==="error"?s:null))}return yield Y(null);function h(g,v){return c=u=null,new Promise((_,F)=>{for(const[m,f]of g)e.off(m,f);try{const m=e.destroy;m&&m.call(e,v),v=void 0}catch(m){v=m||v}finally{v!=null?F(v):_()}})}})}var Dt;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Dt||(Dt={}));var ee;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ee||(ee={}));var Xt;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Xt||(Xt={}));var Ge;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Ge||(Ge={}));var P;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(P||(P={}));var Tn;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Tn||(Tn={}));const qu=2,mn=4,kn=4,ot=4,sr=new Int32Array(2),bp=new Float32Array(sr.buffer),Tp=new Float64Array(sr.buffer),ta=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var td;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(td||(td={}));let rs=class Ug{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Ug(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return sr[0]=this.readInt32(t),bp[0]}readFloat64(t){return sr[ta?0:1]=this.readInt32(t),sr[ta?1:0]=this.readInt32(t+4),Tp[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){bp[0]=n,this.writeInt32(t,sr[0])}writeFloat64(t,n){Tp[0]=n,this.writeInt32(t,sr[ta?0:1]),this.writeInt32(t+4,sr[ta?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+mn+kn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<kn;n++)t+=String.fromCharCode(this.readInt8(this.position_+mn+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=mn;const i=this.bytes_.subarray(t,t+r);return n===td.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+mn}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=kn)throw new Error("FlatBuffers: file identifier must be length "+kn);for(let n=0;n<kn;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+mn+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Pg=class zg{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=rs.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=zg.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=rs.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(mn,0),this.writeInt32(this.offset()-t+mn)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*qu;this.addInt16(s);let o=0;const a=this.space;t:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=qu;u<s;u+=qu)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue t;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?ot:0;if(n){const s=n;if(this.prep(this.minalign,mn+kn+i),s.length!=kn)throw new TypeError("FlatBuffers: file identifier must be length "+kn);for(let o=kn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,mn+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(mn,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var rl;(function(e){e[e.BUFFER=0]="BUFFER"})(rl||(rl={}));var il;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(il||(il={}));class or{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+ot),(n||new or).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):il.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):rl.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,il.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,rl.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return or.startBodyCompression(t),or.addCodec(t,n),or.addMethod(t,r),or.endBodyCompression(t)}}class jg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let $g=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Ln=class ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+ot),(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new $g).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new jg).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new or).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},pi=class nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+ot),(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ln).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var is;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(is||(is={}));var sl;(function(e){e[e.DenseArray=0]="DenseArray"})(sl||(sl={}));class Re{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+ot),(n||new Re).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Re.startInt(t),Re.addBitWidth(t,n),Re.addIsSigned(t,r),Re.endInt(t)}}class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+ot),(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Re).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):sl.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,sl.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+ot),(n||new kt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return kt.startKeyValue(t),kt.addKey(t,n),kt.addValue(t,r),kt.endKeyValue(t)}}let Np=class Ls{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+ot),(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Ls.startBinary(t),Ls.endBinary(t)}},Rp=class xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+ot),(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return xs.startBool(t),xs.endBool(t)}},ga=class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+ot),(n||new yi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ge.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Ge.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return yi.startDate(t),yi.addUnit(t,n),yi.endDate(t)}},mi=class nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+ot),(n||new nr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return nr.startDecimal(t),nr.addPrecision(t,n),nr.addScale(t,r),nr.addBitWidth(t,i),nr.endDecimal(t)}},va=class gi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new gi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+ot),(n||new gi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,P.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return gi.startDuration(t),gi.addUnit(t,n),gi.endDuration(t)}},_a=class vi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+ot),(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return vi.startFixedSizeBinary(t),vi.addByteWidth(t,n),vi.endFixedSizeBinary(t)}},wa=class _i{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new _i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+ot),(n||new _i).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return _i.startFixedSizeList(t),_i.addListSize(t,n),_i.endFixedSizeList(t)}};class gn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new gn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+ot),(n||new gn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Xt.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Xt.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return gn.startFloatingPoint(t),gn.addPrecision(t,n),gn.endFloatingPoint(t)}}class vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+ot),(n||new vn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tn.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Tn.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return vn.startInterval(t),vn.addUnit(t,n),vn.endInterval(t)}}let Ap=class Bs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+ot),(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return Bs.startLargeBinary(t),Bs.endLargeBinary(t)}},Op=class Cs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new Cs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+ot),(n||new Cs).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return Cs.startLargeUtf8(t),Cs.endLargeUtf8(t)}},Fp=class ks{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+ot),(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return ks.startList(t),ks.endList(t)}},Sa=class wi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+ot),(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return wi.startMap(t),wi.addKeysSorted(t,n),wi.endMap(t)}},Dp=class Ms{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+ot),(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ms.startNull(t),Ms.endNull(t)}};class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+ot),(n||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Wr.startStruct_(t),Wr.endStruct_(t)}}class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+ot),(n||new Pe).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,P.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Pe.startTime(t),Pe.addUnit(t,n),Pe.addBitWidth(t,r),Pe.endTime(t)}}class ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new ze).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+ot),(n||new ze).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,P.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return ze.startTimestamp(t),ze.addUnit(t,n),ze.addTimezone(t,r),ze.endTimestamp(t)}}class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+ot),(n||new ye).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ee.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,ee.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return ye.startUnion(t),ye.addMode(t,n),ye.addTypeIds(t,r),ye.endUnion(t)}}let Lp=class Us{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+ot),(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Us.startUtf8(t),Us.endUtf8(t)}};var ht;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(ht||(ht={}));let Be=class Ia{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+ot),(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):ht.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Mn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Ia).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,ht.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},hn=class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+ot),(n||new Fn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):is.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Be).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,is.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Fn.startSchema(t),Fn.addEndianness(t,n),Fn.addFields(t,r),Fn.addCustomMetadata(t,i),Fn.addFeatures(t,s),Fn.endSchema(t)}};var rt;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(rt||(rt={}));var p;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(p||(p={}));var xn;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(xn||(xn={}));const BI=void 0;function po(e){if(e===null)return"null";if(e===BI)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>po(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function ft(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function Vg(e,t){return ft(e/t)+ft(e%t)/ft(t)}const CI=Symbol.for("isArrowBigNum");function ln(e,...t){return t.length===0?Object.setPrototypeOf(ct(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}ln.prototype[CI]=!0;ln.prototype.toJSON=function(){return`"${mo(this)}"`};ln.prototype.valueOf=function(e){return Wg(this,e)};ln.prototype.toString=function(){return mo(this)};ln.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Wg(this);case"string":return mo(this);case"default":return UI(this)}return mo(this)};function Hi(...e){return ln.apply(this,e)}function qi(...e){return ln.apply(this,e)}function yo(...e){return ln.apply(this,e)}Object.setPrototypeOf(Hi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(qi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(yo.prototype,Object.create(Uint32Array.prototype));Object.assign(Hi.prototype,ln.prototype,{constructor:Hi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(qi.prototype,ln.prototype,{constructor:qi,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(yo.prototype,ln.prototype,{constructor:yo,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const kI=BigInt(4294967296)*BigInt(4294967296),MI=kI-BigInt(1);function Wg(e,t){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=e,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const c of o)l|=(c^MI)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const c of o)l|=c*(BigInt(1)<<BigInt(64*u++));if(typeof t=="number"){const c=BigInt(Math.pow(10,t)),d=l/c,h=l%c;return ft(d)+ft(h)/ft(c)}return ft(l)}function mo(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return Yu(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return Yu(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${Yu(t)}`}function UI(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:mo(e)}function Yu(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class mf{static new(t,n){switch(n){case!0:return new Hi(t);case!1:return new qi(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Hi(t)}return t.byteLength===16?new yo(t):new qi(t)}static signed(t){return new Hi(t)}static unsigned(t){return new qi(t)}static decimal(t){return new yo(t)}constructor(t,n){return mf.new(t,n)}}var Hg,qg,Yg,Gg,Qg,Kg,Jg,Xg,Zg,tv,ev,nv,rv,iv,sv,ov,av,lv,uv,cv,dv,fv;class D{static isNull(t){return(t==null?void 0:t.typeId)===p.Null}static isInt(t){return(t==null?void 0:t.typeId)===p.Int}static isFloat(t){return(t==null?void 0:t.typeId)===p.Float}static isBinary(t){return(t==null?void 0:t.typeId)===p.Binary}static isLargeBinary(t){return(t==null?void 0:t.typeId)===p.LargeBinary}static isUtf8(t){return(t==null?void 0:t.typeId)===p.Utf8}static isLargeUtf8(t){return(t==null?void 0:t.typeId)===p.LargeUtf8}static isBool(t){return(t==null?void 0:t.typeId)===p.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===p.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===p.Date}static isTime(t){return(t==null?void 0:t.typeId)===p.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===p.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===p.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===p.Duration}static isList(t){return(t==null?void 0:t.typeId)===p.List}static isStruct(t){return(t==null?void 0:t.typeId)===p.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===p.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===p.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===p.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===p.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===p.Dictionary}static isDenseUnion(t){return D.isUnion(t)&&t.mode===ee.Dense}static isSparseUnion(t){return D.isUnion(t)&&t.mode===ee.Sparse}constructor(t){this.typeId=t}}Hg=Symbol.toStringTag;D[Hg]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(D.prototype);class Tr extends D{constructor(){super(p.Null)}toString(){return"Null"}}qg=Symbol.toStringTag;Tr[qg]=(e=>e[Symbol.toStringTag]="Null")(Tr.prototype);class ri extends D{constructor(t,n){super(p.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Yg=Symbol.toStringTag;ri[Yg]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(ri.prototype);class go extends ri{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(go.prototype,"ArrayType",{value:Int32Array});class ol extends D{constructor(t){super(p.Float),this.precision=t}get ArrayType(){switch(this.precision){case Xt.HALF:return Uint16Array;case Xt.SINGLE:return Float32Array;case Xt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Gg=Symbol.toStringTag;ol[Gg]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(ol.prototype);class al extends D{constructor(){super(p.Binary)}toString(){return"Binary"}}Qg=Symbol.toStringTag;al[Qg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(al.prototype);class ll extends D{constructor(){super(p.LargeBinary)}toString(){return"LargeBinary"}}Kg=Symbol.toStringTag;ll[Kg]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(ll.prototype);class ul extends D{constructor(){super(p.Utf8)}toString(){return"Utf8"}}Jg=Symbol.toStringTag;ul[Jg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(ul.prototype);class cl extends D{constructor(){super(p.LargeUtf8)}toString(){return"LargeUtf8"}}Xg=Symbol.toStringTag;cl[Xg]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(cl.prototype);class dl extends D{constructor(){super(p.Bool)}toString(){return"Bool"}}Zg=Symbol.toStringTag;dl[Zg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(dl.prototype);class fl extends D{constructor(t,n,r=128){super(p.Decimal),this.scale=t,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}tv=Symbol.toStringTag;fl[tv]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(fl.prototype);class hl extends D{constructor(t){super(p.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${Ge[this.unit]}>`}get ArrayType(){return this.unit===Ge.DAY?Int32Array:BigInt64Array}}ev=Symbol.toStringTag;hl[ev]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(hl.prototype);class pl extends D{constructor(t,n){super(p.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${P[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}nv=Symbol.toStringTag;pl[nv]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(pl.prototype);class yl extends D{constructor(t,n){super(p.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${P[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}rv=Symbol.toStringTag;yl[rv]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(yl.prototype);class ml extends D{constructor(t){super(p.Interval),this.unit=t}toString(){return`Interval<${Tn[this.unit]}>`}}iv=Symbol.toStringTag;ml[iv]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(ml.prototype);class gl extends D{constructor(t){super(p.Duration),this.unit=t}toString(){return`Duration<${P[this.unit]}>`}}sv=Symbol.toStringTag;gl[sv]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(gl.prototype);class vl extends D{constructor(t){super(p.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}ov=Symbol.toStringTag;vl[ov]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(vl.prototype);class se extends D{constructor(t){super(p.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}av=Symbol.toStringTag;se[av]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(se.prototype);class _l extends D{constructor(t,n,r){super(p.Union),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}lv=Symbol.toStringTag;_l[lv]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(_l.prototype);class wl extends D{constructor(t){super(p.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}uv=Symbol.toStringTag;wl[uv]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(wl.prototype);class Sl extends D{constructor(t,n){super(p.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}cv=Symbol.toStringTag;Sl[cv]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Sl.prototype);class Il extends D{constructor(t,n=!1){var r,i,s;if(super(p.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}dv=Symbol.toStringTag;Il[dv]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Il.prototype);const PI=(e=>()=>++e)(-1);class ss extends D{constructor(t,n,r,i){super(p.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?PI():ft(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}fv=Symbol.toStringTag;ss[fv]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(ss.prototype);function Bn(e){const t=e;switch(e.typeId){case p.Decimal:return e.bitWidth/32;case p.Interval:return 1+t.unit;case p.FixedSizeList:return t.listSize;case p.FixedSizeBinary:return t.byteWidth;default:return 1}}class Q{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return zI(this,t,n)}getVisitFnByTypeId(t,n=!0){return Si(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function zI(e,t,n=!0){return typeof t=="number"?Si(e,t,n):typeof t=="string"&&t in p?Si(e,p[t],n):t&&t instanceof D?Si(e,xp(t),n):t!=null&&t.type&&t.type instanceof D?Si(e,xp(t.type),n):Si(e,p.NONE,n)}function Si(e,t,n=!0){let r=null;switch(t){case p.Null:r=e.visitNull;break;case p.Bool:r=e.visitBool;break;case p.Int:r=e.visitInt;break;case p.Int8:r=e.visitInt8||e.visitInt;break;case p.Int16:r=e.visitInt16||e.visitInt;break;case p.Int32:r=e.visitInt32||e.visitInt;break;case p.Int64:r=e.visitInt64||e.visitInt;break;case p.Uint8:r=e.visitUint8||e.visitInt;break;case p.Uint16:r=e.visitUint16||e.visitInt;break;case p.Uint32:r=e.visitUint32||e.visitInt;break;case p.Uint64:r=e.visitUint64||e.visitInt;break;case p.Float:r=e.visitFloat;break;case p.Float16:r=e.visitFloat16||e.visitFloat;break;case p.Float32:r=e.visitFloat32||e.visitFloat;break;case p.Float64:r=e.visitFloat64||e.visitFloat;break;case p.Utf8:r=e.visitUtf8;break;case p.LargeUtf8:r=e.visitLargeUtf8;break;case p.Binary:r=e.visitBinary;break;case p.LargeBinary:r=e.visitLargeBinary;break;case p.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case p.Date:r=e.visitDate;break;case p.DateDay:r=e.visitDateDay||e.visitDate;break;case p.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case p.Timestamp:r=e.visitTimestamp;break;case p.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case p.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case p.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case p.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case p.Time:r=e.visitTime;break;case p.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case p.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case p.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case p.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case p.Decimal:r=e.visitDecimal;break;case p.List:r=e.visitList;break;case p.Struct:r=e.visitStruct;break;case p.Union:r=e.visitUnion;break;case p.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case p.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case p.Dictionary:r=e.visitDictionary;break;case p.Interval:r=e.visitInterval;break;case p.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case p.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case p.Duration:r=e.visitDuration;break;case p.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case p.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case p.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case p.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case p.FixedSizeList:r=e.visitFixedSizeList;break;case p.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${p[t]}'`)}function xp(e){switch(e.typeId){case p.Null:return p.Null;case p.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?p.Int8:p.Uint8;case 16:return n?p.Int16:p.Uint16;case 32:return n?p.Int32:p.Uint32;case 64:return n?p.Int64:p.Uint64}return p.Int}case p.Float:switch(e.precision){case Xt.HALF:return p.Float16;case Xt.SINGLE:return p.Float32;case Xt.DOUBLE:return p.Float64}return p.Float;case p.Binary:return p.Binary;case p.LargeBinary:return p.LargeBinary;case p.Utf8:return p.Utf8;case p.LargeUtf8:return p.LargeUtf8;case p.Bool:return p.Bool;case p.Decimal:return p.Decimal;case p.Time:switch(e.unit){case P.SECOND:return p.TimeSecond;case P.MILLISECOND:return p.TimeMillisecond;case P.MICROSECOND:return p.TimeMicrosecond;case P.NANOSECOND:return p.TimeNanosecond}return p.Time;case p.Timestamp:switch(e.unit){case P.SECOND:return p.TimestampSecond;case P.MILLISECOND:return p.TimestampMillisecond;case P.MICROSECOND:return p.TimestampMicrosecond;case P.NANOSECOND:return p.TimestampNanosecond}return p.Timestamp;case p.Date:switch(e.unit){case Ge.DAY:return p.DateDay;case Ge.MILLISECOND:return p.DateMillisecond}return p.Date;case p.Interval:switch(e.unit){case Tn.DAY_TIME:return p.IntervalDayTime;case Tn.YEAR_MONTH:return p.IntervalYearMonth}return p.Interval;case p.Duration:switch(e.unit){case P.SECOND:return p.DurationSecond;case P.MILLISECOND:return p.DurationMillisecond;case P.MICROSECOND:return p.DurationMicrosecond;case P.NANOSECOND:return p.DurationNanosecond}return p.Duration;case p.Map:return p.Map;case p.List:return p.List;case p.Struct:return p.Struct;case p.Union:switch(e.mode){case ee.Dense:return p.DenseUnion;case ee.Sparse:return p.SparseUnion}return p.Union;case p.FixedSizeBinary:return p.FixedSizeBinary;case p.FixedSizeList:return p.FixedSizeList;case p.Dictionary:return p.Dictionary}throw new Error(`Unrecognized type '${p[e.typeId]}'`)}Q.prototype.visitInt8=null;Q.prototype.visitInt16=null;Q.prototype.visitInt32=null;Q.prototype.visitInt64=null;Q.prototype.visitUint8=null;Q.prototype.visitUint16=null;Q.prototype.visitUint32=null;Q.prototype.visitUint64=null;Q.prototype.visitFloat16=null;Q.prototype.visitFloat32=null;Q.prototype.visitFloat64=null;Q.prototype.visitDateDay=null;Q.prototype.visitDateMillisecond=null;Q.prototype.visitTimestampSecond=null;Q.prototype.visitTimestampMillisecond=null;Q.prototype.visitTimestampMicrosecond=null;Q.prototype.visitTimestampNanosecond=null;Q.prototype.visitTimeSecond=null;Q.prototype.visitTimeMillisecond=null;Q.prototype.visitTimeMicrosecond=null;Q.prototype.visitTimeNanosecond=null;Q.prototype.visitDenseUnion=null;Q.prototype.visitSparseUnion=null;Q.prototype.visitIntervalDayTime=null;Q.prototype.visitIntervalYearMonth=null;Q.prototype.visitDuration=null;Q.prototype.visitDurationSecond=null;Q.prototype.visitDurationMillisecond=null;Q.prototype.visitDurationMicrosecond=null;Q.prototype.visitDurationNanosecond=null;const hv=new Float64Array(1),di=new Uint32Array(hv.buffer);function pv(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function jI(e){if(e!==e)return 32256;hv[0]=e;const t=(di[1]&2147483648)>>16&65535;let n=di[1]&2146435072,r=0;return n>=1089470464?di[0]>0?n=31744:(n=(n&2080374784)>>16,r=(di[1]&1048575)>>10):n<=1056964608?(r=1048576+(di[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(di[1]&1048575)+512>>10),t|n|r&65535}class z extends Q{}function V(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const $I=(e,t,n)=>{e[t]=Math.floor(n/864e5)},yv=(e,t,n,r)=>{if(n+1<t.length){const i=ft(t[n]),s=ft(t[n+1]);e.set(r.subarray(0,s-i),i)}},VI=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},qn=({values:e},t,n)=>{e[t]=n},gf=({values:e},t,n)=>{e[t]=n},mv=({values:e},t,n)=>{e[t]=jI(n)},WI=(e,t,n)=>{switch(e.type.precision){case Xt.HALF:return mv(e,t,n);case Xt.SINGLE:case Xt.DOUBLE:return gf(e,t,n)}},gv=({values:e},t,n)=>{$I(e,t,n.valueOf())},vv=({values:e},t,n)=>{e[t]=BigInt(n)},HI=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},_v=({values:e,valueOffsets:t},n,r)=>yv(e,t,n,r),wv=({values:e,valueOffsets:t},n,r)=>yv(e,t,n,hf(r)),qI=(e,t,n)=>{e.type.unit===Ge.DAY?gv(e,t,n):vv(e,t,n)},Sv=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},Iv=({values:e},t,n)=>{e[t]=BigInt(n)},Ev=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},bv=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},YI=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return Sv(e,t,n);case P.MILLISECOND:return Iv(e,t,n);case P.MICROSECOND:return Ev(e,t,n);case P.NANOSECOND:return bv(e,t,n)}},Tv=({values:e},t,n)=>{e[t]=n},Nv=({values:e},t,n)=>{e[t]=n},Rv=({values:e},t,n)=>{e[t]=n},Av=({values:e},t,n)=>{e[t]=n},GI=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return Tv(e,t,n);case P.MILLISECOND:return Nv(e,t,n);case P.MICROSECOND:return Rv(e,t,n);case P.NANOSECOND:return Av(e,t,n)}},QI=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},KI=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=Qe.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n.get(++o))},JI=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=Qe.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},XI=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),ZI=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),tE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),eE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),nE=(e,t,n)=>{const r=e.type.children.map(s=>Qe.getVisitFn(s.type)),i=n instanceof Map?tE(t,n):n instanceof it?ZI(t,n):Array.isArray(n)?XI(t,n):eE(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},rE=(e,t,n)=>{e.type.mode===ee.Dense?Ov(e,t,n):Fv(e,t,n)},Ov=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Qe.visit(i,e.valueOffsets[t],n)},Fv=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Qe.visit(i,t,n)},iE=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},sE=(e,t,n)=>{e.type.unit===Tn.DAY_TIME?Dv(e,t,n):Lv(e,t,n)},Dv=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},Lv=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},xv=({values:e},t,n)=>{e[t]=n},Bv=({values:e},t,n)=>{e[t]=n},Cv=({values:e},t,n)=>{e[t]=n},kv=({values:e},t,n)=>{e[t]=n},oE=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return xv(e,t,n);case P.MILLISECOND:return Bv(e,t,n);case P.MICROSECOND:return Cv(e,t,n);case P.NANOSECOND:return kv(e,t,n)}},aE=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=Qe.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};z.prototype.visitBool=V(VI);z.prototype.visitInt=V(qn);z.prototype.visitInt8=V(qn);z.prototype.visitInt16=V(qn);z.prototype.visitInt32=V(qn);z.prototype.visitInt64=V(qn);z.prototype.visitUint8=V(qn);z.prototype.visitUint16=V(qn);z.prototype.visitUint32=V(qn);z.prototype.visitUint64=V(qn);z.prototype.visitFloat=V(WI);z.prototype.visitFloat16=V(mv);z.prototype.visitFloat32=V(gf);z.prototype.visitFloat64=V(gf);z.prototype.visitUtf8=V(wv);z.prototype.visitLargeUtf8=V(wv);z.prototype.visitBinary=V(_v);z.prototype.visitLargeBinary=V(_v);z.prototype.visitFixedSizeBinary=V(HI);z.prototype.visitDate=V(qI);z.prototype.visitDateDay=V(gv);z.prototype.visitDateMillisecond=V(vv);z.prototype.visitTimestamp=V(YI);z.prototype.visitTimestampSecond=V(Sv);z.prototype.visitTimestampMillisecond=V(Iv);z.prototype.visitTimestampMicrosecond=V(Ev);z.prototype.visitTimestampNanosecond=V(bv);z.prototype.visitTime=V(GI);z.prototype.visitTimeSecond=V(Tv);z.prototype.visitTimeMillisecond=V(Nv);z.prototype.visitTimeMicrosecond=V(Rv);z.prototype.visitTimeNanosecond=V(Av);z.prototype.visitDecimal=V(QI);z.prototype.visitList=V(KI);z.prototype.visitStruct=V(nE);z.prototype.visitUnion=V(rE);z.prototype.visitDenseUnion=V(Ov);z.prototype.visitSparseUnion=V(Fv);z.prototype.visitDictionary=V(iE);z.prototype.visitInterval=V(sE);z.prototype.visitIntervalDayTime=V(Dv);z.prototype.visitIntervalYearMonth=V(Lv);z.prototype.visitDuration=V(oE);z.prototype.visitDurationSecond=V(xv);z.prototype.visitDurationMillisecond=V(Bv);z.prototype.visitDurationMicrosecond=V(Cv);z.prototype.visitDurationNanosecond=V(kv);z.prototype.visitFixedSizeList=V(aE);z.prototype.visitMap=V(JI);const Qe=new z,tn=Symbol.for("parent"),Yi=Symbol.for("rowIndex");class vf{constructor(t,n){return this[tn]=t,this[Yi]=n,new Proxy(this,new uE)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Yi],n=this[tn],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Ie.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${po(t)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new lE(this[tn],this[Yi])}}class lE{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ie.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(vf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[tn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class uE{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[tn].type.children.map(n=>n.name)}has(t,n){return t[tn].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[tn].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[tn].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ie.visit(t[tn].children[r],t[Yi]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[tn].type.children.findIndex(s=>s.name===n);return i!==-1?(Qe.visit(t[tn].children[i],t[Yi],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class C extends Q{}function j(e){return(t,n)=>t.getValid(n)?e(t,n):null}const cE=(e,t)=>864e5*e[t],dE=(e,t)=>null,Mv=(e,t,n)=>{if(n+1>=t.length)return null;const r=ft(t[n]),i=ft(t[n+1]);return e.subarray(r,i)},fE=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Uv=({values:e},t)=>cE(e,t),Pv=({values:e},t)=>ft(e[t]),kr=({stride:e,values:t},n)=>t[e*n],hE=({stride:e,values:t},n)=>pv(t[e*n]),zv=({values:e},t)=>e[t],pE=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),jv=({values:e,valueOffsets:t},n)=>Mv(e,t,n),$v=({values:e,valueOffsets:t},n)=>{const r=Mv(e,t,n);return r!==null?Jc(r):null},yE=({values:e},t)=>e[t],mE=({type:e,values:t},n)=>e.precision!==Xt.HALF?t[n]:pv(t[n]),gE=(e,t)=>e.type.unit===Ge.DAY?Uv(e,t):Pv(e,t),Vv=({values:e},t)=>1e3*ft(e[t]),Wv=({values:e},t)=>ft(e[t]),Hv=({values:e},t)=>Vg(e[t],BigInt(1e3)),qv=({values:e},t)=>Vg(e[t],BigInt(1e6)),vE=(e,t)=>{switch(e.type.unit){case P.SECOND:return Vv(e,t);case P.MILLISECOND:return Wv(e,t);case P.MICROSECOND:return Hv(e,t);case P.NANOSECOND:return qv(e,t)}},Yv=({values:e},t)=>e[t],Gv=({values:e},t)=>e[t],Qv=({values:e},t)=>e[t],Kv=({values:e},t)=>e[t],_E=(e,t)=>{switch(e.type.unit){case P.SECOND:return Yv(e,t);case P.MILLISECOND:return Gv(e,t);case P.MICROSECOND:return Qv(e,t);case P.NANOSECOND:return Kv(e,t)}},wE=({values:e,stride:t},n)=>mf.decimal(e.subarray(t*n,t*(n+1))),SE=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,l=i[0].slice(s,o-s);return new it([l])},IE=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new _f(o.slice(i,s-i))},EE=(e,t)=>new vf(e,t),bE=(e,t)=>e.type.mode===ee.Dense?Jv(e,t):Xv(e,t),Jv=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ie.visit(r,e.valueOffsets[t])},Xv=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ie.visit(r,t)},TE=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},NE=(e,t)=>e.type.unit===Tn.DAY_TIME?Zv(e,t):t0(e,t),Zv=({values:e},t)=>e.subarray(2*t,2*(t+1)),t0=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},e0=({values:e},t)=>e[t],n0=({values:e},t)=>e[t],r0=({values:e},t)=>e[t],i0=({values:e},t)=>e[t],RE=(e,t)=>{switch(e.type.unit){case P.SECOND:return e0(e,t);case P.MILLISECOND:return n0(e,t);case P.MICROSECOND:return r0(e,t);case P.NANOSECOND:return i0(e,t)}},AE=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new it([s])};C.prototype.visitNull=j(dE);C.prototype.visitBool=j(fE);C.prototype.visitInt=j(yE);C.prototype.visitInt8=j(kr);C.prototype.visitInt16=j(kr);C.prototype.visitInt32=j(kr);C.prototype.visitInt64=j(zv);C.prototype.visitUint8=j(kr);C.prototype.visitUint16=j(kr);C.prototype.visitUint32=j(kr);C.prototype.visitUint64=j(zv);C.prototype.visitFloat=j(mE);C.prototype.visitFloat16=j(hE);C.prototype.visitFloat32=j(kr);C.prototype.visitFloat64=j(kr);C.prototype.visitUtf8=j($v);C.prototype.visitLargeUtf8=j($v);C.prototype.visitBinary=j(jv);C.prototype.visitLargeBinary=j(jv);C.prototype.visitFixedSizeBinary=j(pE);C.prototype.visitDate=j(gE);C.prototype.visitDateDay=j(Uv);C.prototype.visitDateMillisecond=j(Pv);C.prototype.visitTimestamp=j(vE);C.prototype.visitTimestampSecond=j(Vv);C.prototype.visitTimestampMillisecond=j(Wv);C.prototype.visitTimestampMicrosecond=j(Hv);C.prototype.visitTimestampNanosecond=j(qv);C.prototype.visitTime=j(_E);C.prototype.visitTimeSecond=j(Yv);C.prototype.visitTimeMillisecond=j(Gv);C.prototype.visitTimeMicrosecond=j(Qv);C.prototype.visitTimeNanosecond=j(Kv);C.prototype.visitDecimal=j(wE);C.prototype.visitList=j(SE);C.prototype.visitStruct=j(EE);C.prototype.visitUnion=j(bE);C.prototype.visitDenseUnion=j(Jv);C.prototype.visitSparseUnion=j(Xv);C.prototype.visitDictionary=j(TE);C.prototype.visitInterval=j(NE);C.prototype.visitIntervalDayTime=j(Zv);C.prototype.visitIntervalYearMonth=j(t0);C.prototype.visitDuration=j(RE);C.prototype.visitDurationSecond=j(e0);C.prototype.visitDurationMillisecond=j(n0);C.prototype.visitDurationMicrosecond=j(r0);C.prototype.visitDurationNanosecond=j(i0);C.prototype.visitFixedSizeList=j(AE);C.prototype.visitMap=j(IE);const Ie=new C,Ii=Symbol.for("keys"),Gi=Symbol.for("vals"),Ei=Symbol.for("kKeysAsStrings"),rd=Symbol.for("_kKeysAsStrings");class _f{constructor(t){return this[Ii]=new it([t.children[0]]).memoize(),this[Gi]=t.children[1],new Proxy(this,new FE)}get[Ei](){return this[rd]||(this[rd]=Array.from(this[Ii].toArray(),String))}[Symbol.iterator](){return new OE(this[Ii],this[Gi])}get size(){return this[Ii].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ii],n=this[Gi],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Ie.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${po(t)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class OE{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ie.visit(this.vals,t)]})}}class FE{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ei]}has(t,n){return t[Ei].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ei].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ei].indexOf(n);if(r!==-1){const i=Ie.visit(Reflect.get(t,Gi),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ei].indexOf(n);return i!==-1?(Qe.visit(Reflect.get(t,Gi),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(_f.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ii]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Gi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[rd]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Bp;function s0(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Bp=s,s=o,o=Bp),o>i&&(o=i),r?r(e,s,o):[s,o]}const wf=(e,t)=>e<0?t+e:e,Cp=e=>e!==e;function ps(e){if(typeof e!=="object"||e===null)return Cp(e)?Cp:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?AI(e,n):!1:e instanceof Map?LE(e):Array.isArray(e)?DE(e):e instanceof it?xE(e):BE(e,!0)}function DE(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ps(e[n]);return iu(t)}function LE(e){let t=-1;const n=[];for(const r of e.values())n[++t]=ps(r);return iu(n)}function xE(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ps(e.get(n));return iu(t)}function BE(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=ps(e[n[i]]);return iu(r,n)}function iu(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return CE(e,n);case Map:return kp(e,n,n.keys());case _f:case vf:case Object:case void 0:return kp(e,n,t||Object.keys(n))}return n instanceof it?kE(e,n):!1}}function CE(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function kE(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function kp(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function o0(e,t,n,r){return(n&1<<r)!==0}function ME(e,t,n,r){return(n&1<<r)>>r}function El(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):bl(new Sf(n,e,t,null,o0)).subarray(0,r)),i}return n}function bl(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class Sf{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function id(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new Sf(e,t,n-t,e,ME))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return id(e,t,i)+id(e,r,n)+UE(e,i>>3,r-i>>3)}function UE(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=Gu(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=Gu(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=Gu(s.getUint8(i)),i+=1;return r}function Gu(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const PE=-1;class lt{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return D.isSparseUnion(t)?this.children.some(n=>n.nullable):D.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(D.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=PE&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-id(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof lt?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Bn(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(D.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===ee.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(D.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===ee.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+t,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(El(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const d=s[c];r=(d&u)!==0,s[c]=n?d|u:d&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new lt(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===p.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(El(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[xn.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[xn.TYPE])&&(o[xn.TYPE]=s.subarray(t,t+n)),(s=o[xn.OFFSET])&&(o[xn.OFFSET]=s.subarray(t,t+n+1))||(s=o[xn.DATA])&&(o[xn.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}lt.prototype.children=Object.freeze([]);class Qs extends Q{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new lt(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,i,s])}visitLargeUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ep(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,i,s])}visitLargeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ep(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=X(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=ct(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(D.isSparseUnion(n))return new lt(n,r,o,a,[void 0,void 0,void 0,s],i);const l=Ns(t.valueOffsets);return new lt(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.indices.ArrayType,t.data),{["dictionary"]:o=new it([new Qs().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ct(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Qs().visit({type:n.valueType})}=t,s=X(t.nullBitmap),{["length"]:o=i.length/Bn(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new lt(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Qs().visit({type:n.childType})}=t,s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new lt(n,r,a,l,[o,void 0,s],[i])}}const zE=new Qs;function K(e){return zE.visit(e)}class Mp{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function jE(e){return e.some(t=>t.nullable)}function a0(e){return e.reduce((t,n)=>t+n.nullCount,0)}function l0(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function u0(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function If(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function Ef(e,t){return e.getValid(t)}function Tl(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return If(r,this._offsets,n,t)}}function c0(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=If(s,this._offsets,r,n);return t=void 0,o}}function d0(e){let t;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):If(s,this._offsets,i,n);return t=void 0,o}}class k extends Q{}function $E(e,t){return t===null&&e.length>0?0:-1}function VE(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new Sf(n,e.offset+(t||0),e.length,n,o0)){if(!i)return r;++r}return-1}function W(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case p.Union:break;case p.Dictionary:break;default:return VE(e,n)}const r=Ie.getVisitFn(e),i=ps(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function f0(e,t,n){const r=Ie.getVisitFn(e),i=ps(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}k.prototype.visitNull=$E;k.prototype.visitBool=W;k.prototype.visitInt=W;k.prototype.visitInt8=W;k.prototype.visitInt16=W;k.prototype.visitInt32=W;k.prototype.visitInt64=W;k.prototype.visitUint8=W;k.prototype.visitUint16=W;k.prototype.visitUint32=W;k.prototype.visitUint64=W;k.prototype.visitFloat=W;k.prototype.visitFloat16=W;k.prototype.visitFloat32=W;k.prototype.visitFloat64=W;k.prototype.visitUtf8=W;k.prototype.visitLargeUtf8=W;k.prototype.visitBinary=W;k.prototype.visitLargeBinary=W;k.prototype.visitFixedSizeBinary=W;k.prototype.visitDate=W;k.prototype.visitDateDay=W;k.prototype.visitDateMillisecond=W;k.prototype.visitTimestamp=W;k.prototype.visitTimestampSecond=W;k.prototype.visitTimestampMillisecond=W;k.prototype.visitTimestampMicrosecond=W;k.prototype.visitTimestampNanosecond=W;k.prototype.visitTime=W;k.prototype.visitTimeSecond=W;k.prototype.visitTimeMillisecond=W;k.prototype.visitTimeMicrosecond=W;k.prototype.visitTimeNanosecond=W;k.prototype.visitDecimal=W;k.prototype.visitList=W;k.prototype.visitStruct=W;k.prototype.visitUnion=W;k.prototype.visitDenseUnion=f0;k.prototype.visitSparseUnion=f0;k.prototype.visitDictionary=W;k.prototype.visitInterval=W;k.prototype.visitIntervalDayTime=W;k.prototype.visitIntervalYearMonth=W;k.prototype.visitDuration=W;k.prototype.visitDurationSecond=W;k.prototype.visitDurationMillisecond=W;k.prototype.visitDurationMicrosecond=W;k.prototype.visitDurationNanosecond=W;k.prototype.visitFixedSizeList=W;k.prototype.visitMap=W;const Nl=new k;class M extends Q{}function $(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(D.isInt(t)&&t.bitWidth!==64||D.isTime(t)&&t.bitWidth!==64||D.isFloat(t)&&t.precision!==Xt.HALF))return new Mp(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Mp(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new WE(o)})}class WE{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}M.prototype.visitNull=$;M.prototype.visitBool=$;M.prototype.visitInt=$;M.prototype.visitInt8=$;M.prototype.visitInt16=$;M.prototype.visitInt32=$;M.prototype.visitInt64=$;M.prototype.visitUint8=$;M.prototype.visitUint16=$;M.prototype.visitUint32=$;M.prototype.visitUint64=$;M.prototype.visitFloat=$;M.prototype.visitFloat16=$;M.prototype.visitFloat32=$;M.prototype.visitFloat64=$;M.prototype.visitUtf8=$;M.prototype.visitLargeUtf8=$;M.prototype.visitBinary=$;M.prototype.visitLargeBinary=$;M.prototype.visitFixedSizeBinary=$;M.prototype.visitDate=$;M.prototype.visitDateDay=$;M.prototype.visitDateMillisecond=$;M.prototype.visitTimestamp=$;M.prototype.visitTimestampSecond=$;M.prototype.visitTimestampMillisecond=$;M.prototype.visitTimestampMicrosecond=$;M.prototype.visitTimestampNanosecond=$;M.prototype.visitTime=$;M.prototype.visitTimeSecond=$;M.prototype.visitTimeMillisecond=$;M.prototype.visitTimeMicrosecond=$;M.prototype.visitTimeNanosecond=$;M.prototype.visitDecimal=$;M.prototype.visitList=$;M.prototype.visitStruct=$;M.prototype.visitUnion=$;M.prototype.visitDenseUnion=$;M.prototype.visitSparseUnion=$;M.prototype.visitDictionary=$;M.prototype.visitInterval=$;M.prototype.visitIntervalDayTime=$;M.prototype.visitIntervalYearMonth=$;M.prototype.visitDuration=$;M.prototype.visitDurationSecond=$;M.prototype.visitDurationMillisecond=$;M.prototype.visitDurationMicrosecond=$;M.prototype.visitDurationNanosecond=$;M.prototype.visitFixedSizeList=$;M.prototype.visitMap=$;const bf=new M;var h0;const p0={},y0={};class it{constructor(t){var n,r,i;const s=t[0]instanceof it?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof lt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=p0[o.typeId],c=s[0];this.isValid=d=>Ef(c,d),this.get=d=>a(c,d),this.set=(d,h)=>l(c,d,h),this.indexOf=d=>u(c,d),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,y0[o.typeId]),this._offsets=l0(s);break}this.data=s,this.type=o,this.stride=Bn(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return jE(this.data)}get nullCount(){return a0(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${p[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(wf(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return bf.visit(this)}concat(...t){return new it(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new it(s0(this,t,n,({data:r,_offsets:i},s,o)=>u0(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case p.Int:case p.Float:case p.Decimal:case p.Time:case p.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new it(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return D.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(D.isDictionary(this.type)){const t=new Rl(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new it(n)}return new Rl(this)}unmemoize(){if(D.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new it(n)}return this}}h0=Symbol.toStringTag;it[h0]=(e=>{e.type=D.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(p).map(n=>p[n]).filter(n=>typeof n=="number"&&n!==p.NONE);for(const n of t){const r=Ie.getVisitFnByTypeId(n),i=Qe.getVisitFnByTypeId(n),s=Nl.getVisitFnByTypeId(n);p0[n]={get:r,set:i,indexOf:s},y0[n]=Object.create(e,{isValid:{value:Tl(Ef)},get:{value:Tl(Ie.getVisitFnByTypeId(n))},set:{value:c0(Qe.getVisitFnByTypeId(n))},indexOf:{value:d0(Nl.getVisitFnByTypeId(n))}})}return"Vector"})(it.prototype);class Rl extends it{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Rl(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new it(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}class Te{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Te).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+ot),(n||new Te).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dt.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new hn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new sd).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new sd).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Dt.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class st{constructor(t=[],n,r,i=Dt.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=od(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new st(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new st(n,this.metadata)}assign(...t){const n=t[0]instanceof st?t[0]:Array.isArray(t[0])?new st(t[0]):new st(t),r=[...this.fields],i=ea(ea(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:ea(ea(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=od(s,new Map);return new st([...r,...s],i,new Map([...this.dictionaries,...o]))}}st.prototype.fields=null;st.prototype.metadata=null;st.prototype.dictionaries=null;class gt{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new gt(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],gt.new(n,r,i,s)}}gt.prototype.type=null;gt.prototype.name=null;gt.prototype.nullable=null;gt.prototype.metadata=null;function ea(e,t){return new Map([...e||new Map,...t||new Map])}function od(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(D.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&od(s.children,t)}return t}var HE=Pg,qE=rs;class vo{static decode(t){t=new qE(X(t));const n=Te.getRootAsFooter(t),r=st.decode(n.schema(),new Map,n.version());return new YE(r,n)}static encode(t){const n=new HE,r=st.encode(n,t.schema);Te.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Nr.encode(n,o);const i=n.endVector();Te.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Nr.encode(n,o);const s=n.endVector();return Te.startFooter(n),Te.addSchema(n,r),Te.addVersion(n,Dt.V5),Te.addRecordBatches(n,i),Te.addDictionaries(n,s),Te.finishFooterBuffer(n,Te.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=Dt.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class YE extends vo{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Nr.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Nr.decode(n)}return null}}class Nr{static decode(t){return new Nr(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return sd.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=ft(r),this.bodyLength=ft(n)}}const Et=Object.freeze({done:!0,value:void 0});class Up{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Tf{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class GE extends Tf{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return H(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Et);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Ce.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Ce.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return H(this,void 0,void 0,function*(){return yield this.abort(t),Et})}return(t){return H(this,void 0,void 0,function*(){return yield this.close(),Et})}read(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(Et)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Ea extends GE{write(t){if((t=X(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Jc(this.toUint8Array(!0)):this.toUint8Array(!1).then(Jc)}toUint8Array(t=!1){return t?bn(this._values)[0]:H(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=Qr(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return bn(o,a)[0]})}}class Al{constructor(t){t&&(this.source=new QE(Ce.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class os{constructor(t){t instanceof os?this.source=t.source:t instanceof Ea?this.source=new Mr(Ce.fromAsyncIterable(t)):Cg(t)?this.source=new Mr(Ce.fromNodeStream(t)):pf(t)?this.source=new Mr(Ce.fromDOMStream(t)):Bg(t)?this.source=new Mr(Ce.fromDOMStream(t.body)):Fo(t)?this.source=new Mr(Ce.fromIterable(t)):ni(t)?this.source=new Mr(Ce.fromAsyncIterable(t)):hs(t)&&(this.source=new Mr(Ce.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class QE{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Et)}return(t){return Object.create(this.source.return&&this.source.return(t)||Et)}}class Mr{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return H(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return H(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(t){return H(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||Et;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return H(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||Et;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class Pp extends Al{constructor(t,n){super(),this.position=0,this.buffer=X(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:r}=this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),n.subarray(i,this.position)):null}readAt(t,n){const r=this.buffer,i=Math.min(this.size,t+n);return r?r.subarray(t,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Ol extends os{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=H(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return H(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)})}seek(t){return H(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,t)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(t,n){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&t+n<i){const s=Math.min(i,t+n),o=new Uint8Array(s-t);return(yield r.read(o,0,n,t)).buffer}return new Uint8Array(n)})}close(){return H(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const KE=65536;function ki(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const as=8,Nf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class m0{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?KE:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${ki(this.buffer[1])} ${ki(this.buffer[0])}`}}class ut extends m0{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return ut.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ut.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.length,i=new ut(n);for(let s=0;s<r;){const o=as<r-s?as:r-s,a=new ut(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),l=new ut(new Uint32Array([Nf[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)ut.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new ut(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ut(new Uint32Array(t.buffer)).plus(n)}}class he extends m0{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,r=t.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return he.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return he.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,s=new he(n);for(let o=r?1:0;o<i;){const a=as<i-o?as:i-o,l=new he(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),u=new he(new Uint32Array([Nf[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)he.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new he(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new he(new Uint32Array(t.buffer)).plus(n)}}class pn{constructor(t){this.buffer=t}high(){return new he(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new he(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new ut(new Uint32Array([this.buffer[3],0])),r=new ut(new Uint32Array([this.buffer[2],0])),i=new ut(new Uint32Array([this.buffer[1],0])),s=new ut(new Uint32Array([this.buffer[0],0])),o=new ut(new Uint32Array([t.buffer[3],0])),a=new ut(new Uint32Array([t.buffer[2],0])),l=new ut(new Uint32Array([t.buffer[1],0])),u=new ut(new Uint32Array([t.buffer[0],0]));let c=ut.multiply(s,u);this.buffer[0]=c.low();const d=new ut(new Uint32Array([c.high(),0]));return c=ut.multiply(i,u),d.plus(c),c=ut.multiply(s,l),d.plus(c),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(c)?1:0,this.buffer[2]=d.high(),new ut(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ut.multiply(r,u)).plus(ut.multiply(i,l)).plus(ut.multiply(s,a)),this.buffer[3]+=ut.multiply(n,u).plus(ut.multiply(r,l)).plus(ut.multiply(i,a)).plus(ut.multiply(s,o)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${ki(this.buffer[3])} ${ki(this.buffer[2])} ${ki(this.buffer[1])} ${ki(this.buffer[0])}`}static multiply(t,n){return new pn(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new pn(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return pn.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return pn.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,s=new pn(n);for(let o=r?1:0;o<i;){const a=as<i-o?as:i-o,l=new pn(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),u=new pn(new Uint32Array([Nf[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)pn.from(t[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class g0 extends Q{constructor(t,n,r,i,s=Dt.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(t){return super.visit(t instanceof gt?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return K({type:t,length:n})}visitBool(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<Dt.V5&&this.readNullBitmap(t,r),t.mode===ee.Sparse?this.visitSparseUnion(t,{length:n,nullCount:r}):this.visitDenseUnion(t,{length:n,nullCount:r})}visitDenseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,r=this.nextBufferRange()){return n>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class JE extends g0{constructor(t,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=t}readNullBitmap(t,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):bl(this.sources[r])}readOffsets(t,{offset:n}=this.nextBufferRange()){return ct(Uint8Array,ct(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return ct(Uint8Array,ct(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return D.isTimestamp(t)||(D.isInt(t)||D.isTime(t))&&t.bitWidth===64||D.isDuration(t)||D.isDate(t)&&t.unit===Ge.MILLISECOND?ct(Uint8Array,he.convertArray(r[n])):D.isDecimal(t)?ct(Uint8Array,pn.convertArray(r[n])):D.isBinary(t)||D.isLargeBinary(t)||D.isFixedSizeBinary(t)?XE(r[n]):D.isBool(t)?bl(r[n]):D.isUtf8(t)||D.isLargeUtf8(t)?hf(r[n].join("")):ct(Uint8Array,ct(t.ArrayType,r[n].map(i=>+i)))}}function XE(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}class U extends Q{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function fe(e,t){return t instanceof e.constructor}function li(e,t){return e===t||fe(e,t)}function Yn(e,t){return e===t||fe(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function su(e,t){return e===t||fe(e,t)&&e.precision===t.precision}function ZE(e,t){return e===t||fe(e,t)&&e.byteWidth===t.byteWidth}function Rf(e,t){return e===t||fe(e,t)&&e.unit===t.unit}function Do(e,t){return e===t||fe(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Lo(e,t){return e===t||fe(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function tb(e,t){return e===t||fe(e,t)&&e.children.length===t.children.length&&Rr.compareManyFields(e.children,t.children)}function eb(e,t){return e===t||fe(e,t)&&e.children.length===t.children.length&&Rr.compareManyFields(e.children,t.children)}function Af(e,t){return e===t||fe(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Rr.compareManyFields(e.children,t.children)}function nb(e,t){return e===t||fe(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Rr.visit(e.indices,t.indices)&&Rr.visit(e.dictionary,t.dictionary)}function Of(e,t){return e===t||fe(e,t)&&e.unit===t.unit}function xo(e,t){return e===t||fe(e,t)&&e.unit===t.unit}function rb(e,t){return e===t||fe(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Rr.compareManyFields(e.children,t.children)}function ib(e,t){return e===t||fe(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Rr.compareManyFields(e.children,t.children)}U.prototype.visitNull=li;U.prototype.visitBool=li;U.prototype.visitInt=Yn;U.prototype.visitInt8=Yn;U.prototype.visitInt16=Yn;U.prototype.visitInt32=Yn;U.prototype.visitInt64=Yn;U.prototype.visitUint8=Yn;U.prototype.visitUint16=Yn;U.prototype.visitUint32=Yn;U.prototype.visitUint64=Yn;U.prototype.visitFloat=su;U.prototype.visitFloat16=su;U.prototype.visitFloat32=su;U.prototype.visitFloat64=su;U.prototype.visitUtf8=li;U.prototype.visitLargeUtf8=li;U.prototype.visitBinary=li;U.prototype.visitLargeBinary=li;U.prototype.visitFixedSizeBinary=ZE;U.prototype.visitDate=Rf;U.prototype.visitDateDay=Rf;U.prototype.visitDateMillisecond=Rf;U.prototype.visitTimestamp=Do;U.prototype.visitTimestampSecond=Do;U.prototype.visitTimestampMillisecond=Do;U.prototype.visitTimestampMicrosecond=Do;U.prototype.visitTimestampNanosecond=Do;U.prototype.visitTime=Lo;U.prototype.visitTimeSecond=Lo;U.prototype.visitTimeMillisecond=Lo;U.prototype.visitTimeMicrosecond=Lo;U.prototype.visitTimeNanosecond=Lo;U.prototype.visitDecimal=li;U.prototype.visitList=tb;U.prototype.visitStruct=eb;U.prototype.visitUnion=Af;U.prototype.visitDenseUnion=Af;U.prototype.visitSparseUnion=Af;U.prototype.visitDictionary=nb;U.prototype.visitInterval=Of;U.prototype.visitIntervalDayTime=Of;U.prototype.visitIntervalYearMonth=Of;U.prototype.visitDuration=xo;U.prototype.visitDurationSecond=xo;U.prototype.visitDurationMillisecond=xo;U.prototype.visitDurationMicrosecond=xo;U.prototype.visitDurationNanosecond=xo;U.prototype.visitFixedSizeList=rb;U.prototype.visitMap=ib;const Rr=new U;function ad(e,t){return Rr.compareSchemas(e,t)}function Qu(e,t){return sb(e,t.map(n=>n.data.concat()))}function sb(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,h)=>Math.max(d,h.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=ob(n,o,c,t,i),o>0&&(r[s++]=K({type:new se(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(d=>new me(e,d))]}function ob(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:K({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var v0;let Ar=class zr{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new st([]),this._offsets=[0],this;let i,s;t[0]instanceof st&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof me)return[l];if(l instanceof zr)return l.batches;if(l instanceof lt){if(l.type instanceof se)return[new me(new st(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(g=>new it([l[g]])),d=i??new st(u.map((g,v)=>new gt(String(g),c[v].type,c[v].nullable))),[,h]=Qu(d,c);return h.length===0?[new me(l)]:h}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new st([]),!(i instanceof st))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof me))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!ad(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??l0(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=a0(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(wf(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?bf.visit(new it(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new zr(n,r.map(i=>new me(n,i)))}slice(t,n){const r=this.schema;[t,n]=s0({length:this.numRows},t,n);const i=u0(this.data,this._offsets,t,n);return new zr(r,i.map(s=>new me(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=K({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new it(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new it([K({type:new Tr,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,n],[r,i]=Qu(r,a)}return new zr(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new zr(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,d]=a,h=n.findIndex(g=>g.name===l.name);return~h?d[h]=u:c.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new zr(...Qu(s,o))}};v0=Symbol.toStringTag;Ar[v0]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Tl(Ef),e.get=Tl(Ie.getVisitFn(p.Struct)),e.set=c0(Qe.getVisitFn(p.Struct)),e.indexOf=d0(Nl.getVisitFn(p.Struct)),"Table"))(Ar.prototype);var _0;let me=class Ps{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof st))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=K({nullCount:0,type:new se(this.schema.fields),children:this.schema.fields.map(n=>K({type:n.type,nullCount:0}))})]=t,!(this.data instanceof lt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=zp(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=gt.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new st(r),a=K({type:new se(r),length:s,children:i,nullCount:0});[this.schema,this.data]=zp(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=w0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ie.visit(this.data,t)}at(t){return this.get(wf(t,this.numRows))}set(t,n){return Qe.visit(this.data,t,n)}indexOf(t,n){return Nl.visit(this.data,t,n)}[Symbol.iterator](){return bf.visit(new it([this.data]))}toArray(){return[...this]}concat(...t){return new Ar(this.schema,[this,...t])}slice(t,n){const[r]=new it([this.data]).slice(t,n).data;return new Ps(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new it([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new it([K({type:new Tr,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new st(s,new Map(this.schema.metadata)),i=K({type:new se(s),children:o})}return new Ps(r,i)}select(t){const n=this.schema.select(t),r=new se(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Ps(n,K({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=K({type:new se(n.fields),length:this.numRows,children:r});return new Ps(n,i)}};_0=Symbol.toStringTag;me[_0]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(me.prototype);function zp(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:K({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),K({type:new se(i),length:n,children:s})]}function w0(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],l=t[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])w0(a.children,u==null?void 0:u.children,n);if(D.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class Ff extends me{constructor(t){const n=t.fields.map(i=>K({type:i.type})),r=K({type:new se(t.fields),nullCount:0,children:n});super(t,r)}}let er=class dn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new dn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+ot),(n||new dn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dt.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):rt.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Dt.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,rt.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return dn.startMessage(t),dn.addVersion(t,n),dn.addHeaderType(t,r),dn.addHeader(t,i),dn.addBodyLength(t,s),dn.addCustomMetadata(t,o),dn.endMessage(t)}};class ab extends Q{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Dp.startNull(n),Dp.endNull(n)}visitInt(t,n){return Re.startInt(n),Re.addBitWidth(n,t.bitWidth),Re.addIsSigned(n,t.isSigned),Re.endInt(n)}visitFloat(t,n){return gn.startFloatingPoint(n),gn.addPrecision(n,t.precision),gn.endFloatingPoint(n)}visitBinary(t,n){return Np.startBinary(n),Np.endBinary(n)}visitLargeBinary(t,n){return Ap.startLargeBinary(n),Ap.endLargeBinary(n)}visitBool(t,n){return Rp.startBool(n),Rp.endBool(n)}visitUtf8(t,n){return Lp.startUtf8(n),Lp.endUtf8(n)}visitLargeUtf8(t,n){return Op.startLargeUtf8(n),Op.endLargeUtf8(n)}visitDecimal(t,n){return mi.startDecimal(n),mi.addScale(n,t.scale),mi.addPrecision(n,t.precision),mi.addBitWidth(n,t.bitWidth),mi.endDecimal(n)}visitDate(t,n){return ga.startDate(n),ga.addUnit(n,t.unit),ga.endDate(n)}visitTime(t,n){return Pe.startTime(n),Pe.addUnit(n,t.unit),Pe.addBitWidth(n,t.bitWidth),Pe.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return ze.startTimestamp(n),ze.addUnit(n,t.unit),r!==void 0&&ze.addTimezone(n,r),ze.endTimestamp(n)}visitInterval(t,n){return vn.startInterval(n),vn.addUnit(n,t.unit),vn.endInterval(n)}visitDuration(t,n){return va.startDuration(n),va.addUnit(n,t.unit),va.endDuration(n)}visitList(t,n){return Fp.startList(n),Fp.endList(n)}visitStruct(t,n){return Wr.startStruct_(n),Wr.endStruct_(n)}visitUnion(t,n){ye.startTypeIdsVector(n,t.typeIds.length);const r=ye.createTypeIdsVector(n,t.typeIds);return ye.startUnion(n),ye.addMode(n,t.mode),ye.addTypeIds(n,r),ye.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Mn.startDictionaryEncoding(n),Mn.addId(n,BigInt(t.id)),Mn.addIsOrdered(n,t.isOrdered),r!==void 0&&Mn.addIndexType(n,r),Mn.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return _a.startFixedSizeBinary(n),_a.addByteWidth(n,t.byteWidth),_a.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return wa.startFixedSizeList(n),wa.addListSize(n,t.listSize),wa.endFixedSizeList(n)}visitMap(t,n){return Sa.startMap(n),Sa.addKeysSorted(n,t.keysSorted),Sa.endMap(n)}}const Ku=new ab;function lb(e,t=new Map){return new st(cb(e,t),ba(e.metadata),t)}function S0(e){return new De(e.count,I0(e.columns),E0(e.columns))}function ub(e){return new Nn(S0(e.data),e.id,e.isDelta)}function cb(e,t){return(e.fields||[]).filter(Boolean).map(n=>gt.fromJSON(n,t))}function jp(e,t){return(e.children||[]).filter(Boolean).map(n=>gt.fromJSON(n,t))}function I0(e){return(e||[]).reduce((t,n)=>[...t,new Or(n.count,db(n.VALIDITY)),...I0(n.children)],[])}function E0(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new wn(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new wn(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new wn(t.length,i.OFFSET.length)),i.DATA&&t.push(new wn(t.length,i.DATA.length)),t=E0(i.children,t)}return t}function db(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function fb(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=Vp(e,jp(e,t)),i=new gt(e.name,o,e.nullable,ba(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?$p(r):new go,a=new ss(t.get(n),r,n,s.isOrdered),i=new gt(e.name,a,e.nullable,ba(e.metadata))):(r=(r=s.indexType)?$p(r):new go,t.set(n,o=Vp(e,jp(e,t))),a=new ss(o,r,n,s.isOrdered),i=new gt(e.name,a,e.nullable,ba(e.metadata))),i||null}function ba(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function $p(e){return new ri(e.isSigned,e.bitWidth)}function Vp(e,t){const n=e.type.name;switch(n){case"NONE":return new Tr;case"null":return new Tr;case"binary":return new al;case"largebinary":return new ll;case"utf8":return new ul;case"largeutf8":return new cl;case"bool":return new dl;case"list":return new vl((t||[])[0]);case"struct":return new se(t||[]);case"struct_":return new se(t||[])}switch(n){case"int":{const r=e.type;return new ri(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new ol(Xt[r.precision])}case"decimal":{const r=e.type;return new fl(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new hl(Ge[r.unit])}case"time":{const r=e.type;return new pl(P[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new yl(P[r.unit],r.timezone)}case"interval":{const r=e.type;return new ml(Tn[r.unit])}case"duration":{const r=e.type;return new gl(P[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new _l(ee[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new wl(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new Sl(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Il((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var hb=Pg,pb=rs;class oe{static fromJSON(t,n){const r=new oe(0,Dt.V5,n);return r._createHeader=yb(t,n),r}static decode(t){t=new pb(X(t));const n=er.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new oe(r,i,s);return o._createHeader=mb(n,s),o}static encode(t){const n=new hb;let r=-1;return t.isSchema()?r=st.encode(n,t.header()):t.isRecordBatch()?r=De.encode(n,t.header()):t.isDictionaryBatch()&&(r=Nn.encode(n,t.header())),er.startMessage(n),er.addVersion(n,Dt.V5),er.addHeader(n,r),er.addHeaderType(n,t.headerType),er.addBodyLength(n,BigInt(t.bodyLength)),er.finishMessageBuffer(n,er.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof st)return new oe(0,Dt.V5,rt.Schema,t);if(t instanceof De)return new oe(n,Dt.V5,rt.RecordBatch,t);if(t instanceof Nn)return new oe(n,Dt.V5,rt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===rt.Schema}isRecordBatch(){return this.headerType===rt.RecordBatch}isDictionaryBatch(){return this.headerType===rt.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=ft(t)}}class De{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=ft(t)}}let Nn=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=ft(n)}};class wn{constructor(t,n){this.offset=ft(t),this.length=ft(n)}}class Or{constructor(t,n){this.length=ft(t),this.nullCount=ft(n)}}function yb(e,t){return()=>{switch(t){case rt.Schema:return st.fromJSON(e);case rt.RecordBatch:return De.fromJSON(e);case rt.DictionaryBatch:return Nn.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${rt[t]}, type: ${t} }`)}}function mb(e,t){return()=>{switch(t){case rt.Schema:return st.decode(e.header(new hn),new Map,e.version());case rt.RecordBatch:return De.decode(e.header(new Ln),e.version());case rt.DictionaryBatch:return Nn.decode(e.header(new pi),e.version())}throw new Error(`Unrecognized Message type: { name: ${rt[t]}, type: ${t} }`)}}gt.encode=Rb;gt.decode=Tb;gt.fromJSON=fb;st.encode=Nb;st.decode=gb;st.fromJSON=lb;De.encode=Ab;De.decode=vb;De.fromJSON=S0;Nn.encode=Ob;Nn.decode=_b;Nn.fromJSON=ub;Or.encode=Fb;Or.decode=Sb;wn.encode=Db;wn.decode=wb;function gb(e,t=new Map,n=Dt.V5){const r=bb(e,t);return new st(r,Ta(e),t,n)}function vb(e,t=Dt.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new De(e.length(),Ib(e),Eb(e,t))}function _b(e,t=Dt.V5){return new Nn(De.decode(e.data(),t),e.id(),e.isDelta())}function wb(e){return new wn(e.offset(),e.length())}function Sb(e){return new Or(e.length(),e.nullCount())}function Ib(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Or.decode(n));return t}function Eb(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<Dt.V4&&(r.bb_pos+=8*(i+1)),n[++s]=wn.decode(r));return n}function bb(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=gt.decode(r,t));return n}function Wp(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=gt.decode(r,t));return n}function Tb(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=qp(e,Wp(e,t)),r=new gt(e.name(),i,e.nullable(),Ta(e))):t.has(n=ft(a.id()))?(s=(s=a.indexType())?Hp(s):new go,o=new ss(t.get(n),s,n,a.isOrdered()),r=new gt(e.name(),o,e.nullable(),Ta(e))):(s=(s=a.indexType())?Hp(s):new go,t.set(n,i=qp(e,Wp(e,t))),o=new ss(i,s,n,a.isOrdered()),r=new gt(e.name(),o,e.nullable(),Ta(e))),r||null}function Ta(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function Hp(e){return new ri(e.isSigned(),e.bitWidth())}function qp(e,t){const n=e.typeType();switch(n){case ht.NONE:return new Tr;case ht.Null:return new Tr;case ht.Binary:return new al;case ht.LargeBinary:return new ll;case ht.Utf8:return new ul;case ht.LargeUtf8:return new cl;case ht.Bool:return new dl;case ht.List:return new vl((t||[])[0]);case ht.Struct_:return new se(t||[])}switch(n){case ht.Int:{const r=e.type(new Re);return new ri(r.isSigned(),r.bitWidth())}case ht.FloatingPoint:{const r=e.type(new gn);return new ol(r.precision())}case ht.Decimal:{const r=e.type(new mi);return new fl(r.scale(),r.precision(),r.bitWidth())}case ht.Date:{const r=e.type(new ga);return new hl(r.unit())}case ht.Time:{const r=e.type(new Pe);return new pl(r.unit(),r.bitWidth())}case ht.Timestamp:{const r=e.type(new ze);return new yl(r.unit(),r.timezone())}case ht.Interval:{const r=e.type(new vn);return new ml(r.unit())}case ht.Duration:{const r=e.type(new va);return new gl(r.unit())}case ht.Union:{const r=e.type(new ye);return new _l(r.mode(),r.typeIdsArray()||[],t||[])}case ht.FixedSizeBinary:{const r=e.type(new _a);return new wl(r.byteWidth())}case ht.FixedSizeList:{const r=e.type(new wa);return new Sl(r.listSize(),(t||[])[0])}case ht.Map:{const r=e.type(new Sa);return new Il((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${ht[n]}" (${n})`)}function Nb(e,t){const n=t.fields.map(s=>gt.encode(e,s));hn.startFieldsVector(e,n.length);const r=hn.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?hn.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return kt.startKeyValue(e),kt.addKey(e,a),kt.addValue(e,l),kt.endKeyValue(e)})):-1;return hn.startSchema(e),hn.addFields(e,r),hn.addEndianness(e,Lb?is.Little:is.Big),i!==-1&&hn.addCustomMetadata(e,i),hn.endSchema(e)}function Rb(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;D.isDictionary(s)?(o=s.dictionary.typeId,i=Ku.visit(s,e),r=Ku.visit(s.dictionary,e)):r=Ku.visit(s,e);const a=(s.children||[]).map(c=>gt.encode(e,c)),l=Be.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?Be.createCustomMetadataVector(e,[...t.metadata].map(([c,d])=>{const h=e.createString(`${c}`),g=e.createString(`${d}`);return kt.startKeyValue(e),kt.addKey(e,h),kt.addValue(e,g),kt.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Be.startField(e),Be.addType(e,r),Be.addTypeType(e,o),Be.addChildren(e,l),Be.addNullable(e,!!t.nullable),n!==-1&&Be.addName(e,n),i!==-1&&Be.addDictionary(e,i),u!==-1&&Be.addCustomMetadata(e,u),Be.endField(e)}function Ab(e,t){const n=t.nodes||[],r=t.buffers||[];Ln.startNodesVector(e,n.length);for(const o of n.slice().reverse())Or.encode(e,o);const i=e.endVector();Ln.startBuffersVector(e,r.length);for(const o of r.slice().reverse())wn.encode(e,o);const s=e.endVector();return Ln.startRecordBatch(e),Ln.addLength(e,BigInt(t.length)),Ln.addNodes(e,i),Ln.addBuffers(e,s),Ln.endRecordBatch(e)}function Ob(e,t){const n=De.encode(e,t.data);return pi.startDictionaryBatch(e),pi.addId(e,BigInt(t.id)),pi.addIsDelta(e,t.isDelta),pi.addData(e,n),pi.endDictionaryBatch(e)}function Fb(e,t){return $g.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function Db(e,t){return jg.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const Lb=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),Df=e=>`Expected ${rt[e]} Message in stream, but was null or length 0.`,Lf=e=>`Header pointer of flatbuffer-encoded ${rt[e]} Message is null or length 0.`,b0=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,T0=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class N0{constructor(t){this.source=t instanceof Al?t:new Al(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Et:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Df(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=X(this.source.read(t));if(n.byteLength<t)throw new Error(T0(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=rt.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(Lf(n));return i}readMetadataLength(){const t=this.source.read(ou),n=t&&new rs(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(t){const n=this.source.read(t);if(!n)return Et;if(n.byteLength<t)throw new Error(b0(t,n.byteLength));return{done:!1,value:oe.decode(n)}}}class xb{constructor(t,n){this.source=t instanceof os?t:xg(t)?new Ol(t,n):new os(t)}[Symbol.asyncIterator](){return this}next(){return H(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Et:t})}throw(t){return H(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return H(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return H(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Df(t));return n.value})}readMessageBody(t){return H(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=X(yield this.source.read(t));if(n.byteLength<t)throw new Error(T0(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return H(this,arguments,void 0,function*(t=!1){const n=rt.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(Lf(n));return i})}readMetadataLength(){return H(this,void 0,void 0,function*(){const t=yield this.source.read(ou),n=t&&new rs(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(t){return H(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return Et;if(n.byteLength<t)throw new Error(b0(t,n.byteLength));return{done:!1,value:oe.decode(n)}})}}class Bb extends N0{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Up?t:new Up(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:oe.fromJSON(t.schema,rt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:oe.fromJSON(n,rt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:oe.fromJSON(n,rt.RecordBatch)}}return this._body=[],Et}readMessageBody(t){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(Df(t));return n.value}readSchema(){const t=rt.Schema,n=this.readMessage(t),r=n==null?void 0:n.header();if(!n||!r)throw new Error(Lf(t));return r}}const ou=4,ld="ARROW1",_o=new Uint8Array(ld.length);for(let e=0;e<ld.length;e+=1)_o[e]=ld.codePointAt(e);function xf(e,t=0){for(let n=-1,r=_o.length;++n<r;)if(_o[n]!==e[t+n])return!1;return!0}const Bo=_o.length,R0=Bo+ou,Cb=Bo*2+ou;class We extends Tf{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return ni(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ce.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ce.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof We?t:Xc(t)?Pb(t):xg(t)?$b(t):ni(t)?H(this,void 0,void 0,function*(){return yield We.from(yield t)}):Bg(t)||pf(t)||Cg(t)||hs(t)?jb(new os(t)):zb(new Al(t))}static readAll(t){return t instanceof We?t.isSync()?Yp(t):Gp(t):Xc(t)||ArrayBuffer.isView(t)||Fo(t)||Lg(t)?Yp(t):Gp(t)}}class Fl extends We{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return _n(this,arguments,function*(){yield Y(yield*ma(Qr(this[Symbol.iterator]())))})}}class Dl extends We{constructor(t){super(t),this._impl=t}readAll(){return H(this,void 0,void 0,function*(){var t,n,r,i;const s=new Array;try{for(var o=!0,a=Qr(this),l;l=yield a.next(),t=l.done,!t;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!t&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class A0 extends Fl{constructor(t){super(t),this._impl=t}}class kb extends Dl{constructor(t){super(t),this._impl=t}}class O0{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const r=this._loadVectors(t,n,this.schema.fields),i=K({type:new se(this.schema.fields),length:t.length,children:r});return new me(this.schema,i)}_loadDictionaryBatch(t,n){const{id:r,isDelta:i}=t,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(t.data,n,[l]);return(a&&i?a.concat(new it(u)):new it(u)).memoize()}_loadVectors(t,n,r){return new g0(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class Ll extends O0{constructor(t,n){super(n),this._reader=Xc(t)?new Bb(this._handle=t):new N0(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=D0(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Et}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Et}next(){if(this.closed)return Et;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Ff(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class xl extends O0{constructor(t,n){super(n),this._reader=new xb(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return H(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return H(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=D0(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Et})}return(t){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Et})}next(){return H(this,void 0,void 0,function*(){if(this.closed)return Et;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Ff(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return H(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class F0 extends Ll{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof Pp?t:new Pp(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(rt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(rt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:t}=this,n=t.size-R0,r=t.readInt32(n),i=t.readAt(n-r,r);return vo.decode(i)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class Mb extends xl{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(t instanceof Ol?t:new Ol(t,r),i)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return H(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return H(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(rt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){return H(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(rt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return H(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-R0,r=yield t.readInt32(n),i=yield t.readAt(n-r,r);return vo.decode(i)})}_readNextMessageAndValidate(t){return H(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class Ub extends Ll{constructor(t,n){super(t,n)}_loadVectors(t,n,r){return new JE(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function D0(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*Yp(e){const t=We.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Gp(e){return _n(this,arguments,function*(){const n=yield Y(We.from(e));try{if(!(yield Y(n.open({autoDestroy:!1}))).closed)do yield yield Y(n);while(!(yield Y(n.reset().open())).closed)}finally{yield Y(n.cancel())}})}function Pb(e){return new Fl(new Ub(e))}function zb(e){const t=e.peek(Bo+7&-8);return t&&t.byteLength>=4?xf(t)?new A0(new F0(e.read())):new Fl(new Ll(e)):new Fl(new Ll(function*(){}()))}function jb(e){return H(this,void 0,void 0,function*(){const t=yield e.peek(Bo+7&-8);return t&&t.byteLength>=4?xf(t)?new A0(new F0(yield e.read())):new Dl(new xl(e)):new Dl(new xl(function(){return _n(this,arguments,function*(){})}()))})}function $b(e){return H(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Ol(e,t);return t>=Cb&&xf(yield n.readAt(0,Bo+7&-8))?new kb(new Mb(n)):new Dl(new xl(n))})}class Nt extends Q{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof me?s.data.children:s.data),r=new Nt;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof it)return this.visitMany(t.data),this;const{type:n}=t;if(!D.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(D.isUnion(n))this.nodes.push(new Or(r,0));else{const{nullCount:i}=t;D.isNull(n)||sn.call(this,i<=0?new Uint8Array(0):El(t.offset,r,t.nullBitmap)),this.nodes.push(new Or(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function sn(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new wn(this._byteLength,t)),this._byteLength+=t,this}function Vb(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(sn.call(this,i),n.mode===ee.Sparse)return ud.call(this,e);if(n.mode===ee.Dense){if(e.offset<=0)return sn.call(this,s),ud.call(this,e);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,d=-1;++d<r;)(u=i[d])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[d]),o[d]=s[d]-c,l[u]=((t=l[u])!==null&&t!==void 0?t:0)+1);sn.call(this,o),this.visitMany(e.children.map((u,c)=>{const d=n.typeIds[c],h=a[d],g=l[d];return u.slice(h,Math.min(r,g))}))}}return this}function Wb(e){let t;return e.nullCount>=e.length?sn.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?sn.call(this,El(e.offset,e.length,t)):sn.call(this,bl(e.values))}function Gn(e){return sn.call(this,e.values.subarray(0,e.length*e.stride))}function au(e){const{length:t,values:n,valueOffsets:r}=e,i=ft(r[0]),s=ft(r[t]),o=Math.min(s-i,n.byteLength-i);return sn.call(this,Mg(-i,t+1,r)),sn.call(this,n.subarray(i,i+o)),this}function Bf(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return sn.call(this,Mg(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function ud(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Nt.prototype.visitBool=Wb;Nt.prototype.visitInt=Gn;Nt.prototype.visitFloat=Gn;Nt.prototype.visitUtf8=au;Nt.prototype.visitLargeUtf8=au;Nt.prototype.visitBinary=au;Nt.prototype.visitLargeBinary=au;Nt.prototype.visitFixedSizeBinary=Gn;Nt.prototype.visitDate=Gn;Nt.prototype.visitTimestamp=Gn;Nt.prototype.visitTime=Gn;Nt.prototype.visitDecimal=Gn;Nt.prototype.visitList=Bf;Nt.prototype.visitStruct=ud;Nt.prototype.visitUnion=Vb;Nt.prototype.visitInterval=Gn;Nt.prototype.visitDuration=Gn;Nt.prototype.visitFixedSizeList=Bf;Nt.prototype.visitMap=Bf;class L0 extends Tf{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new Ea,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,Se(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return ni(t)?t.then(n=>this.writeAll(n)):hs(t)?Uf(this,t):Mf(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof Ea?this._sink=t:(this._sink=new Ea,t&&SI(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&II(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!ad(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ar&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof me&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!ad(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof me?t instanceof Ff||this._writeRecordBatch(t):t instanceof Ar?this.writeAll(t.batches):Fo(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=oe.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===rt.RecordBatch?this._recordBatchBlocks.push(new Nr(a,t.bodyLength,this._position)):t.headerType===rt.DictionaryBatch&&this._dictionaryBlocks.push(new Nr(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=X(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(oe.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(_o)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Nt.assemble(t),o=new De(t.numRows,r,i),a=oe.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Nt.assemble(new it([t])),l=new De(t.length,s,o),u=new Nn(l,n,r),c=oe.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){var n,r;for(const[i,s]of t.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,c]of o.entries())this._writeDictionaryBatch(c,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class Cf extends L0{static writeAll(t,n){const r=new Cf(n);return ni(t)?t.then(i=>r.writeAll(i)):hs(t)?Uf(r,t):Mf(r,t)}}class kf extends L0{static writeAll(t){const n=new kf;return ni(t)?t.then(r=>n.writeAll(r)):hs(t)?Uf(n,t):Mf(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,r)}_writeFooter(t){const n=vo.encode(new vo(t,Dt.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Mf(e,t){let n=t;t instanceof Ar&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function Uf(e,t){return H(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Qr(t);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;e.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function Hb(e,t="stream"){return(t==="stream"?Cf:kf).writeAll(e).toUint8Array(!0)}var qb=Object.create,x0=Object.defineProperty,Yb=Object.getOwnPropertyDescriptor,Gb=Object.getOwnPropertyNames,Qb=Object.getPrototypeOf,Kb=Object.prototype.hasOwnProperty,Jb=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xb=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Gb(t))!Kb.call(e,i)&&i!==n&&x0(e,i,{get:()=>t[i],enumerable:!(r=Yb(t,i))||r.enumerable});return e},Zb=(e,t,n)=>(n=e!=null?qb(Qb(e)):{},Xb(!e||!e.__esModule?x0(n,"default",{value:e,enumerable:!0}):n,e)),tT=Jb((e,t)=>{t.exports=Worker}),eT=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(eT||{}),nT=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(nT||{}),rT=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(rT||{}),iT=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(iT||{}),sT=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(sT||{}),oT=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(oT||{}),bO=class{log(e){}},aT=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},lT=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",e[e.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",e))(lT||{}),uT=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=We.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new Ar(n)}async send(e,t=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.startPendingQuery(this._conn,e,t);for(;n==null;){if(this._bindings.isDetached()){console.error("cannot send a message since the worker is not set!");return}n=await this._bindings.pollPendingQuery(this._conn)}let r=new B0(this._bindings,this._conn,n),i=await We.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new cT(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=Hb(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},B0=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=null;for(this._inFlight!=null&&(e=await this._inFlight,this._inFlight=null);e==null;)e=await this.db.fetchQueryResults(this.conn);return this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},cT=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=We.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new Ar(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new B0(this.bindings,this.connectionId,t),r=await We.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},dT=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(dT||{}),fT=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.PROGRESS_UPDATE="PROGRESS_UPDATE",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(fT||{}),tt=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function Na(e){switch(e.typeId){case p.Binary:return{sqlType:"binary"};case p.Bool:return{sqlType:"bool"};case p.Date:return{sqlType:"date"};case p.DateDay:return{sqlType:"date32[d]"};case p.DateMillisecond:return{sqlType:"date64[ms]"};case p.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case p.Float:return{sqlType:"float"};case p.Float16:return{sqlType:"float16"};case p.Float32:return{sqlType:"float32"};case p.Float64:return{sqlType:"float64"};case p.Int:return{sqlType:"int32"};case p.Int16:return{sqlType:"int16"};case p.Int32:return{sqlType:"int32"};case p.Int64:return{sqlType:"int64"};case p.Uint16:return{sqlType:"uint16"};case p.Uint32:return{sqlType:"uint32"};case p.Uint64:return{sqlType:"uint64"};case p.Uint8:return{sqlType:"uint8"};case p.IntervalDayTime:return{sqlType:"interval[dt]"};case p.IntervalYearMonth:return{sqlType:"interval[m]"};case p.List:return{sqlType:"list",valueType:Na(e.valueType)};case p.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case p.Null:return{sqlType:"null"};case p.Utf8:return{sqlType:"utf8"};case p.Struct:return{sqlType:"struct",fields:e.children.map(t=>cd(t.name,t.type))};case p.Map:{let t=e;return{sqlType:"map",keyType:Na(t.keyType),valueType:Na(t.valueType)}}case p.Time:return{sqlType:"time[s]"};case p.TimeMicrosecond:return{sqlType:"time[us]"};case p.TimeMillisecond:return{sqlType:"time[ms]"};case p.TimeNanosecond:return{sqlType:"time[ns]"};case p.TimeSecond:return{sqlType:"time[s]"};case p.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case p.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case p.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case p.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case p.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function cd(e,t){let n=Na(t);return n.name=e,n}var hT=/'(opfs:\/\/\S*?)'/g,pT=/(opfs:\/\/\S*?)/g;function yT(e){return e.search(pT)>-1}function mT(e){return[...e.matchAll(hT)].map(t=>t[1])}var gT=new TextEncoder,vT=class{constructor(e,t=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._config={},this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}get config(){return this._config}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!:"+e.type+","+e.data);return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(n.data);return}case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(t=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&t.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}isDetached(){return!this._worker}async reset(){let e=new tt("RESET",null);return await this.postTask(e)}async ping(){let e=new tt("PING",null);await this.postTask(e)}async dropFile(e){let t=new tt("DROP_FILE",e);return await this.postTask(t)}async dropFiles(e){let t=new tt("DROP_FILES",e);return await this.postTask(t)}async flushFiles(){let e=new tt("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new tt("INSTANTIATE",[e,t]);return await this.postTask(r)}async getVersion(){let e=new tt("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new tt("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){this._config=e;let t=new tt("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new tt("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new tt("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new uT(this,e)}async disconnect(e){let t=new tt("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){if(this.shouldOPFSFileHandling()){let n=await this.registerOPFSFileFromSQL(t);try{return await this._runQueryAsync(e,t)}finally{n.length>0&&await this.dropFiles(n)}}else return await this._runQueryAsync(e,t)}async _runQueryAsync(e,t){let n=new tt("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t,n=!1){if(this.shouldOPFSFileHandling()){let r=await this.registerOPFSFileFromSQL(t);try{return await this._startPendingQueryAsync(e,t,n)}finally{r.length>0&&await this.dropFiles(r)}}else return await this._startPendingQueryAsync(e,t,n)}async _startPendingQueryAsync(e,t,n=!1){let r=new tt("START_PENDING_QUERY",[e,t,n]);return await this.postTask(r)}async pollPendingQuery(e){let t=new tt("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new tt("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new tt("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new tt("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new tt("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new tt("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let r=new tt("RUN_PREPARED",[e,t,n]);return await this.postTask(r)}async sendPrepared(e,t,n){let r=new tt("SEND_PREPARED",[e,t,n]);return await this.postTask(r)}async globFiles(e){let t=new tt("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=gT.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,r){t===void 0&&(t=e);let i=new tt("REGISTER_FILE_URL",[e,t,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,t){let n=new tt("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,r){let i=new tt("REGISTER_FILE_HANDLE",[e,t,n,r]);await this.postTask(i,[])}async registerOPFSFileName(e){let t=new tt("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(t,[])}async collectFileStatistics(e,t){let n=new tt("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new tt("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new tt("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new tt("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let r=new tt("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(r,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(cd(s,o))}n.columnsFlat=i,delete n.columns}let r=new tt("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(r)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(cd(s,o))}n.columnsFlat=i,delete n.columns}let r=new tt("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(r)}shouldOPFSFileHandling(){var e,t;return yT((e=this.config.path)!=null?e:"")?((t=this.config.opfs)==null?void 0:t.fileHandling)=="auto":!1}async registerOPFSFileFromSQL(e){let t=mT(e),n=[];for(let r of t)try{await this.registerOPFSFileName(r),n.push(r)}catch(i){throw console.error(i),new Error("File Not found:"+r)}return n}};function _T(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}_T();var wT=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(wT||{}),ST=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),IT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),ET=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),bT=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),Pf={name:"@duckdb/duckdb-wasm",version:"1.32.0"},TT=Pf.name,NT=Pf.version,zf=Pf.version.split(".");zf[0];zf[1];zf[2];var RT=()=>typeof navigator>"u";function AT(){let e="https://cdn.jsdelivr.net/npm/".concat(TT,"@").concat(NT,"/dist/");return{mvp:{mainModule:"".concat(e,"duckdb-mvp.wasm"),mainWorker:"".concat(e,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(e,"duckdb-eh.wasm"),mainWorker:"".concat(e,"duckdb-browser-eh.worker.js")}}}var Ju=null,Xu=null,Zu=null,tc=null,ec=null;async function OT(){return Ju==null&&(Ju=typeof BigInt64Array<"u"),Xu==null&&(Xu=await IT()),Zu==null&&(Zu=await bT()),tc==null&&(tc=await ET()),ec==null&&(ec=await ST()),{bigInt64Array:Ju,crossOriginIsolated:RT()||globalThis.crossOriginIsolated||!1,wasmExceptions:Xu,wasmSIMD:tc,wasmThreads:Zu,wasmBulkMemory:ec}}async function FT(e){let t=await OT();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}var DT=Zb(tT());async function LT(e){let t=new Request(e),n=await fetch(t),r=URL.createObjectURL(await n.blob());return new DT.default(r)}const C0=Uint8Array.of(65,82,82,79,87,49),lu={V1:0,V4:3,V5:4},hr={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},S={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},k0={HALF:0,SINGLE:1,DOUBLE:2},Bl={DAY:0,MILLISECOND:1},He={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},Qi={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},jf={Sparse:0,Dense:1},xT=Uint8Array,M0=Uint16Array,BT=Uint32Array,U0=BigUint64Array,P0=Int8Array,CT=Int16Array,Rn=Int32Array,An=BigInt64Array,kT=Float32Array,uu=Float64Array;function MT(e,t){const n=Math.log2(e)-3;return(t?[P0,CT,Rn,An]:[xT,M0,BT,U0])[n]}function $f(e,t){let n=0,r=e.length;if(r<=2147483648)do{const i=n+r>>>1;e[i]<=t?n=i+1:r=i}while(n<r);else do{const i=Math.trunc((n+r)/2);e[i]<=t?n=i+1:r=i}while(n<r);return n}function Vf(e,t,n){if(t(e))return e;throw new Error(n(e))}function an(e,t,n){return t=Array.isArray(t)?t:Object.values(t),Vf(e,r=>t.includes(r),n??(()=>`${e} must be one of ${t}`))}function z0(e,t){for(const[n,r]of Object.entries(e))if(r===t)return n;return"<Unknown>"}const Wf=e=>`Unsupported data type: "${z0(S,e)}" (id ${e})`,j0=(e,t,n=!0,r=null)=>({name:e,type:t,nullable:n,metadata:r});function $0(e){return Object.hasOwn(e,"name")&&V0(e.type)}function V0(e){return typeof(e==null?void 0:e.typeId)=="number"}function Fr(e,t="",n=!0){return $0(e)?e:j0(t,Vf(e,V0,()=>"Data type expected."),n)}const UT=(e,t,n=!1,r=-1)=>({typeId:S.Dictionary,id:r,dictionary:e,indices:t||H0(),ordered:n}),W0=(e=32,t=!0)=>({typeId:S.Int,bitWidth:an(e,[8,16,32,64]),signed:t,values:MT(e,t)}),H0=()=>W0(32),PT=(e=2)=>({typeId:S.Float,precision:an(e,k0),values:[M0,kT,uu][e]}),zT=()=>({typeId:S.Binary,offsets:Rn}),jT=()=>({typeId:S.Utf8,offsets:Rn}),$T=(e,t,n=128)=>({typeId:S.Decimal,precision:e,scale:t,bitWidth:an(n,[128,256]),values:U0}),VT=e=>({typeId:S.Date,unit:an(e,Bl),values:e===Bl.DAY?Rn:An}),WT=(e=He.MILLISECOND,t=32)=>({typeId:S.Time,unit:an(e,He),bitWidth:an(t,[32,64]),values:t===32?Rn:An}),HT=(e=He.MILLISECOND,t=null)=>({typeId:S.Timestamp,unit:an(e,He),timezone:t,values:An}),qT=(e=Qi.MONTH_DAY_NANO)=>({typeId:S.Interval,unit:an(e,Qi),values:e===Qi.MONTH_DAY_NANO?void 0:Rn}),YT=e=>({typeId:S.List,children:[Fr(e)],offsets:Rn}),GT=e=>({typeId:S.Struct,children:Array.isArray(e)&&$0(e[0])?e:Object.entries(e).map(([t,n])=>j0(t,n))}),QT=(e,t,n,r)=>(n??(n=t.map((i,s)=>s)),{typeId:S.Union,mode:an(e,jf),typeIds:n,typeMap:n.reduce((i,s,o)=>(i[s]=o,i),{}),children:t.map((i,s)=>Fr(i,`_${s}`)),typeIdForValue:r,offsets:Rn}),KT=e=>({typeId:S.FixedSizeBinary,stride:e}),JT=(e,t)=>({typeId:S.FixedSizeList,stride:t,children:[Fr(e)]}),XT=(e,t)=>({typeId:S.Map,keysSorted:e,children:[t],offsets:Rn}),ZT=(e=He.MILLISECOND)=>({typeId:S.Duration,unit:an(e,He),values:An}),tN=()=>({typeId:S.LargeBinary,offsets:An}),eN=()=>({typeId:S.LargeUtf8,offsets:An}),nN=e=>({typeId:S.LargeList,children:[Fr(e)],offsets:An}),rN=(e,t)=>({typeId:S.RunEndEncoded,children:[Vf(Fr(e,"run_ends"),n=>n.type.typeId===S.Int,()=>"Run-ends must have an integer type."),Fr(t,"values")]}),iN=e=>({typeId:S.ListView,children:[Fr(e,"value")],offsets:Rn}),sN=e=>({typeId:S.LargeListView,children:[Fr(e,"value")],offsets:An}),oN=new uu(2),aN=oN.buffer;new An(aN);function Dr(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${e}`);return Number(e)}function Hf(e,t){return Number(e/t)+Number(e%t)/Number(t)}const Mi=e=>BigInt.asUintN(64,e);function lN(e,t){const n=t<<1;let r;return BigInt.asIntN(64,e[n+1])<0?(r=Mi(~e[n])|Mi(~e[n+1])<<64n,r=-(r+1n)):r=e[n]|e[n+1]<<64n,r}function uN(e,t){const n=t<<2;let r;return BigInt.asIntN(64,e[n+3])<0?(r=Mi(~e[n])|Mi(~e[n+1])<<64n|Mi(~e[n+2])<<128n|Mi(~e[n+3])<<192n,r=-(r+1n)):r=e[n]|e[n+1]<<64n|e[n+2]<<128n|e[n+3]<<192n,r}const cN=new TextDecoder("utf-8");new TextEncoder;function cu(e){return cN.decode(e)}const wo=4;function q0(e,t){return(e[t>>3]&1<<t%8)!==0}function Qn(e,t){const n=t+_t(e,t),r=n-_t(e,n),i=ke(e,r);return(s,o,a=null)=>{if(s<i){const l=ke(e,r+s);if(l)return o(e,n+l)}return a}}function Hr(e,t){return t}function So(e,t){return!!dN(e,t)}function dN(e,t){return qf(e,t)<<24>>24}function qf(e,t){return e[t]}function ke(e,t){return fN(e,t)<<16>>16}function fN(e,t){return e[t]|e[t+1]<<8}function _t(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Qp(e,t){return _t(e,t)>>>0}function je(e,t){return Dr(BigInt.asIntN(64,BigInt(Qp(e,t))+(BigInt(Qp(e,t+wo))<<32n)))}function Cl(e,t){let n=t+_t(e,t);const r=_t(e,n);return n+=wo,cu(e.subarray(n,n+r))}function Ir(e,t,n,r){if(!t)return[];const i=t+_t(e,t);return Array.from({length:_t(e,i)},(s,o)=>r(e,i+wo+o*n))}const nc=Symbol("rowIndex");function dd(e,t){class n{constructor(s){this[nc]=s}toJSON(){return G0(e,t,this[nc])}}const r=n.prototype;for(let i=0;i<e.length;++i){if(Object.hasOwn(r,e[i]))continue;const s=t[i];Object.defineProperty(r,e[i],{get(){return s.at(this[nc])},enumerable:!0})}return i=>new n(i)}function Y0(e,t){return n=>G0(e,t,n)}function G0(e,t,n){const r={};for(let i=0;i<e.length;++i)r[e[i]]=t[i].at(n);return r}function hN(e){return e instanceof Ra}class Co{constructor({length:t,nullCount:n,type:r,validity:i,values:s,offsets:o,sizes:a,children:l}){this.length=t,this.nullCount=n,this.type=r,this.validity=i,this.values=s,this.offsets=o,this.sizes=a,this.children=l,(!n||!this.validity)&&(this.at=u=>this.value(u))}get[Symbol.toStringTag](){return"Batch"}at(t){return this.isValid(t)?this.value(t):null}isValid(t){return q0(this.validity,t)}value(t){return this.values[t]}slice(t,n){const r=n-t,i=Array(r);for(let s=0;s<r;++s)i[s]=this.at(t+s);return i}*[Symbol.iterator](){for(let t=0;t<this.length;++t)yield this.at(t)}}Xn(Co,"ArrayType",null);class Ra extends Co{constructor(t){super(t);const{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(t,n){return this.nullCount?super.slice(t,n):this.values.subarray(t,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}}class du extends Co{}Xn(du,"ArrayType",uu);class At extends Co{}Xn(At,"ArrayType",Array);class pN extends At{value(t){return null}}class ys extends du{value(t){return Dr(this.values[t])}}class yN extends du{value(t){const n=this.values[t],r=(n&31744)>>10,i=(n&1023)/1024,s=(-1)**((n&32768)>>15);switch(r){case 31:return s*(i?Number.NaN:1/0);case 0:return s*(i?6103515625e-14*i:0)}return s*2**(r-15)*(1+i)}}class mN extends At{value(t){return q0(this.values,t)}}class Q0 extends Co{constructor(t){super(t);const{bitWidth:n,scale:r}=this.type;this.decimal=n===128?lN:uN,this.scale=10n**BigInt(r)}}class K0 extends Q0{value(t){return Hf(this.decimal(this.values,t),this.scale)}}Xn(K0,"ArrayType",uu);class J0 extends Q0{value(t){return this.decimal(this.values,t)}}Xn(J0,"ArrayType",Array);class Kp extends At{constructor(t){super(t),this.source=t}value(t){return new Date(this.source.value(t))}}class gN extends du{value(t){return 864e5*this.values[t]}}const vN=ys;class _N extends ys{value(t){return super.value(t)*1e3}}const wN=ys;class SN extends ys{value(t){return Hf(this.values[t],1000n)}}class IN extends ys{value(t){return Hf(this.values[t],1000000n)}}class EN extends At{value(t){return this.values.subarray(t<<1,t+1<<1)}}class bN extends At{value(t){const n=this.values,r=t<<4;return Float64Array.of(_t(n,r),_t(n,r+4),je(n,r+8))}}const X0=({values:e,offsets:t},n)=>e.subarray(t[n],t[n+1]),Z0=({values:e,offsets:t},n)=>e.subarray(Dr(t[n]),Dr(t[n+1]));class TN extends At{value(t){return X0(this,t)}}class NN extends At{value(t){return Z0(this,t)}}class RN extends At{value(t){return cu(X0(this,t))}}class AN extends At{value(t){return cu(Z0(this,t))}}class ON extends At{value(t){const n=this.offsets;return this.children[0].slice(n[t],n[t+1])}}class FN extends At{value(t){const n=this.offsets;return this.children[0].slice(Dr(n[t]),Dr(n[t+1]))}}class DN extends At{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(n,r)}}class LN extends At{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(Dr(n),Dr(r))}}class t_ extends At{constructor(t){super(t),this.stride=this.type.stride}}class xN extends t_{value(t){const{stride:n,values:r}=this;return r.subarray(t*n,(t+1)*n)}}class BN extends t_{value(t){const{children:n,stride:r}=this;return n[0].slice(t*r,(t+1)*r)}}function e_({children:e,offsets:t},n){const[r,i]=e[0].children,s=t[n],o=t[n+1],a=[];for(let l=s;l<o;++l)a.push([r.at(l),i.at(l)]);return a}class CN extends At{value(t){return e_(this,t)}}class kN extends At{value(t){return new Map(e_(this,t))}}class n_ extends At{constructor({typeIds:t,...n}){super(n),this.typeIds=t,this.typeMap=this.type.typeMap}value(t,n=t){const{typeIds:r,children:i,typeMap:s}=this;return i[s[r[t]]].at(n)}}class MN extends n_{value(t){return super.value(t,this.offsets[t])}}class r_ extends At{constructor(t,n=Y0){super(t),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(t){return this.factory(t)}}class UN extends r_{constructor(t){super(t,dd)}}class PN extends At{value(t){const[{values:n},r]=this.children;return r.at($f(n,t))}}class zN extends At{setDictionary(t){return this.dictionary=t,this.cache=t.cache(),this}value(t){return this.cache[this.key(t)]}key(t){return this.values[t]}}class i_ extends At{constructor({data:t,...n}){super(n),this.data=t}view(t){const{values:n,data:r}=this,i=t<<4;let s=i+4,o=n;const a=_t(o,i);return a>12&&(s=_t(o,i+12),o=r[_t(o,i+8)]),o.subarray(s,s+a)}}class jN extends i_{value(t){return this.view(t)}}class $N extends i_{value(t){return cu(this.view(t))}}function Jp(e){let t=[];return{add(n){return t.push(n),this},clear:()=>t=[],done:()=>new VN(t,e)}}class VN{constructor(t,n=(r=>(r=t[0])==null?void 0:r.type)()){this.type=n,this.length=t.reduce((o,a)=>o+a.length,0),this.nullCount=t.reduce((o,a)=>o+a.nullCount,0),this.data=t;const i=t.length,s=new Int32Array(i+1);if(i===1){const[o]=t;s[1]=o.length,this.at=a=>o.at(a)}else for(let o=0,a=0;o<i;++o)s[o+1]=a+=t[o].length;this.offsets=s}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){const t=this.data;return t.length===1?t[0][Symbol.iterator]():WN(t)}at(t){var s;const{data:n,offsets:r}=this,i=$f(r,t)-1;return(s=n[i])==null?void 0:s.at(t-r[i])}get(t){return this.at(t)}toArray(){const{length:t,nullCount:n,data:r}=this,i=!n&&hN(r[0]),s=r.length;if(i&&s===1)return r[0].values;const o=!s||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new o(t);return i?HN(a,r):qN(a,r)}cache(){return this._cache??(this._cache=this.toArray())}}function*WN(e){for(let t=0;t<e.length;++t){const n=e[t][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function HN(e,t){for(let n=0,r=0;n<t.length;++n){const{values:i}=t[n];e.set(i,r),r+=i.length}return e}function qN(e,t){let n=-1;for(let r=0;r<t.length;++r){const i=t[r];for(let s=0;s<i.length;++s)e[++n]=i.at(s)}return e}class Yf{constructor(t,n,r=!1){const i=t.fields.map(o=>o.name);this.schema=t,this.names=i,this.children=n,this.factory=r?dd:Y0;const s=[];this.getFactory=o=>s[o]??(s[o]=this.factory(i,n.map(a=>a.data[o])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){var t;return((t=this.children[0])==null?void 0:t.length)??0}getChildAt(t){return this.children[t]}getChild(t){const n=this.names.findIndex(r=>r===t);return n>-1?this.children[n]:void 0}selectAt(t,n=[]){const{children:r,factory:i,schema:s}=this,{fields:o}=s;return new Yf({...s,fields:t.map((a,l)=>YN(o[a],n[l]))},t.map(a=>r[a]),i===dd)}select(t,n){const r=this.names,i=t.map(s=>r.indexOf(s));return this.selectAt(i,n)}toColumns(){const{children:t,names:n}=this,r={};return n.forEach((i,s)=>{var o;return r[i]=((o=t[s])==null?void 0:o.toArray())??[]}),r}toArray(){var o;const{children:t,getFactory:n,numRows:r}=this,i=((o=t[0])==null?void 0:o.data)??[],s=Array(r);for(let a=0,l=-1;a<i.length;++a){const u=n(a);for(let c=0;c<i[a].length;++c)s[++l]=u(c)}return s}*[Symbol.iterator](){var i;const{children:t,getFactory:n}=this,r=((i=t[0])==null?void 0:i.data)??[];for(let s=0;s<r.length;++s){const o=n(s);for(let a=0;a<r[s].length;++a)yield o(a)}}at(t){const{children:n,getFactory:r,numRows:i}=this;if(t<0||t>=i)return null;const[{offsets:s}]=n,o=$f(s,t)-1;return r(o)(t-s[o])}get(t){return this.at(t)}}function YN(e,t){return t!=null&&t!==e.name?{...e,name:t}:e}function GN(e,t={}){const{typeId:n,bitWidth:r,precision:i,unit:s}=e,{useBigInt:o,useDate:a,useDecimalBigInt:l,useMap:u,useProxy:c}=t;switch(n){case S.Null:return pN;case S.Bool:return mN;case S.Int:case S.Time:case S.Duration:return o||r<64?Ra:ys;case S.Float:return i?Ra:yN;case S.Date:return Xp(s===Bl.DAY?gN:vN,a&&Kp);case S.Timestamp:return Xp(s===He.SECOND?_N:s===He.MILLISECOND?wN:s===He.MICROSECOND?SN:IN,a&&Kp);case S.Decimal:return l?J0:K0;case S.Interval:return s===Qi.DAY_TIME?EN:s===Qi.YEAR_MONTH?Ra:bN;case S.FixedSizeBinary:return xN;case S.Utf8:return RN;case S.LargeUtf8:return AN;case S.Binary:return TN;case S.LargeBinary:return NN;case S.BinaryView:return jN;case S.Utf8View:return $N;case S.List:return ON;case S.LargeList:return FN;case S.Map:return u?kN:CN;case S.ListView:return DN;case S.LargeListView:return LN;case S.FixedSizeList:return BN;case S.Struct:return c?UN:r_;case S.RunEndEncoded:return PN;case S.Dictionary:return zN;case S.Union:return e.mode?MN:n_}throw new Error(Wf(n))}function Xp(e,t){return t?class extends t{constructor(r){super(new e(r))}}:e}function QN(e,t){return{offset:je(e,t),metadataLength:_t(e,t+8),bodyLength:je(e,t+16)}}function Zp(e,t){return Ir(e,t,24,QN)}function s_(e,t,n){const r=Qn(e,t);if(r(10,Hr,0))throw new Error("Record batch compression not implemented");const i=n<lu.V4?8:0;return{length:r(4,je,0),nodes:Ir(e,r(6,Hr),16,(s,o)=>({length:je(s,o),nullCount:je(s,o+8)})),regions:Ir(e,r(8,Hr),16+i,(s,o)=>({offset:je(s,o+i),length:je(s,o+i+8)})),variadic:Ir(e,r(12,Hr),8,je)}}function KN(e,t,n){const r=Qn(e,t);return{id:r(4,je,0),data:r(6,(i,s)=>s_(i,s,n)),isDelta:r(8,So,!1)}}function o_(e,t,n,r){an(n,S,Wf);const i=Qn(e,t);switch(n){case S.Binary:return zT();case S.Utf8:return jT();case S.LargeBinary:return tN();case S.LargeUtf8:return eN();case S.List:return YT(r[0]);case S.ListView:return iN(r[0]);case S.LargeList:return nN(r[0]);case S.LargeListView:return sN(r[0]);case S.Struct:return GT(r);case S.RunEndEncoded:return rN(r[0],r[1]);case S.Int:return W0(i(4,_t,0),i(6,So,!1));case S.Float:return PT(i(4,ke,k0.HALF));case S.Decimal:return $T(i(4,_t,0),i(6,_t,0),i(8,_t,128));case S.Date:return VT(i(4,ke,Bl.MILLISECOND));case S.Time:return WT(i(4,ke,He.MILLISECOND),i(6,_t,32));case S.Timestamp:return HT(i(4,ke,He.SECOND),i(6,Cl));case S.Interval:return qT(i(4,ke,Qi.YEAR_MONTH));case S.Duration:return ZT(i(4,ke,He.MILLISECOND));case S.FixedSizeBinary:return KT(i(4,_t,0));case S.FixedSizeList:return JT(r[0],i(4,_t,0));case S.Map:return XT(i(4,So,!1),r[0]);case S.Union:return QT(i(4,ke,jf.Sparse),r,Ir(e,i(6,Hr),4,_t))}return{typeId:n}}function Gf(e,t){const n=Ir(e,t,4,(r,i)=>{const s=Qn(r,i);return[s(4,Cl),s(6,Cl)]});return n.length?new Map(n):null}function a_(e,t,n){const r=Qn(e,t);return{version:n,endianness:r(4,ke,0),fields:r(6,JN,[]),metadata:r(8,Gf)}}function JN(e,t){return Ir(e,t,4,l_)}function l_(e,t){const n=Qn(e,t),r=n(8,qf,S.NONE),i=n(10,Hr,0),s=n(12,ZN),o=n(14,(l,u)=>XN(l,u));let a=o_(e,i,r,o);return s&&(s.dictionary=a,a=s),{name:n(4,Cl),type:a,nullable:n(6,So,!1),metadata:n(16,Gf)}}function XN(e,t){const n=Ir(e,t,4,l_);return n.length?n:null}function ZN(e,t){if(!t)return null;const n=Qn(e,t);return UT(null,n(6,tR,H0()),n(8,So,!1),n(4,je,0))}function tR(e,t){return o_(e,t,S.Int)}const eR=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,nR=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,rR=e=>`Unsupported message type: ${e} (${z0(hr,e)})`;function fd(e,t){let n=_t(e,t)||0;if(t+=wo,n===-1&&(n=_t(e,t)||0,t+=wo),n===0)return null;const r=e.subarray(t,t+=n);if(r.byteLength<n)throw new Error(eR(n,r.byteLength));const i=Qn(r,0),s=i(4,ke,lu.V1),o=i(6,qf,hr.NONE),a=i(8,Hr,0),l=i(10,je,0);let u;if(a){const c=o===hr.Schema?a_:o===hr.DictionaryBatch?KN:o===hr.RecordBatch?s_:null;if(!c)throw new Error(rR(o));if(u=c(r,a,s),l>0){const d=e.subarray(t,t+=l);if(d.byteLength<l)throw new Error(nR(l,d.byteLength));u.body=d}}return{version:s,type:o,index:t,content:u}}function iR(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):e;return t instanceof Uint8Array&&sR(t)?aR(t):oR(t)}function sR(e){if(!e||e.length<4)return!1;for(let t=0;t<6;++t)if(C0[t]!==e[t])return!1;return!0}function oR(e){const t=[e].flat();let n;const r=[],i=[];for(const s of t){if(!(s instanceof Uint8Array))throw new Error("IPC data batch was not a Uint8Array.");let o=0;for(;;){const a=fd(s,o);if(a===null)break;if(o=a.index,!!a.content)switch(a.type){case hr.Schema:n||(n=a.content);break;case hr.RecordBatch:r.push(a.content);break;case hr.DictionaryBatch:i.push(a.content);break}}}return{schema:n,dictionaries:i,records:r,metadata:null}}function aR(e){const t=e.byteLength-(C0.length+4),n=_t(e,t),r=Qn(e,t-n),i=r(4,ke,lu.V1),s=r(8,Zp,[]),o=r(10,Zp,[]);return{schema:r(6,(a,l)=>a_(a,l,i)),dictionaries:s.map(({offset:a})=>fd(e,a).content),records:o.map(({offset:a})=>fd(e,a).content),metadata:r(12,Gf)}}function lR(e,t){return uR(iR(e),t)}function uR(e,t={}){const{schema:n={fields:[]},dictionaries:r,records:i}=e,{version:s,fields:o}=n,a=new Map,l=dR(t,s,a),u=new Map;cR(n,h=>{const g=h.type;g.typeId===S.Dictionary&&u.set(g.id,g.dictionary)});const c=new Map;for(const h of r){const{id:g,data:v,isDelta:_,body:F}=h,m=u.get(g),f=hd(m,l({...v,body:F}));if(c.has(g)){const y=c.get(g);_||y.clear(),y.add(f)}else{if(_)throw new Error("Delta update can not be first dictionary batch.");c.set(g,Jp(m).add(f))}}c.forEach((h,g)=>a.set(g,h.done()));const d=o.map(h=>Jp(h.type));for(const h of i){const g=l(h);o.forEach((v,_)=>d[_].add(hd(v.type,g)))}return new Yf(n,d.map(h=>h.done()),t.useProxy)}function cR(e,t){e.fields.forEach(function n(r){var i,s,o;t(r),(s=(i=r.type.dictionary)==null?void 0:i.children)==null||s.forEach(n),(o=r.type.children)==null||o.forEach(n)})}function dR(e,t,n){const r={version:t,options:e,dictionary:i=>n.get(i)};return i=>{const{length:s,nodes:o,regions:a,variadic:l,body:u}=i;let c=-1,d=-1,h=-1;return{...r,length:s,node:()=>o[++c],buffer:g=>{const{length:v,offset:_}=a[++d];return g?new g(u.buffer,u.byteOffset+_,v/g.BYTES_PER_ELEMENT):u.subarray(_,_+v)},variadic:()=>l[++h],visit(g){return g.map(v=>hd(v.type,this))}}}}function hd(e,t){const{typeId:n}=e,{length:r,options:i,node:s,buffer:o,variadic:a,version:l}=t,u=GN(e,i);if(n===S.Null)return new u({length:r,nullCount:r,type:e});const c={...s(),type:e};switch(n){case S.Bool:case S.Int:case S.Time:case S.Duration:case S.Float:case S.Decimal:case S.Date:case S.Timestamp:case S.Interval:case S.FixedSizeBinary:return new u({...c,validity:o(),values:o(e.values)});case S.Utf8:case S.LargeUtf8:case S.Binary:case S.LargeBinary:return new u({...c,validity:o(),offsets:o(e.offsets),values:o()});case S.BinaryView:case S.Utf8View:return new u({...c,validity:o(),values:o(),data:Array.from({length:a()},()=>o())});case S.List:case S.LargeList:case S.Map:return new u({...c,validity:o(),offsets:o(e.offsets),children:t.visit(e.children)});case S.ListView:case S.LargeListView:return new u({...c,validity:o(),offsets:o(e.offsets),sizes:o(e.offsets),children:t.visit(e.children)});case S.FixedSizeList:case S.Struct:return new u({...c,validity:o(),children:t.visit(e.children)});case S.RunEndEncoded:return new u({...c,children:t.visit(e.children)});case S.Dictionary:{const{id:d,indices:h}=e;return new u({...c,validity:o(),values:o(h.values)}).setDictionary(t.dictionary(d))}case S.Union:return l<lu.V5&&o(),new u({...c,typeIds:o(P0),offsets:e.mode===jf.Sparse?null:o(e.offsets),children:t.visit(e.children)});default:throw new Error(Wf(n))}}new Uint16Array(new Uint8Array([1,0]).buffer)[0];function fR(e){return lR(e,{useDate:!0})}function hR(e="ws://localhost:3000/"){const t=[];let n=!1,r=null,i;const s={open(){n=!0,l()},close(){for(n=!1,r=null,i=null;t.length;)t.shift().reject("Socket closed")},error(u){if(r){const{reject:c}=r;r=null,l(),c(u)}else console.error("WebSocket error: ",u)},message({data:u}){if(r){const{query:c,resolve:d,reject:h}=r;if(r=null,l(),typeof u=="string"){const g=JSON.parse(u);g.error?h(g.error):d(g)}else if(c.type==="exec")d();else if(c.type==="arrow")d(fR(u));else throw new Error(`Unexpected socket data: ${u}`)}else console.log("WebSocket message: ",u)}};function o(){i=new WebSocket(e),i.binaryType="arraybuffer";for(const u in s)i.addEventListener(u,s[u])}function a(u,c,d){i==null&&o(),t.push({query:u,resolve:c,reject:d}),n&&!r&&l()}function l(){t.length&&(r=t.shift(),i.send(JSON.stringify(r.query)))}return{get connected(){return n},query(u){return new Promise((c,d)=>a(u,c,d))}}}const Qf="COLUMN_REF",Kf="COLUMN_PARAM",pR="TABLE_REF",yR="LITERAL",mR="INTERVAL",gR="ORDER_BY",u_="CAST",vR="CASE",_R="WHEN",c_="UNARY",wR="UNARY_POSTFIX",d_="BINARY",f_="BETWEEN",h_="NOT_BETWEEN",p_="LOGICAL_OPERATOR",y_="IN",m_="FUNCTION",fu="AGGREGATE",Jf="WINDOW",g_="WINDOW_DEF",v_="WINDOW_FRAME",SR="EXPRESSION",Xf="FRAGMENT",__="VERBATIM",Zf="PARAM",IR="WITH_CLAUSE",w_="SELECT_CLAUSE",S_="FROM_CLAUSE",ER="SAMPLE_CLAUSE",I_="WINDOW_CLAUSE",E_="SELECT_QUERY",b_="DESCRIBE_QUERY",T_="SET_OPERATION";function ii(e){return e instanceof On}class On{constructor(t){this.type=t}}class jt extends On{}class N_ extends jt{constructor(t){super(yR),this.value=t}toString(){return R_(this.value)}}function R_(e){switch(typeof e){case"number":return Number.isFinite(e)?`${e}`:"NULL";case"string":return`'${e.replace("'","''")}'`;case"boolean":return e?"TRUE":"FALSE";default:if(e==null)return"NULL";if(e instanceof Date){const t=+e;if(Number.isNaN(t))return"NULL";const n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate();return t===Date.UTC(n,r,i)?`DATE '${n}-${r+1}-${i}'`:`epoch_ms(${t})`}else return e instanceof RegExp?`'${e.source}'`:`${e}`}}class hu extends jt{constructor(t){super(Zf),this.param=t}get value(){return this.param.value}toString(){return R_(this.value)}}function A_(e){return e.split(".")}function ms(e){return`"${e}"`}function rc(e){return e&&bR(e)?e.slice(1,-1):e}function bR(e){return e[0]==='"'&&e[e.length-1]==='"'}function kl(e){return e instanceof O_}class O_ extends jt{constructor(t){super(pR),this.table=[t].flat()}get name(){return this.table[this.table.length-1]}toString(){return this.table.map(t=>ms(t)).join(".")}}class F_ extends jt{constructor(t,n=[]){super(m_),this.name=t,this.args=n}toString(){const{name:t,args:n}=this;return`${t}(${n.join(", ")})`}}function St(e,...t){return new F_(e,th(t).map(xt))}function Z(e,...t){return new Ul(e,th(t).map(xt))}function NO(e,...t){return new cr(new NR(e,th(t).map(xt)))}function Sn(e,t=xt){return e.flat().filter(n=>n!=null).map(n=>t(n))}function th(e){const t=e.length;let n=t;for(;n>0&&e[n-1]===void 0;--n);return n<t?e.slice(0,n):e}function Lr(e){return typeof e=="string"}function pd(e){return Array.isArray(e)}function pu(e){return e&&typeof e.addEventListener=="function"&&e.dynamic!==!1&&"value"in e}class TR extends On{constructor(t,n){super(I_),this.name=t,this.def=n}toString(){return`${ms(this.name)} AS ${this.def}`}}class cr extends jt{constructor(t,n=new eh){super(Jf),this.func=t,this.def=n}over(t){return new cr(this.func,this.def.over(t))}partitionby(...t){return new cr(this.func,this.def.partitionby(...t))}orderby(...t){return new cr(this.func,this.def.orderby(...t))}rows(t){return new cr(this.func,this.def.rows(t))}range(t){return new cr(this.func,this.def.range(t))}toString(){return`${this.func} OVER ${this.def}`}}class NR extends F_{constructor(t,n){super(t,n)}}class eh extends On{constructor(t,n,r,i){super(g_),this.name=t,this.partition=n,this.order=r,this.frame=i}over(t){return Rs(this,{name:t})}partitionby(...t){return Rs(this,{partition:Sn(t)})}orderby(...t){return Rs(this,{order:Sn(t)})}rows(t){return Rs(this,{frame:new ty(t)})}range(t){return Rs(this,{frame:new ty(t,!0)})}toString(){const{name:t,partition:n,order:r,frame:i}=this,s=t&&ms(t),o=[s,(n==null?void 0:n.length)&&`PARTITION BY ${n.join(", ")}`,(r==null?void 0:r.length)&&`ORDER BY ${r.join(", ")}`,i].filter(a=>a);return s&&o.length<2?s:`(${o.join(" ")})`}}class ty extends On{constructor(t,n=!1,r=void 0){super(v_),this.extent=pu(t)?new hu(t):t,this.range=n,this.exclude=r}toString(){const{range:t,exclude:n,extent:r}=this,i=t?"RANGE":"ROWS",[s,o]=ii(r)?r.value:r,a=ey(s,"PRECEDING"),l=ey(o,"FOLLOWING");return`${i} BETWEEN ${a} AND ${l}${n?` ${n}`:""}`}}function Rs(e,t){return new eh(t.name??e.name,t.partition??e.partition,t.order??e.order,t.frame??e.frame)}function ey(e,t){return e===0?"CURRENT ROW":Number.isFinite(e)?`${Math.abs(e)} ${t}`:`UNBOUNDED ${t}`}function nh(e){return e instanceof yu}class yu extends jt{constructor(t,n){super(t),this.table=n}get column(){return null}toString(){const{column:t,table:n}=this,r=`${n??""}`,i=t==="*"?"*":ms(t);return(r?r+".":"")+i}}class RR extends yu{constructor(t,n){super(Qf,n),this.name=t}get column(){return this.name}}function RO(e){return e instanceof D_}class D_ extends yu{constructor(t,n){super(Kf,n),this.param=t}get column(){return`${this.param.value}`}}function AR(e,t){const n=ih(t);return pu(e)?new D_(new hu(e),n):new RR(e,n)}class L_ extends jt{constructor(t){super(__),this.value=t}toString(){return this.value}}function Ml(e){return new N_(e)}function OR(e){return new L_(e)}function rh(...e){const t=Sn(e,String);return t!=null&&t.length?new O_(t):void 0}function xt(e){return Lr(e)?FR(e):x_(e)}function Aa(e){return Lr(e)?OR(e):x_(e)}function x_(e){return e instanceof jt?e:pu(e)?new hu(e):Ml(e)}function ih(e){return Lr(e)?DR(e):pd(e)?rh(e):e}function FR(e){const t=A_(e);return AR(t.pop(),rh(t))}function DR(e){return rh(A_(e))}function AO(){return new eh}class Ul extends jt{constructor(t,n,r,i){super(fu),this.name=t,this.args=n,this.isDistinct=r,this.filter=i}distinct(t=!0){return new Ul(this.name,this.args,t,this.filter)}where(t){return Lr(t)&&(t=Aa(t)),new Ul(this.name,this.args,this.isDistinct,t)}window(){return new cr(this)}partitionby(...t){return this.window().partitionby(...t)}orderby(...t){return this.window().orderby(...t)}toString(){const{name:t,args:n,isDistinct:r,filter:i}=this,s=r?"DISTINCT ":"",o=n!=null&&n.length?n.join(", "):"*",a=i?` FILTER (WHERE ${i})`:"";return`${t}(${s}${o})${a}`}}const LR=["any_value","approx_count_distinct","approx_quantile","arbitrary","arg_max","arg_max_null","arg_min","arg_min_null","array_agg","avg","bit_and","bit_or","bit_xor","bitstring_agg","bool_and","bool_or","corr","count","covar_pop","covar_samp","entropy","favg","first","fsum","geomean","kurtosis_pop","kurtosis","last","mad","max","max_by","median","min","min_by","mode","product","quantile","quantile_cont","quantile_disc","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_sxx","regr_sxy","regr_syy","regr_slope","reservoir_quantile","skewness","stddev","stddev_pop","stddev_samp","string_agg","sum","variance","var_pop","var_samp"];class B_ extends jt{constructor(t,n,r){super(t),this.expr=n,this.extent=r}toSQL(t){const{extent:n,expr:r}=this;return n?`(${r} ${t} ${n[0]} AND ${n[1]})`:""}}class xR extends B_{constructor(t,n){super(f_,t,n)}toString(){return super.toSQL("BETWEEN")}}class BR extends B_{constructor(t,n){super(h_,t,n)}toString(){return super.toSQL("NOT BETWEEN")}}class CR extends jt{constructor(t,n,r){super(d_),this.op=t,this.left=n,this.right=r}toString(){return`(${this.left} ${this.op} ${this.right})`}}class kR extends jt{constructor(t,n){super(u_),this.expr=t,this.cast=n}toString(){return`(${this.expr})::${this.cast}`}}class MR extends jt{constructor(t){super(Xf),this.spans=t}toString(){return this.spans.join("")}}class UR extends On{constructor(t,n=!1,r=void 0,i=void 0){super(ER),this.size=t,this.perc=n,this.method=r,this.seed=i}toString(){const{size:t,perc:n,method:r,seed:i}=this,s=n?"%":" ROWS",o=i!=null?`, ${i}`:"";return`${t}${s}${r?` (${r}${o})`:""}`}}class PR extends On{constructor(t,n){super(w_),this.expr=t,this.alias=n}toString(){const{expr:t,alias:n}=this;return!n||zR(t,n)?`${t}`:`${t} AS ${ms(n)}`}}function zR(e,t){return e instanceof yu&&e.table==null&&e.column===t}class jR extends On{constructor(t,n){super(IR),this.name=t,this.query=n}toString(){return`"${this.name}" AS (${this.query})`}}function C_(e){return e instanceof si}function mu(e){return e instanceof Kr}function $R(e){return e instanceof gu}class si extends jt{static select(...t){return new Kr().select(...t)}static from(...t){return new Kr().from(...t)}static with(...t){return new Kr().with(...t)}static union(...t){return new Ui("UNION",t.flat())}static unionAll(...t){return new Ui("UNION ALL",t.flat())}static intersect(...t){return new Ui("INTERSECT",t.flat())}static except(...t){return new Ui("EXCEPT",t.flat())}static describe(t){return new gu(t)}constructor(t){super(t),this._orderby=[],this._limit=void 0,this._offset=void 0,this.cteFor=null}get subqueries(){return[]}clone(){return this}orderby(...t){return this._orderby=this._orderby.concat(Sn(t)),this}limit(t){return this._limit=Number.isFinite(t)?t:void 0,this}offset(t){return this._offset=Number.isFinite(t)?t:void 0,this}}class Kr extends si{constructor(){super(E_),this._with=[],this._select=[],this._from=[],this._where=[],this._sample=void 0,this._groupby=[],this._having=[],this._window=[],this._qualify=[]}get subqueries(){const t=this.cteFor||this,r=(t instanceof Kr?t._with:[]).reduce((s,o)=>(s[o.name]=o.query,s),{}),i=[];return this._from.forEach(({expr:s})=>{if(C_(s))i.push(s);else if(kl(s)){const o=r[s.name];o&&i.push(o)}}),i}clone(){return Object.assign(new Kr,this)}with(...t){const n=[],r=(i,s)=>{const o=s.clone();o.cteFor=this,n.push(new jR(i,o))};return t.flat().forEach(i=>{if(i!=null)for(const s in i)r(s,i[s])}),this._with=this._with.concat(n),this}select(...t){const n=[],r=(s,o)=>n.push(new PR(s==null?s:xt(s),rc(o)));t.flat().forEach(s=>{if(s!=null)if(Lr(s))r(s,s);else if(nh(s))r(s,s.column);else if(pd(s))r(s[1],s[0]);else for(const o in s)r(s[o],o)});const i=new Set(n.map(s=>s.alias));return this._select=this._select.filter(s=>!i.has(s.alias)).concat(n.filter(s=>s.expr)),this}setSelect(...t){return this._select=[],this.select(...t)}distinct(t=!0){return this._distinct=!!t,this}from(...t){const n=[],r=(i,s)=>n.push(new VR(ih(i),rc(s)));return t.flat().forEach(i=>{if(i!=null)if(Lr(i))r(i,i);else if(kl(i))r(i,i.name);else if(ii(i))r(i);else if(pd(i))r(i[1],i[0]);else for(const s in i)r(i[s],s)}),this._from=this._from.concat(n),this}setFrom(...t){return this._from=[],this.from(...t)}sample(t,n,r){let i;if(typeof t=="number"){const s=t>0&&t<1,o=s?t*100:Math.floor(t);i=new UR(o,s,n,r)}else i=t;return this._sample=i,this}where(...t){return this._where=this._where.concat(Sn(t,Aa)),this}setWhere(...t){return this._where=[],this.where(...t)}groupby(...t){return this._groupby=this._groupby.concat(Sn(t)),this}setGroupby(...t){return this._groupby=[],this.groupby(...t)}having(...t){return this._having=this._having.concat(Sn(t,Aa)),this}window(...t){const n=[];return t.flat().forEach(r=>{if(r!=null)for(const i in r)n.push(new TR(rc(i),r[i]))}),this._window=this._window.concat(n),this}qualify(...t){return this._qualify=this._qualify.concat(Sn(t,Aa)),this}toString(){const{_with:t,_select:n,_distinct:r,_from:i,_sample:s,_where:o,_groupby:a,_having:l,_window:u,_qualify:c,_orderby:d,_limit:h,_offset:g}=this,v=[];if(t.length&&v.push(`WITH ${t.join(", ")}`),v.push(`SELECT${r?" DISTINCT":""} ${n.join(", ")}`),i.length&&v.push(`FROM ${i.join(", ")}`),o.length){const _=o.map(String).filter(F=>F).join(" AND ");_&&v.push(`WHERE ${_}`)}if(s&&v.push(`USING SAMPLE ${s}`),a.length&&v.push(`GROUP BY ${a.join(", ")}`),l.length){const _=l.map(String).filter(F=>F).join(" AND ");_&&v.push(`HAVING ${_}`)}if(u.length&&v.push(`WINDOW ${u.join(", ")}`),c.length){const _=c.map(String).filter(F=>F).join(" AND ");_&&v.push(`QUALIFY ${_}`)}return d.length&&v.push(`ORDER BY ${d.join(", ")}`),Number.isFinite(h)&&v.push(`LIMIT ${h}`),Number.isFinite(g)&&v.push(`OFFSET ${g}`),v.join(" ")}}class gu extends On{constructor(t){super(b_),this.query=t}clone(){return new gu(this.query.clone())}toString(){return`DESCRIBE ${this.query}`}}class Ui extends si{constructor(t,n){super(T_),this.op=t,this.queries=n}get subqueries(){const{queries:t,cteFor:n}=this;return n&&t.forEach(r=>r.cteFor=n),t}clone(){const{op:t,queries:n,...r}=this;return Object.assign(new Ui(t,n),r)}toString(){const{op:t,queries:n,_orderby:r,_limit:i,_offset:s}=this,o=[n.join(` ${t} `)];return r.length&&o.push(`ORDER BY ${r.join(", ")}`),Number.isFinite(i)&&o.push(`LIMIT ${i}`),Number.isFinite(s)&&o.push(`OFFSET ${s}`),o.join(" ")}}class VR extends On{constructor(t,n){super(S_),this.expr=t,this.alias=n}toString(){const{expr:t,alias:n}=this,r=C_(t)?`(${t})`:`${t}`;return n&&!(kl(t)&&t.table.join(".")===n)?`${r} AS ${ms(n)}`:`${r}`}}class WR extends jt{constructor(t,n){super(y_),this.expr=t,this.values=n}toString(){return`(${this.expr} IN (${this.values.join(", ")}))`}}class HR extends jt{constructor(t,n=1){super(mR),this.name=t,this.steps=n}toString(){return`INTERVAL ${this.steps} ${this.name}`}}class k_ extends jt{constructor(t,n){super(p_),this.op=t,this.clauses=n}toString(){const t=this.clauses;return t.length===0?"":t.length===1?`${t[0]}`:`(${t.join(` ${this.op} `)})`}}class qR extends k_{constructor(t){super("AND",t)}}class YR extends k_{constructor(t){super("OR",t)}}class M_ extends jt{constructor(t,n,r){super(t),this.op=n,this.expr=r}}class GR extends M_{constructor(t,n){super(c_,t,n)}toString(){return`(${this.op} ${this.expr})`}}class QR extends M_{constructor(t,n){super(wR,t,n)}toString(){return`(${this.expr} ${this.op})`}}function KR(e,t){return Z("arg_max",e,t)}function JR(e,t){return Z("arg_min",e,t)}function OO(e){return Z("array_agg",e)}function FO(e){return Z("avg",e)}function DO(e,t){return Z("corr",e,t)}function Oa(e){return Z("count",e)}function LO(e,t){return Z("covar_samp",e,t)}function xO(e,t){return Z("covar_pop",e,t)}function BO(e){return Z("entropy",e)}function CO(e){return Z("first",e)}function kO(e){return Z("kurtosis",e)}function MO(e){return Z("mad",e)}function U_(e){return Z("max",e)}function UO(e){return Z("median",e)}function P_(e){return Z("min",e)}function PO(e){return Z("mode",e)}function zO(e){return Z("last",e)}function jO(e){return Z("product",e)}function $O(e,t){return Z("quantile",e,t)}function XR(e,t){return Z("regr_avgx",e,t)}function ZR(e,t){return Z("regr_avgy",e,t)}function tA(e,t){return Z("regr_count",e,t)}function VO(e,t){return Z("regr_intercept",e,t)}function WO(e,t){return Z("regr_r2",e,t)}function HO(e,t){return Z("regr_sxx",e,t)}function qO(e,t){return Z("regr_sxy",e,t)}function YO(e,t){return Z("regr_syy",e,t)}function GO(e,t){return Z("regr_slope",e,t)}function QO(e){return Z("skewness",e)}function KO(e){return Z("stddev",e)}function JO(e){return Z("stddev_pop",e)}function XO(e){return Z("string_agg",e)}function Kt(e){return Z("sum",e)}function ZO(e){return Z("var_samp",e)}function tF(e){return Z("var_pop",e)}function sh(e,t){return new kR(xt(e),t)}function eA(e){return sh(e,"INTEGER")}function eF(e){return sh(e,"FLOAT")}function ny(e){return sh(e,"DOUBLE")}function nA(e,t){return new HR(e,t)}function rA(e){return St("epoch_ms",e)}function nF(e,t,n=1){return St("time_bucket",nA(t,n),e)}function rF(e){return St("make_date",2012,St("month",e),1)}function iF(e){const t=xt(e);return St("make_date",2012,St("month",t),St("day",t))}function sF(e){return St("make_date",2012,1,St("day",e))}function oF(e){return St("isnan",e)}function aF(e){return St("isfinite",e)}function lF(e){return St("isinf",e)}function uF(...e){return St("greatest",...e)}function cF(...e){return St("least",...e)}function z_(e){return St("exp",e)}function iA(e){return St("log",e)}function Fa(e){return St("ln",e)}function ls(e){return St("sign",e)}function Io(e){return St("abs",e)}function Pl(e){return St("sqrt",e)}function sA(e){return St("ceil",e)}function oA(e){return St("floor",e)}function aA(e,t){return St("round",e,t)}function dF(e){return St("trunc",e)}function j_(e,t){return new GR(e,xt(t))}function $_(e,t){return new QR(e,xt(t))}function Ut(e,t,n){return new CR(e,xt(t),xt(n))}function V_(e,t,n=!1){const r=n?BR:xR;return new r(xt(e),t==null?void 0:t.map(xt))}function W_(...e){return new qR(Sn(e))}function fF(...e){return new YR(Sn(e))}function hF(e){return j_("NOT",e)}function lA(e){return $_("IS NULL",e)}function H_(e){return $_("IS NOT NULL",e)}function pF(e){return j_("~",e)}function yF(e,t){return Ut("&",e,t)}function mF(e,t){return Ut("|",e,t)}function gF(e,t){return Ut("<<",e,t)}function vF(e,t){return Ut(">>",e,t)}function uA(e,t){return Ut("+",e,t)}function Zt(e,t){return Ut("-",e,t)}function le(e,t){return Ut("*",e,t)}function Jt(e,t){return Ut("/",e,t)}function _F(e,t){return Ut("//",e,t)}function wF(e,t){return Ut("%",e,t)}function Ke(e,t){return Ut("**",e,t)}function SF(e,t){return Ut("=",e,t)}function IF(e,t){return Ut("<>",e,t)}function EF(e,t){return Ut("<",e,t)}function bF(e,t){return Ut(">",e,t)}function TF(e,t){return Ut("<=",e,t)}function NF(e,t){return Ut(">=",e,t)}function RF(e,t){return Ut("IS DISTINCT FROM",e,t)}function AF(e,t){return Ut("IS NOT DISTINCT FROM",e,t)}function ry(e,t){return V_(e,t,!1)}function OF(e,t){return V_(e,t,!0)}function FF(e,t){return new WR(xt(e),t.map(xt))}function oh(e,...t){return new MR(cA(e,t))}function cA(e,t){const n=[e[0]],r=t.length;for(let i=0,s=0;i<r;){const o=t[i];ii(o)?n[++s]=o:pu(o)?n[++s]=new hu(o):n[s]+=Lr(o)?o:Ml(o);const a=e[++i];ii(n[s])?n[++s]=a:n[s]+=a}return n.filter(i=>i).map(i=>Lr(i)?new L_(i):i)}const q_={[fu]:["args","filter"],[f_]:["expr","extent"],[d_]:["left","right"],[vR]:["expr","_when","_else"],[u_]:["expr"],[Kf]:["param","table"],[Qf]:["table"],[b_]:["query"],[SR]:["node"],[Xf]:["spans"],[S_]:["expr"],[m_]:["args"],[y_]:["expr","values"],[p_]:["clauses"],[h_]:["expr","extent"],[gR]:["expr"],[Zf]:["value"],[w_]:["expr"],[E_]:["_with","_select","_from","_where","_sample","_groupby","_having","_window","_qualify","_orderby"],[T_]:["subqueries","_orderby"],[c_]:["expr"],[_R]:["when","then"],[Jf]:["func","def"],[I_]:["def"],[g_]:["partition","order","frame"],[v_]:["extent"]};function yd(e,t){if(t.has(e))return t.get(e);if(ii(e)){const n=q_[e.type],r=(n==null?void 0:n.length)??0;for(let i=0;i<r;++i){const s=n[i],o=e[s];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)o[l]=yd(o[l],t)}else o&&(e[s]=yd(o,t))}}return e}function us(e,t){if(!ii(e))return;const n=t(e);if(n)return n;const r=q_[e.type],i=(r==null?void 0:r.length)??0;for(let s=0;s<i;++s){const o=e[r[s]];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)if(o[l]&&+us(o[l],t)<0)return n}else if(o&&+us(o,t)<0)return-1}}const dA=new RegExp(`^(${LR.join("|")})$`),fA=/(\\'|\\"|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\w+\()/g;function hA(e){return e.split(fA).some(t=>t.endsWith("(")&&dA.test(t.slice(0,-1)))}function ah(e){let t=0;return us(e,n=>{switch(n.type){case Jf:return-1;case fu:return t|=1,-1;case Xf:case __:{let r=`${n}`.toLowerCase();const i=r.indexOf("(select ");return i>=0&&(r=r.slice(0,i)),r.includes(") over ")?-1:hA(r)?(t|=2,-1):1}}}),t}function pA(e){const t=new Set;return us(e,n=>{n.type===fu&&t.add(n)}),Array.from(t)}function Y_(e){const t={};return us(e,n=>{(n.type===Qf||n.type===Kf)&&(t[n]=n)}),Object.values(t)}function DF(e){const t=new Set;return us(e,n=>{n.type===Zf&&t.add(n.param)}),Array.from(t)}function yA(e,t,{replace:n=!1,temp:r=!1,view:i=!1}={}){return"CREATE"+(n?" OR REPLACE ":" ")+(r?"TEMP ":"")+(i?"VIEW":"TABLE")+(n?" ":" IF NOT EXISTS ")+e+" AS "+t}function LF(e,{strict:t=!1}={}){return"CREATE SCHEMA "+(t?"":"IF NOT EXISTS ")+e}const Da=e=>e;function iy(){return{apply:Da,invert:Da,sqlApply:xt,sqlInvert:Da}}function mA({base:e=null}={}){if(e==null||e===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:t=>Fa(t),sqlInvert:t=>z_(t)};if(e===10)return{apply:Math.log10,invert:t=>Math.pow(10,t),sqlApply:t=>iA(t),sqlInvert:t=>Ke(10,t)};{const t=+e;return{apply:n=>Math.log(n)/Math.log(t),invert:n=>Math.pow(t,n),sqlApply:n=>Jt(Fa(n),Fa(t)),sqlInvert:n=>Ke(t,n)}}}function gA({constant:e=1}={}){const t=+e;return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n)),invert:n=>Math.sign(n)*Math.exp(Math.abs(n)-t),sqlApply:n=>(n=xt(n),le(ls(n),Fa(uA(t,Io(n))))),sqlInvert:n=>le(ls(n),Zt(z_(Io(n)),t))}}function vA(){return{apply:e=>Math.sign(e)*Math.sqrt(Math.abs(e)),invert:e=>Math.sign(e)*e*e,sqlApply:e=>(e=xt(e),le(ls(e),Pl(Io(e)))),sqlInvert:e=>le(ls(e),Ke(e,2))}}function _A({exponent:e=1}={}){const t=+e;return{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t),sqlApply:n=>(n=xt(n),le(ls(n),Ke(Io(n),t))),sqlInvert:n=>le(ls(n),Ke(Io(n),Jt(1,t)))}}function sy(){return{apply:e=>+e,invert:e=>new Date(e),sqlApply:e=>e instanceof Date?Ml(+e):IA(e)?Ml(+e.value):rA(e),sqlInvert:Da}}const wA={identity:iy,linear:iy,log:mA,symlog:gA,sqrt:vA,pow:_A,time:sy,utc:sy};function SA(e){const t=wA[e.type];return t?{...e,...t(e)}:null}function IA(e){return e instanceof N_&&e.value instanceof Date}function G_(e){let t=2166136261;for(let n=0,r=e.length;n<r;++n){const i=e.charCodeAt(n),s=i&65280;s&&(t=oy(t^s>>8)),t=oy(t^i&255)}return EA(t)>>>0}function oy(e){return e+(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}function EA(e){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,e+=e<<5,e&4294967295}function bA(e,t,n){switch(e.name){case"count":case"sum":return TA(t,e);case"avg":return NA(t,e);case"arg_max":return RA(t,e);case"arg_min":return AA(t,e);case"variance":case"var_samp":return na(t,e,n);case"var_pop":return na(t,e,n,!1);case"stddev":case"stddev_samp":return Pl(na(t,e,n));case"stddev_pop":return Pl(na(t,e,n,!1));case"covar_samp":return La(t,e,n);case"covar_pop":return La(t,e,n,!1);case"corr":return ay(t,e,n);case"regr_count":return gs(t,e).expr;case"regr_avgx":return X_(t,e);case"regr_avgy":return Z_(t,e);case"regr_syy":return gd(t,0,e,n);case"regr_sxx":return gd(t,1,e,n);case"regr_sxy":return La(t,e,n,null);case"regr_slope":return tw(t,e,n);case"regr_intercept":return OA(t,e,n);case"regr_r2":return Ke(ay(t,e,n),2);case"max":case"min":case"bit_and":case"bit_or":case"bit_xor":case"bool_and":case"bool_or":case"product":{const r=Q_(e);return t[r]=e,oh`${e.name}("${r}")`}default:return null}}function Q_(e){return"pre_"+G_(`${e}`).toString(16)}function ue(e,t,n){const r=n==null?void 0:n.filter;r&&(t=t.filter?t.where(W_(r,t.filter)):t.where(r));const i=Q_(t);return e[i]=t,i}function K_(e,t){const n=ue(e,Oa(t.args[0]),t);return{expr:Kt(n),name:n}}function TA(e,t){return Kt(ue(e,t))}function NA(e,t){const n=ue(e,t),{expr:r,name:i}=K_(e,t);return Jt(Kt(le(n,i)),r)}function RA(e,t){const n=ue(e,t),r=ue(e,U_(t.args[1]),t);return KR(n,r)}function AA(e,t){const n=ue(e,t),r=ue(e,P_(t.args[1]),t);return JR(n,r)}function na(e,t,n,r=!0){const i=t.args[0],{expr:s}=K_(e,t),o=Zt(i,n(i)),a=ue(e,Kt(Ke(o,2)),t),l=ue(e,Kt(o),t),u=r?Zt(s,1):s;return Jt(Zt(Kt(a),Jt(Ke(Kt(l),2),s)),u)}function La(e,t,n,r=!0){const{expr:i}=gs(e,t),s=J_(e,t,n),o=Eo(e,1,t,n),a=Eo(e,0,t,n),l=Zt(s,Jt(le(o,a),i));return r===null?l:r?Jt(l,Zt(i,1)):Jt(l,i)}function ay(e,t,n){const{expr:r}=gs(e,t),i=J_(e,t,n),s=md(e,1,t,n),o=md(e,0,t,n),a=Eo(e,1,t,n),l=Eo(e,0,t,n),u=Zt(s,Jt(Ke(a,2),r)),c=Zt(o,Jt(Ke(l,2),r));return Jt(Zt(i,Jt(le(a,l),r)),Pl(le(u,c)))}function gs(e,t){const[n,r]=t.args,i=ue(e,tA(n,r),t);return{expr:Kt(i),name:i}}function Eo(e,t,n,r){const i=n.args,s=i[t],o=i[1-t],a=Kt(Zt(s,r(s))).where(H_(o));return Kt(ue(e,a,n))}function md(e,t,n,r){const i=n.args,s=i[t],o=i[1-t],a=Kt(Ke(Zt(s,r(s)),2)).where(H_(o));return Kt(ue(e,a,n))}function J_(e,t,n){const[r,i]=t.args,s=Kt(le(Zt(i,n(i)),Zt(r,n(r))));return Kt(ue(e,s,t))}function X_(e,t){const[n,r]=t.args,{expr:i,name:s}=gs(e,t),o=ue(e,XR(n,r),t);return Jt(Kt(le(o,s)),i)}function Z_(e,t){const[n,r]=t.args,{expr:i,name:s}=gs(e,t),o=ue(e,ZR(n,r),t);return Jt(Kt(le(o,s)),i)}function gd(e,t,n,r){const{expr:i}=gs(e,n),s=Eo(e,t,n,r),o=md(e,t,n,r);return Zt(o,Jt(Ke(s,2),i))}function tw(e,t,n){const r=La(e,t,n,null),i=gd(e,1,t,n);return Jt(r,i)}function OA(e,t,n){const r=X_(e,t),i=Z_(e,t),s=tw(e,t,n);return Zt(i,le(s,r))}function FA(e){if(!e.filterStable)return null;const t=e.query();if(!mu(t))return null;const n=zl(t,l=>{var c;const u=(c=l._from[0])==null?void 0:c.expr;return kl(u)?u.name:u});if(typeof n!="string")return null;const r=new Map,i={},s={},o=[],a=l=>{const u=l.column,c=zl(t,d=>{var h;return(h=d._select.find(g=>g.alias===u))==null?void 0:h.expr});return oh`(SELECT avg(${c??l}) FROM "${n}")`};for(const{alias:l,expr:u}of t._select){if(ah(u)>1)return null;const c=pA(u);if(c.length===0)o.push(l),i[l]=u;else{for(const d of c){if(d.isDistinct)return null;const h=bA(d,i,a);if(!h)return null;r.set(d,h)}s[l]=yd(u,r)}}return r.size?{group:o,preagg:i,output:s}:null}function zl(e,t){const n=e.subqueries;if(mu(e)&&n.length===0)return t(e);const r=zl(n[0],t);for(let i=1;i<n.length;++i){const s=zl(n[i],t);if(s!==void 0&&s!==r)return NaN}return r}const DA={skip:!0,result:null};class LA{constructor(t,{schema:n="mosaic",enabled:r=!0}={}){this.entries=new Map,this.active=null,this.mc=t,this._schema=n,this._enabled=r}set enabled(t){this._enabled!==t&&(t||this.clear(),this._enabled=t)}get enabled(){return this._enabled}set schema(t){this._schema!==t&&(this.clear(),this._schema=t)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS "${this.schema}" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(t,n,r){var d;if(!this.enabled)return null;const{entries:i,mc:s,schema:o}=this,{source:a}=r;if(!a||this.active&&(this.active.source!==a&&this.clear(),((d=this.active)==null?void 0:d.source)===null))return null;let{active:l}=this;if(!l&&(this.active=l=xA(r),l.source===null))return null;if(i.has(t))return i.get(t);const u=FA(t);let c;if(!u)c=null;else if(n.skip(t,r))c=DA;else{const h=n.remove(a).predicate(t);c=kA(t.query(h),l,u,o),c.result=s.exec([`CREATE SCHEMA IF NOT EXISTS ${o}`,yA(c.table,c.create,{temp:!1})]),c.result.catch(g=>s.logger().error(g))}return i.set(t,c),c}}function xA(e){const{source:t,meta:n}=e,r=e.predicate,i=Y_(r).map(d=>d.column);let s,o;if(!n||!i)return{source:null,columns:o,predicate:s};const{type:a,scales:l,bin:u,pixelSize:c=1}=n;if(a==="point")s=d=>d,o=Object.fromEntries(i.map(d=>[`${d}`,xt(d)]));else if(a==="interval"&&l){const d=l.map(h=>CA(h,c,u));d.some(h=>!h)||(d.length===1?(s=h=>h?ry("active0",h.extent.map(d[0])):[],o={active0:d[0](r.expr)}):(s=h=>h?W_(h.clauses.map((g,v)=>ry(`active${v}`,g.extent.map(d[v])))):[],o=Object.fromEntries(r.clauses.map((h,g)=>[`active${g}`,d[g](h.expr)]))))}return{source:o?t:null,columns:o,predicate:s}}const BA={ceil:sA,round:aA};function CA(e,t,n){const{type:r,domain:i,range:s,apply:o,sqlApply:a}=SA(e);if(!o)return;const l=BA[`${n}`.toLowerCase()]||oA,u=o(Math.min(...i)),c=o(Math.max(...i)),d=(r==="identity"?1:Math.abs(s[1]-s[0])/(c-u))/t,h=d===1?v=>v:v=>le(ny(d),v),g=u===0?v=>v:v=>Zt(v,ny(u));return v=>eA(l(h(g(a(v)))))}function kA(e,t,n,r){const{group:i,output:s,preagg:o}=n,{columns:a}=t,l=e.setSelect({...o,...a}).groupby(Object.keys(a)),[u]=l.subqueries;if(u){const F=Object.values(a).flatMap(m=>Y_(m).map(f=>f.column));MA(u,F)}const c=l._having,d=l._orderby;l._having=[],l._orderby=[];const h=l.toString(),g=(G_(h)>>>0).toString(16),v=`${r}.preagg_${g}`,_=si.select(i,s).from(v).groupby(i).having(c).orderby(d);return new UA({table:v,create:h,active:t,select:_})}function MA(e,t){const n=new Set,r=i=>{n.has(i)||(n.add(i),mu(i)&&i._from.length&&i.select(t),i.subqueries.forEach(r))};r(e)}class UA{constructor({table:t,create:n,active:r,select:i}){this.table=t,this.create=n,this.result=null,this.active=r,this.select=i,this.skip=!1}query(t){return this.select.clone().where(this.active.predicate(t))}}function ew(e){switch(e){case"BIGINT":case"HUGEINT":case"INTEGER":case"SMALLINT":case"TINYINT":case"UBIGINT":case"UINTEGER":case"USMALLINT":case"UTINYINT":case"DOUBLE":case"FLOAT":case"REAL":return"number";case"DATE":case"TIMESTAMP":case"TIMESTAMPTZ":case"TIMESTAMP WITH TIME ZONE":case"TIME":case"TIMESTAMP_NS":return"date";case"BOOLEAN":return"boolean";case"VARCHAR":case"UUID":case"JSON":return"string";case"ARRAY":case"LIST":return"array";case"BLOB":case"STRUCT":case"MAP":case"GEOMETRY":return"object";default:if(e.startsWith("DECIMAL"))return"number";if(e.startsWith("STRUCT")||e.startsWith("MAP"))return"object";if(e.endsWith("]"))return"array";throw new Error(`Unsupported type: ${e}`)}}const PA="count",zA="nulls",jA="max",$A="min",VA="distinct",WA={[PA]:Oa,[VA]:e=>Oa(e).distinct(),[jA]:U_,[$A]:P_,[zA]:e=>Oa().where(lA(e))};function HA({table:e,column:t,stats:n}){return si.from(e).select(Array.from(n,r=>({[r]:WA[r](t)})))}async function qA(e,t){return t.length===1&&t[0].column==="*"?GA(e,t[0].table):(await Promise.all(t.map(n=>YA(e,n)))).filter(n=>n)}async function YA(e,{table:t,column:n,stats:r}){const i=si.from({source:t}).select({column:n}).groupby(ii(n)&&ah(n)?oh`ALL`:[]),[s]=Array.from(await e.query(si.describe(i))),o={table:t,column:`${n}`,sqlType:s.column_type,type:ew(s.column_type),nullable:s.null==="YES"};if(!(r!=null&&r.length))return o;const[a]=await e.query(HA({table:t,column:n,stats:r}),{persist:!0});return Object.assign(o,a)}async function GA(e,t){return Array.from(await e.query(`DESCRIBE ${ih(t)}`)).map(r=>({table:t,column:r.column_name,sqlType:r.column_type,type:ew(r.column_type),nullable:r.null==="YES"}))}const qr=Object.freeze({pending:Symbol("pending"),ready:Symbol("ready"),error:Symbol("error"),done:Symbol("done")});class lh extends Promise{constructor(){let t,n;super((r,i)=>{t=r,n=i}),this._resolve=t,this._reject=n,this._state=qr.pending,this._value=void 0}fulfill(t){if(this._value!==void 0){if(t!==void 0)throw Error("Promise is ready and fulfill has a provided value");this._resolve(this._value)}else{if(t===void 0)throw Error("Promise is neither ready nor has provided value");this._resolve(t)}return this._state=qr.done,this}ready(t){return this._state=qr.ready,this._value=t,this}reject(t){return this._state=qr.error,this._reject(t),this}get state(){return this._state}}lh.prototype.constructor=Promise;function nw(){return{debug(...e){},info(...e){},log(...e){},warn(...e){},error(...e){}}}function QA(e){return(typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:setTimeout)(e)}function KA(e,t){let n=[],r=0;function i(){const s=JA(n,t);n=[],r=0;for(const o of s)ZA(o,e),nO(o,t)}return{add(s,o){s.request.type==="arrow"?(r=r||QA(()=>i()),n.push({entry:s,priority:o,index:n.length})):e(s,o)}}}function JA(e,t){const n=[],r=new Map;for(const i of e){const{entry:{request:s}}=i,o=XA(s.query,t);if(!r.has(o)){const a=[];n.push(a),r.set(o,a)}r.get(o).push(i)}return n}function XA(e,t){const n=`${e}`;if(mu(e)&&!t.get(n)){if(e._orderby.length||e._where.length||e._qualify.length||e._having.length)return n;const r=e.clone().setSelect("*"),i=e._groupby;if(i.length){const s={};e._select.forEach(({alias:o,expr:a})=>s[o]=a),r.setGroupby(i.map(o=>nh(o)&&s[o.column]||o))}else e._select.some(s=>ah(s.expr))&&r.setGroupby("ALL");return`${r}`}else return n}function ZA(e,t){if(tO(e))t({request:{type:"arrow",cache:!1,query:e.query=eO(e)},result:e.result=new lh});else for(const{entry:n,priority:r}of e)t(n,r)}function tO(e){if(e.length>1){const t=`${e[0].entry.request.query}`;for(let n=1;n<e.length;++n)if(t!==`${e[n].entry.request.query}`)return!0}return!1}function eO(e){const t=e.maps=[],n=new Map;for(const s of e){const{query:o}=s.entry.request,a=[];t.push(a);for(const{alias:l,expr:u}of o._select){const c=`${u}`;n.has(c)||n.set(c,[`col${n.size}`,u]);const[d]=n.get(c);a.push([d,l])}}const r=e[0].entry.request.query.clone(),i=r._groupby;if(i.length){const s={};e.maps[0].forEach(([o,a])=>s[a]=o),r.setGroupby(i.map(o=>nh(o)&&s[o.column]||o))}return r.setSelect(Array.from(n.values()))}async function nO(e,t){const{maps:n,query:r,result:i}=e;if(!n)return;let s;try{s=await i}catch(a){for(const{entry:l}of e)l.result.reject(a);return}const o=$R(r);e.forEach(({entry:a},l)=>{const{request:u,result:c}=a,d=n[l],h=o&&d?iO(s,d):d?rO(s,d):s;u.cache&&t.set(String(u.query),h),c.fulfill(h)})}function rO(e,t){return e.select(t.map(n=>n[0]),t.map(n=>n[1]))}function iO(e,t){const n=new Map(t),r=[];for(const i of e)n.has(i.column_name)&&r.push({...i,column_name:n.get(i.column_name)});return r}const sO=typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout,oO=()=>({get:()=>{},set:(e,t)=>t,clear:()=>{}});function aO({max:e=1e3,ttl:t=3*60*60*1e3}={}){let n=new Map;function r(){const i=performance.now()-t;let s=null,o=1/0;for(const[a,l]of n){const{last:u}=l;u<o&&(s=a,o=u),i>u&&n.delete(a)}s&&n.delete(s)}return{get(i){const s=n.get(i);if(s)return s.last=performance.now(),s.value},set(i,s){return n.set(i,{last:performance.now(),value:s}),n.size>e&&sO(r),s},clear(){n=new Map}}}class lO{constructor(t){this.queue=Array.from({length:t},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(t=>!t.head)}insert(t,n){const r=this.queue[n];if(!r)throw new Error(`Invalid queue priority rank: ${n}`);const i={item:t,next:null};r.head===null?r.head=r.tail=i:r.tail=r.tail.next=i}remove(t){for(const n of this.queue){let{head:r,tail:i}=n;for(let s=null,o=r;o;s=o,o=o.next)t(o.item)&&(o===r?r=o.next:s.next=o.next,o===i&&(i=s||r));n.head=r,n.tail=i}}next(){for(const t of this.queue){const{head:n}=t;if(n!==null)return t.head=n.next,t.tail===n&&(t.tail=null),n.item}}}const ar=Object.freeze({High:0,Normal:1,Low:2});class uO{constructor(t=32){this.queue=new lO(3),this.db=null,this.clientCache=null,this._logger=nw(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=t,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;const{request:t,result:n}=this.queue.next();this.pendingResults.push(n),t.type==="exec"&&(this.pendingExec=!0),this.submit(t,n).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==qr.pending;){const r=this.pendingResults.shift();r.state===qr.ready?r.fulfill():r.state===qr.done&&this._logger.warn("Found resolved query in pending results.")}t.type==="exec"&&(this.pendingExec=!1),this.next()})}enqueue(t,n=ar.Normal){this.queue.insert(t,n),this.next()}async submit(t,n){try{const{query:r,type:i,cache:s=!1,options:o}=t,a=r?`${r}`:null;if(s){const d=this.clientCache.get(a);if(d){const h=await d;this._logger.debug("Cache"),n.ready(h);return}}const l=performance.now();this._logQueries&&this._logger.debug("Query",{type:i,sql:a,...o});const u=this.db.query({type:i,sql:a,...o});s&&this.clientCache.set(a,u);const c=await u;s&&this.clientCache.set(a,c),this._logger.debug(`Request: ${(performance.now()-l).toFixed(1)}`),n.ready(i==="exec"?null:c)}catch(r){n.reject(r)}}cache(t){return t!==void 0?this.clientCache=t===!0?aO():t||oO():this.clientCache}logger(t){return t?this._logger=t:this._logger}logQueries(t){return t!==void 0?this._logQueries=!!t:this._logQueries}connector(t){return t?this.db=t:this.db}consolidate(t){t&&!this._consolidate?this._consolidate=KA(this.enqueue.bind(this),this.clientCache):!t&&this._consolidate&&(this._consolidate=null)}request(t,n=ar.Normal){const r=new lh,i={request:t,result:r};return this._consolidate?this._consolidate.add(i,n):this.enqueue(i,n),r}cancel(t){const n=new Set(t);if(n.size){this.queue.remove(({result:r})=>n.has(r)?(r.reject("Canceled"),!0):!1);for(const r of this.pendingResults)n.has(r)&&r.reject("Canceled")}}clear(){this.queue.remove(({result:t})=>(t.reject("Cleared"),!0));for(const t of this.pendingResults)t.reject("Cleared");this.pendingResults=[]}}let ra;function cO(e){return e?ra=e:ra==null&&(ra=new rw),ra}class rw{constructor(t=hR(),{logger:n=console,manager:r=new uO,cache:i=!0,consolidate:s=!0,preagg:o={}}={}){this.manager=r,this.manager.cache(i),this.manager.consolidate(s),this.databaseConnector(t),this.logger(n),this.clear(),this.preaggregator=new LA(this,o)}clear({clients:t=!0,cache:n=!0}={}){var r,i;this.manager.clear(),t&&((r=this.filterGroups)==null||r.forEach(s=>s.disconnect()),this.filterGroups=new Map,(i=this.clients)==null||i.forEach(s=>this.disconnect(s)),this.clients=new Set),n&&this.manager.cache().clear()}databaseConnector(t){return this.manager.connector(t)}logger(t){return arguments.length&&(this._logger=t||nw(),this.manager.logger(this._logger)),this._logger}cancel(t){this.manager.cancel(t)}exec(t,{priority:n=ar.Normal}={}){return t=Array.isArray(t)?t.filter(r=>r).join(`;
`):t,this.manager.request({type:"exec",query:t},n)}query(t,{type:n="arrow",cache:r=!0,priority:i=ar.Normal,...s}={}){return this.manager.request({type:n,query:t,cache:r,options:s},i)}prefetch(t,n={}){return this.query(t,{...n,cache:!0,priority:ar.Low})}createBundle(t,n,r=ar.Low){const i={name:t,queries:n.map(s=>typeof s=="string"?{sql:s}:s)};return this.manager.request({type:"create-bundle",options:i},r)}loadBundle(t,n=ar.High){const r={name:t};return this.manager.request({type:"load-bundle",options:r},n)}updateClient(t,n,r=ar.Normal){return t.queryPending(),this.query(n,{priority:r}).then(i=>t.queryResult(i).update(),i=>{this._logger.error(i),t.queryError(i)}).catch(i=>this._logger.error(i))}requestQuery(t,n){return this.preaggregator.clear(),n?this.updateClient(t,n):Promise.resolve(t.update())}async connect(t){const{clients:n}=this;if(n.has(t))throw new Error("Client already connected.");n.add(t),t.coordinator=this,this.initializeClient(t),dO(this,t.filterBy,t)}async initializeClient(t){const n=t.fields();return n!=null&&n.length&&t.fieldInfo(await qA(this,n)),t.requestQuery()}disconnect(t){const{clients:n,filterGroups:r}=this;if(!n.has(t))return;n.delete(t),t.coordinator=null;const i=r.get(t.filterBy);i&&i.clients.delete(t)}}function dO(e,t,n){if(!t)return;let r=e.filterGroups.get(t);if(!r){const i=o=>fO(e,t,o),s=()=>hO(e,t);t.addEventListener("activate",i),t.addEventListener("value",s),r={selection:t,clients:new Set,disconnect(){t.removeEventListener("activate",i),t.removeEventListener("value",s)}},e.filterGroups.set(t,r)}r.clients.add(n)}function fO(e,t,n){const{preaggregator:r,filterGroups:i}=e,{clients:s}=i.get(t);for(const o of s)r.request(o,t,n)}function hO(e,t){const{preaggregator:n,filterGroups:r}=e,{clients:i}=r.get(t),{active:s}=t;return Promise.allSettled(Array.from(i,o=>{const a=n.request(o,t,s),l=a?null:t.predicate(o);if(a!=null&&a.skip||!a&&!l)return;const u=(a==null?void 0:a.query(s.predicate))??o.query(l);return e.updateClient(o,u)}))}async function pO(){const e=AT(),t=await FT(e),n=await LT(t.mainWorker),r=new aT,i=new vT(r,n);await i.instantiate(t.mainModule,t.pthreadWorker);const o=await(await fetch("/anytable/open_rubrics.parquet")).arrayBuffer();await i.registerFileBuffer("open_rubrics.parquet",new Uint8Array(o));const a=await i.connect();await a.query(`
    CREATE TABLE open_rubrics AS SELECT * FROM read_parquet('open_rubrics.parquet')
  `);const u=(await a.query("SELECT count(*) as cnt FROM open_rubrics")).toArray()[0].cnt;console.log(`[any_table] Loaded ${u} rows from open_rubrics.parquet`);const c={connected:!0,query:async h=>{const g=typeof h=="string"?h:h.sql??String(h);return await a.query(g)}},d=new rw(c);return cO(d),d}function yO(){const[e,t]=A.useState(0),n=A.useRef(0),r=A.useRef(performance.now());return A.useEffect(()=>{let i;const s=()=>{n.current++;const o=performance.now();o-r.current>=1e3&&(t(n.current),n.current=0,r.current=o),i=requestAnimationFrame(s)};return i=requestAnimationFrame(s),()=>cancelAnimationFrame(i)},[]),e}const fi={display:"inline-flex",alignItems:"center",gap:6,padding:"4px 10px",borderRadius:4,background:"#f3f4f6",fontSize:"0.7rem",fontFamily:"SF Mono, Menlo, monospace",color:"#555",whiteSpace:"nowrap"},hi={fontWeight:600,color:"#999",textTransform:"uppercase",fontSize:"0.6rem",letterSpacing:"0.03em"};function mO({table:e}){const t=yO(),{data:n,layout:r,scroll:i}=e,s=i==null?void 0:i.visibleRowRange;return B.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:[B.jsxs("span",{style:fi,children:[B.jsx("span",{style:hi,children:"rows"})," ",n.totalRows.toLocaleString()]}),B.jsxs("span",{style:fi,children:[B.jsx("span",{style:hi,children:"Row height"})," ",r.rowHeight,"px"]}),B.jsxs("span",{style:fi,children:[B.jsx("span",{style:hi,children:"scroll"})," ",Math.round((i==null?void 0:i.scrollTop)??0),"px"]}),B.jsxs("span",{style:fi,children:[B.jsx("span",{style:hi,children:"visible"})," ",s?`${s.start}${s.end}`:""]}),B.jsxs("span",{style:fi,children:[B.jsx("span",{style:hi,children:"loaded"})," ",n.isLoading?"...":"yes"]}),B.jsxs("span",{style:{...fi,background:t>=55?"#dcfce7":t>=30?"#fef9c3":"#fee2e2",color:t>=55?"#166534":t>=30?"#854d0e":"#991b1b"},children:[B.jsx("span",{style:{...hi,color:"inherit",opacity:.6},children:"fps"})," ",t]})]})}const gO=[{key:"source",width:"8rem"},{key:"winner",width:"4rem"},{key:"instruction",flex:3,minWidth:"12rem"},{key:"response_a",flex:2,minWidth:"10rem"},{key:"response_b",flex:2,minWidth:"10rem"},{key:"rubric",flex:2,minWidth:"10rem"}];function vO(){const e=A.useRef(null),t=aI({table:"open_rubrics",columns:gO,containerRef:e});return B.jsxs(B.Fragment,{children:[B.jsx(mO,{table:t}),B.jsx("div",{ref:e,style:{width:"100%",height:"calc(100vh - 120px)",position:"relative",border:"1px solid #ddd",borderRadius:6,overflow:"hidden"},children:B.jsxs(tr.Root,{...t.rootProps,children:[B.jsx(tr.Header,{style:{padding:"8px"},children:({columns:n})=>n.map(r=>B.jsx(tr.HeaderCell,{column:r.key,style:{fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.04em",color:"#555"},children:B.jsx(tr.SortTrigger,{column:r.key,children:r.key.replace(/_/g," ")})},r.key))}),B.jsx(tr.Viewport,{children:({rows:n})=>n.map(r=>B.jsx(tr.Row,{row:r,style:{borderBottom:"1px solid #eee",background:r.index%2===0?"#fff":"#fafafa"},children:({cells:i})=>i.map(s=>B.jsx(tr.Cell,{column:s.column,width:s.width,offset:s.offset,style:{padding:"8px 12px",fontSize:"0.8rem",lineHeight:"1.5",color:"#333"},children:_O(s.value,s.column)},s.column))},r.key))}),B.jsx(tr.VerticalScrollbar,{})]})})]})}function _O(e,t){if(e==null)return"";const n=String(e);if(t==="winner"){const r=n==="A"?"#2563eb":n==="B"?"#dc2626":"#6b7280";return B.jsx("span",{style:{fontWeight:600,color:r},children:n})}return n}function wO(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,s]=A.useState(null),o=A.useRef(null),[a,l]=A.useState(0);return A.useEffect(()=>{e||(t(!0),pO().then(async u=>{o.current=u;const c=await u.query("SELECT count(*) as cnt FROM open_rubrics"),d=c?c.toArray()[0].cnt:"";l(d),r(!0)}).catch(u=>{console.error(u),s(String(u))}))},[]),i?B.jsxs("div",{style:{padding:"2rem",color:"red"},children:[B.jsx("h1",{children:"Error"}),B.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:i})]}):n?B.jsx(nI,{coordinator:o.current,children:B.jsxs("div",{style:{padding:"1rem"},children:[B.jsx("h1",{style:{margin:"0 0 0.5rem",fontSize:"1.25rem"},children:"AnyTable  OpenRubric-Science Dataset"}),B.jsx(vO,{})]})}):B.jsxs("div",{style:{padding:"2rem"},children:[B.jsx("h1",{style:{margin:"0 0 0.5rem",fontSize:"1.25rem"},children:"AnyTable demo"}),B.jsx("p",{children:"Loading open_rubrics.parquet into DuckDB-WASM..."})]})}ic.createRoot(document.getElementById("root")).render(B.jsx(Ew.StrictMode,{children:B.jsx(wO,{})}));export{Ul as $,aT as A,AO as B,rw as C,EF as D,jt as E,bF as F,uF as G,U_ as H,Io as I,AT as J,oh as K,aA as L,Jt as M,bO as N,gR as O,ar as P,si as Q,TF as R,On as S,ls as T,lA as U,Oa as V,_R as W,FT as X,JR as Y,P_ as Z,KR as _,W_ as a,ah as a$,qR as a0,xR as a1,CR as a2,kR as a3,RR as a4,D_ as a5,yu as a6,gu as a7,MR as a8,VR as a9,gF as aA,pF as aB,mF as aC,vF as aD,sh as aE,sA as aF,pA as aG,Y_ as aH,DF as aI,AR as aJ,DO as aK,xO as aL,LO as aM,LF as aN,nF as aO,sF as aP,rF as aQ,iF as aR,BO as aS,rA as aT,SF as aU,z_ as aV,CO as aW,eF as aX,NF as aY,_F as aZ,nA as a_,F_ as aa,WR as ab,HR as ac,N_ as ad,BR as ae,YR as af,hu as ag,UR as ah,PR as ai,Kr as aj,Ui as ak,O_ as al,GR as am,QR as an,L_ as ao,TR as ap,eh as aq,ty as ar,NR as as,cr as at,jR as au,OO as av,ih as aw,Aa as ax,FO as ay,yF as az,FF as b,RO as b0,nh as b1,$R as b2,RF as b3,aF as b4,lF as b5,oF as b6,ii as b7,OF as b8,H_ as b9,yd as bA,SA as bB,QO as bC,Pl as bD,KO as bE,JO as bF,XO as bG,dF as bH,tF as bI,ZO as bJ,us as bK,th as bL,pu as ba,C_ as bb,mu as bc,kl as bd,kO as be,zO as bf,cF as bg,Fa as bh,iA as bi,MO as bj,UO as bk,wF as bl,PO as bm,hF as bn,Ke as bo,jO as bp,$O as bq,XR as br,ZR as bs,tA as bt,VO as bu,WO as bv,HO as bw,qO as bx,YO as by,GO as bz,AF as c,fR as d,cO as e,vT as f,vR as g,xt as h,ry as i,ew as j,St as k,Ml as l,x_ as m,yA as n,fF as o,Zt as p,qA as q,ny as r,hR as s,le as t,uA as u,eA as v,NO as w,oA as x,Kt as y,IF as z};

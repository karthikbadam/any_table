const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BoHW-ZOX.js","assets/string-XCBPnaIl.js","assets/index-C227tWIQ.js"])))=>i.map(i=>d[i]);
var ow=Object.defineProperty;var aw=(e,t,n)=>t in e?ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jn=(e,t,n)=>aw(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function lw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cy={exports:{}},zl={},dy={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),uw=Symbol.for("react.portal"),cw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),fw=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),mw=Symbol.for("react.suspense"),gw=Symbol.for("react.memo"),vw=Symbol.for("react.lazy"),dh=Symbol.iterator;function _w(e){return e===null||typeof e!="object"?null:(e=dh&&e[dh]||e["@@iterator"],typeof e=="function"?e:null)}var fy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hy=Object.assign,py={};function cs(e,t,n){this.props=e,this.context=t,this.refs=py,this.updater=n||fy}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yy(){}yy.prototype=cs.prototype;function _d(e,t,n){this.props=e,this.context=t,this.refs=py,this.updater=n||fy}var wd=_d.prototype=new yy;wd.constructor=_d;hy(wd,cs.prototype);wd.isPureReactComponent=!0;var fh=Array.isArray,my=Object.prototype.hasOwnProperty,Sd={current:null},gy={key:!0,ref:!0,__self:!0,__source:!0};function vy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)my.call(t,r)&&!gy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bo,type:e,key:s,ref:o,props:i,_owner:Sd.current}}function ww(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function Sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hh=/\/+/g;function _u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sw(""+e.key):t.toString(36)}function ra(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bo:case uw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+_u(o,0):r,fh(i)?(n="",e!=null&&(n=e.replace(hh,"$&/")+"/"),ra(i,t,n,"",function(u){return u})):i!=null&&(Id(i)&&(i=ww(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",fh(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+_u(s,a);o+=ra(s,t,n,l,i)}else if(l=_w(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+_u(s,a++),o+=ra(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(e,t,n){if(e==null)return e;var r=[],i=0;return ra(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Iw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var se={current:null},ia={transition:null},Ew={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Sd};function _y(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Co,forEach:function(e,t,n){Co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=cs;J.Fragment=cw;J.Profiler=fw;J.PureComponent=_d;J.StrictMode=dw;J.Suspense=mw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;J.act=_y;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)my.call(t,l)&&!gy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bo,type:e.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:pw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hw,_context:e},e.Consumer=e};J.createElement=vy;J.createFactory=function(e){var t=vy.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:yw,render:e}};J.isValidElement=Id;J.lazy=function(e){return{$$typeof:vw,_payload:{_status:-1,_result:e},_init:Iw}};J.memo=function(e,t){return{$$typeof:gw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};J.unstable_act=_y;J.useCallback=function(e,t){return se.current.useCallback(e,t)};J.useContext=function(e){return se.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return se.current.useDeferredValue(e)};J.useEffect=function(e,t){return se.current.useEffect(e,t)};J.useId=function(){return se.current.useId()};J.useImperativeHandle=function(e,t,n){return se.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return se.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return se.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return se.current.useMemo(e,t)};J.useReducer=function(e,t,n){return se.current.useReducer(e,t,n)};J.useRef=function(e){return se.current.useRef(e)};J.useState=function(e){return se.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return se.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return se.current.useTransition()};J.version="18.3.1";dy.exports=J;var F=dy.exports;const bw=lw(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=F,Nw=Symbol.for("react.element"),Rw=Symbol.for("react.fragment"),Aw=Object.prototype.hasOwnProperty,Ow=Tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fw={key:!0,ref:!0,__self:!0,__source:!0};function wy(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Aw.call(t,r)&&!Fw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Nw,type:e,key:s,ref:o,props:i,_owner:Ow.current}}zl.Fragment=Rw;zl.jsx=wy;zl.jsxs=wy;cy.exports=zl;var U=cy.exports,sc={},Sy={exports:{}},Ne={},Iy={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,q){var G=R.length;R.push(q);t:for(;0<G;){var gt=G-1>>>1,At=R[gt];if(0<i(At,q))R[gt]=q,R[G]=At,G=gt;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],G=R.pop();if(G!==q){R[0]=G;t:for(var gt=0,At=R.length,Qn=At>>>1;gt<Qn;){var an=2*(gt+1)-1,ui=R[an],le=an+1,Kn=R[le];if(0>i(ui,G))le<At&&0>i(Kn,ui)?(R[gt]=Kn,R[le]=G,gt=le):(R[gt]=ui,R[an]=G,gt=an);else if(le<At&&0>i(Kn,G))R[gt]=Kn,R[le]=G,gt=le;else break t}}return q}function i(R,q){var G=R.sortIndex-q.sortIndex;return G!==0?G:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,g=!1,v=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=R)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function w(R){if(_=!1,y(R),!v)if(n(l)!==null)v=!0,sn(S);else{var q=n(u);q!==null&&on(w,q.startTime-R)}}function S(R,q){v=!1,_&&(_=!1,m(N),N=-1),g=!0;var G=p;try{for(y(q),d=n(l);d!==null&&(!(d.expirationTime>q)||R&&!ot());){var gt=d.callback;if(typeof gt=="function"){d.callback=null,p=d.priorityLevel;var At=gt(d.expirationTime<=q);q=e.unstable_now(),typeof At=="function"?d.callback=At:d===n(l)&&r(l),y(q)}else r(l);d=n(l)}if(d!==null)var Qn=!0;else{var an=n(u);an!==null&&on(w,an.startTime-q),Qn=!1}return Qn}finally{d=null,p=G,g=!1}}var T=!1,b=null,N=-1,x=5,L=-1;function ot(){return!(e.unstable_now()-L<x)}function He(){if(b!==null){var R=e.unstable_now();L=R;var q=!0;try{q=b(!0,R)}finally{q?rn():(T=!1,b=null)}}else T=!1}var rn;if(typeof f=="function")rn=function(){f(He)};else if(typeof MessageChannel<"u"){var li=new MessageChannel,An=li.port2;li.port1.onmessage=He,rn=function(){An.postMessage(null)}}else rn=function(){O(He,0)};function sn(R){b=R,T||(T=!0,rn())}function on(R,q){N=O(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,sn(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var G=p;p=q;try{return R()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=p;p=R;try{return q()}finally{p=G}},e.unstable_scheduleCallback=function(R,q,G){var gt=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?gt+G:gt):G=gt,R){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=G+At,R={id:c++,callback:q,priorityLevel:R,startTime:G,expirationTime:At,sortIndex:-1},G>gt?(R.sortIndex=G,t(u,R),n(l)===null&&R===n(u)&&(_?(m(N),N=-1):_=!0,on(w,G-gt))):(R.sortIndex=At,t(l,R),v||g||(v=!0,sn(S))),R},e.unstable_shouldYield=ot,e.unstable_wrapCallback=function(R){var q=p;return function(){var G=p;p=q;try{return R.apply(this,arguments)}finally{p=G}}}})(Ey);Iy.exports=Ey;var Dw=Iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=F,be=Dw;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var by=new Set,Ks={};function si(e,t){Ki(e,t),Ki(e+"Capture",t)}function Ki(e,t){for(Ks[e]=t,e=0;e<t.length;e++)by.add(t[e])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ph={},yh={};function Bw(e){return oc.call(yh,e)?!0:oc.call(ph,e)?!1:Lw.test(e)?yh[e]=!0:(ph[e]=!0,!1)}function Cw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mw(e,t,n,r){if(t===null||typeof t>"u"||Cw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function oe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ed,bd);Vt[t]=new oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ed,bd);Vt[t]=new oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ed,bd);Vt[t]=new oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Td(e,t,n,r){var i=Vt.hasOwnProperty(t)?Vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mw(t,n,i,r)&&(n=null),r||i===null?Bw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wn=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),ac=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Ny=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),Ad=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),mh=Symbol.iterator;function vs(e){return e===null||typeof e!="object"?null:(e=mh&&e[mh]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,wu;function As(e){if(wu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wu=t&&t[1]||""}return`
`+wu+e}var Su=!1;function Iu(e,t){if(!e||Su)return"";Su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?As(e):""}function kw(e){switch(e.tag){case 5:return As(e.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return e=Iu(e.type,!1),e;case 11:return e=Iu(e.type.render,!1),e;case 1:return e=Iu(e.type,!0),e;default:return""}}function cc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case bi:return"Portal";case ac:return"Profiler";case Nd:return"StrictMode";case lc:return"Suspense";case uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ny:return(e.displayName||"Context")+".Consumer";case Ty:return(e._context.displayName||"Context")+".Provider";case Rd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ad:return t=e.displayName||null,t!==null?t:cc(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return cc(e(t))}catch{}}return null}function Uw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cc(t);case 8:return t===Nd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ay(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pw(e){var t=Ay(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){e._valueTracker||(e._valueTracker=Pw(e))}function Oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ay(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dc(e,t){var n=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fy(e,t){t=t.checked,t!=null&&Td(e,"checked",t,!1)}function fc(e,t){Fy(e,t);var n=Sr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hc(e,t.type,n):t.hasOwnProperty("defaultValue")&&hc(e,t.type,Sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hc(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _h(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Os(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sr(n)}}function Dy(e,t){var n=Sr(t.value),r=Sr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uo,Ly=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zw=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){zw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function By(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function Cy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=By(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jw=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mc(e,t){if(t){if(jw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=null;function Od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _c=null,zi=null,ji=null;function Sh(e){if(e=Ro(e)){if(typeof _c!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Hl(t),_c(e.stateNode,e.type,t))}}function My(e){zi?ji?ji.push(e):ji=[e]:zi=e}function ky(){if(zi){var e=zi,t=ji;if(ji=zi=null,Sh(e),t)for(e=0;e<t.length;e++)Sh(t[e])}}function Uy(e,t){return e(t)}function Py(){}var Eu=!1;function zy(e,t,n){if(Eu)return e(t,n);Eu=!0;try{return Uy(e,t,n)}finally{Eu=!1,(zi!==null||ji!==null)&&(Py(),ky())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var r=Hl(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var wc=!1;if(zn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){wc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{wc=!1}function $w(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var js=!1,La=null,Ba=!1,Sc=null,Vw={onError:function(e){js=!0,La=e}};function Ww(e,t,n,r,i,s,o,a,l){js=!1,La=null,$w.apply(Vw,arguments)}function Hw(e,t,n,r,i,s,o,a,l){if(Ww.apply(this,arguments),js){if(js){var u=La;js=!1,La=null}else throw Error(E(198));Ba||(Ba=!0,Sc=u)}}function oi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(oi(e)!==e)throw Error(E(188))}function qw(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ih(i),e;if(s===r)return Ih(i),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function $y(e){return e=qw(e),e!==null?Vy(e):null}function Vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vy(e);if(t!==null)return t;e=e.sibling}return null}var Wy=be.unstable_scheduleCallback,Eh=be.unstable_cancelCallback,Yw=be.unstable_shouldYield,Gw=be.unstable_requestPaint,Ot=be.unstable_now,Qw=be.unstable_getCurrentPriorityLevel,Fd=be.unstable_ImmediatePriority,Hy=be.unstable_UserBlockingPriority,Ca=be.unstable_NormalPriority,Kw=be.unstable_LowPriority,qy=be.unstable_IdlePriority,jl=null,wn=null;function Jw(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:tS,Xw=Math.log,Zw=Math.LN2;function tS(e){return e>>>=0,e===0?32:31-(Xw(e)/Zw|0)|0}var Po=64,zo=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ma(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Je(t),i=1<<n,r|=e[n],t&=~i;return r}function eS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Je(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=eS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yy(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function To(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Je(t),e[t]=n}function rS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Je(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Dd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ct=0;function Gy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qy,xd,Ky,Jy,Xy,Ec=!1,jo=[],fr=null,hr=null,pr=null,Zs=new Map,to=new Map,or=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function ws(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ro(t),t!==null&&xd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sS(e,t,n,r,i){switch(t){case"focusin":return fr=ws(fr,e,t,n,r,i),!0;case"dragenter":return hr=ws(hr,e,t,n,r,i),!0;case"mouseover":return pr=ws(pr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,ws(Zs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,to.set(s,ws(to.get(s)||null,e,t,n,r,i)),!0}return!1}function Zy(e){var t=zr(e.target);if(t!==null){var n=oi(t);if(n!==null){if(t=n.tag,t===13){if(t=jy(n),t!==null){e.blockedOn=t,Xy(e.priority,function(){Ky(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vc=r,n.target.dispatchEvent(r),vc=null}else return t=Ro(n),t!==null&&xd(t),e.blockedOn=n,!1;t.shift()}return!0}function Th(e,t,n){sa(e)&&n.delete(t)}function oS(){Ec=!1,fr!==null&&sa(fr)&&(fr=null),hr!==null&&sa(hr)&&(hr=null),pr!==null&&sa(pr)&&(pr=null),Zs.forEach(Th),to.forEach(Th)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,oS)))}function eo(e){function t(i){return Ss(i,e)}if(0<jo.length){Ss(jo[0],e);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fr!==null&&Ss(fr,e),hr!==null&&Ss(hr,e),pr!==null&&Ss(pr,e),Zs.forEach(t),to.forEach(t),n=0;n<or.length;n++)r=or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)Zy(n),n.blockedOn===null&&or.shift()}var $i=Wn.ReactCurrentBatchConfig,ka=!0;function aS(e,t,n,r){var i=ct,s=$i.transition;$i.transition=null;try{ct=1,Ld(e,t,n,r)}finally{ct=i,$i.transition=s}}function lS(e,t,n,r){var i=ct,s=$i.transition;$i.transition=null;try{ct=4,Ld(e,t,n,r)}finally{ct=i,$i.transition=s}}function Ld(e,t,n,r){if(ka){var i=bc(e,t,n,r);if(i===null)Bu(e,t,r,Ua,n),bh(e,r);else if(sS(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),t&4&&-1<iS.indexOf(e)){for(;i!==null;){var s=Ro(i);if(s!==null&&Qy(s),s=bc(e,t,n,r),s===null&&Bu(e,t,r,Ua,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bu(e,t,r,null,n)}}var Ua=null;function bc(e,t,n,r){if(Ua=null,e=Od(r),e=zr(e),e!==null)if(t=oi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function tm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qw()){case Fd:return 1;case Hy:return 4;case Ca:case Kw:return 16;case qy:return 536870912;default:return 16}default:return 16}}var ur=null,Bd=null,oa=null;function em(){if(oa)return oa;var e,t=Bd,n=t.length,r,i="value"in ur?ur.value:ur.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return oa=i.slice(e,1<r?1-r:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function Nh(){return!1}function Re(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$o:Nh,this.isPropagationStopped=Nh,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=Re(ds),No=bt({},ds,{view:0,detail:0}),uS=Re(No),Tu,Nu,Is,$l=bt({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(Tu=e.screenX-Is.screenX,Nu=e.screenY-Is.screenY):Nu=Tu=0,Is=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Nu}}),Rh=Re($l),cS=bt({},$l,{dataTransfer:0}),dS=Re(cS),fS=bt({},No,{relatedTarget:0}),Ru=Re(fS),hS=bt({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=Re(hS),yS=bt({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=Re(yS),gS=bt({},ds,{data:0}),Ah=Re(gS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wS[e])?!!t[e]:!1}function Md(){return SS}var IS=bt({},No,{key:function(e){if(e.key){var t=vS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_S[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=Re(IS),bS=bt({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=Re(bS),TS=bt({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),NS=Re(TS),RS=bt({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=Re(RS),OS=bt({},$l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=Re(OS),DS=[9,13,27,32],kd=zn&&"CompositionEvent"in window,$s=null;zn&&"documentMode"in document&&($s=document.documentMode);var xS=zn&&"TextEvent"in window&&!$s,nm=zn&&(!kd||$s&&8<$s&&11>=$s),Fh=" ",Dh=!1;function rm(e,t){switch(e){case"keyup":return DS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function LS(e,t){switch(e){case"compositionend":return im(t);case"keypress":return t.which!==32?null:(Dh=!0,Fh);case"textInput":return e=t.data,e===Fh&&Dh?null:e;default:return null}}function BS(e,t){if(Ni)return e==="compositionend"||!kd&&rm(e,t)?(e=em(),oa=Bd=ur=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function sm(e,t,n,r){My(r),t=Pa(t,"onChange"),0<t.length&&(n=new Cd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vs=null,no=null;function MS(e){mm(e,0)}function Vl(e){var t=Oi(e);if(Oy(t))return e}function kS(e,t){if(e==="change")return t}var om=!1;if(zn){var Au;if(zn){var Ou="oninput"in document;if(!Ou){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Ou=typeof Lh.oninput=="function"}Au=Ou}else Au=!1;om=Au&&(!document.documentMode||9<document.documentMode)}function Bh(){Vs&&(Vs.detachEvent("onpropertychange",am),no=Vs=null)}function am(e){if(e.propertyName==="value"&&Vl(no)){var t=[];sm(t,no,e,Od(e)),zy(MS,t)}}function US(e,t,n){e==="focusin"?(Bh(),Vs=t,no=n,Vs.attachEvent("onpropertychange",am)):e==="focusout"&&Bh()}function PS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(no)}function zS(e,t){if(e==="click")return Vl(t)}function jS(e,t){if(e==="input"||e==="change")return Vl(t)}function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:$S;function ro(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oc.call(t,i)||!tn(e[i],t[i]))return!1}return!0}function Ch(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mh(e,t){var n=Ch(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ch(n)}}function lm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function um(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VS(e){var t=um(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lm(n.ownerDocument.documentElement,n)){if(r!==null&&Ud(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Mh(n,s);var o=Mh(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=zn&&"documentMode"in document&&11>=document.documentMode,Ri=null,Tc=null,Ws=null,Nc=!1;function kh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nc||Ri==null||Ri!==xa(r)||(r=Ri,"selectionStart"in r&&Ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&ro(Ws,r)||(Ws=r,r=Pa(Tc,"onSelect"),0<r.length&&(t=new Cd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ri)))}function Vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ai={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Fu={},cm={};zn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function Wl(e){if(Fu[e])return Fu[e];if(!Ai[e])return e;var t=Ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cm)return Fu[e]=t[n];return e}var dm=Wl("animationend"),fm=Wl("animationiteration"),hm=Wl("animationstart"),pm=Wl("transitionend"),ym=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){ym.set(e,t),si(t,[e])}for(var Du=0;Du<Uh.length;Du++){var xu=Uh[Du],HS=xu.toLowerCase(),qS=xu[0].toUpperCase()+xu.slice(1);Dr(HS,"on"+qS)}Dr(dm,"onAnimationEnd");Dr(fm,"onAnimationIteration");Dr(hm,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(pm,"onTransitionEnd");Ki("onMouseEnter",["mouseout","mouseover"]);Ki("onMouseLeave",["mouseout","mouseover"]);Ki("onPointerEnter",["pointerout","pointerover"]);Ki("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Ph(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hw(r,t,void 0,e),e.currentTarget=null}function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;Ph(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;Ph(i,a,u),s=l}}}if(Ba)throw e=Sc,Ba=!1,Sc=null,e}function pt(e,t){var n=t[Dc];n===void 0&&(n=t[Dc]=new Set);var r=e+"__bubble";n.has(r)||(gm(t,e,2,!1),n.add(r))}function Lu(e,t,n){var r=0;t&&(r|=4),gm(n,e,r,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Wo]){e[Wo]=!0,by.forEach(function(n){n!=="selectionchange"&&(YS.has(n)||Lu(n,!1,e),Lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,Lu("selectionchange",!1,t))}}function gm(e,t,n,r){switch(tm(t)){case 1:var i=aS;break;case 4:i=lS;break;default:i=Ld}n=i.bind(null,t,n,e),i=void 0,!wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}zy(function(){var u=s,c=Od(n),d=[];t:{var p=ym.get(e);if(p!==void 0){var g=Cd,v=e;switch(e){case"keypress":if(aa(n)===0)break t;case"keydown":case"keyup":g=ES;break;case"focusin":v="focus",g=Ru;break;case"focusout":v="blur",g=Ru;break;case"beforeblur":case"afterblur":g=Ru;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NS;break;case dm:case fm:case hm:g=pS;break;case pm:g=AS;break;case"scroll":g=uS;break;case"wheel":g=FS;break;case"copy":case"cut":case"paste":g=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oh}var _=(t&4)!==0,O=!_&&e==="scroll",m=_?p!==null?p+"Capture":null:p;_=[];for(var f=u,y;f!==null;){y=f;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Xs(f,m),w!=null&&_.push(so(f,w,y)))),O)break;f=f.return}0<_.length&&(p=new g(p,v,null,n,c),d.push({event:p,listeners:_}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==vc&&(v=n.relatedTarget||n.fromElement)&&(zr(v)||v[jn]))break t;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?zr(v):null,v!==null&&(O=oi(v),v!==O||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(_=Rh,w="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=Oh,w="onPointerLeave",m="onPointerEnter",f="pointer"),O=g==null?p:Oi(g),y=v==null?p:Oi(v),p=new _(w,f+"leave",g,n,c),p.target=O,p.relatedTarget=y,w=null,zr(c)===u&&(_=new _(m,f+"enter",v,n,c),_.target=y,_.relatedTarget=O,w=_),O=w,g&&v)e:{for(_=g,m=v,f=0,y=_;y;y=ci(y))f++;for(y=0,w=m;w;w=ci(w))y++;for(;0<f-y;)_=ci(_),f--;for(;0<y-f;)m=ci(m),y--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break e;_=ci(_),m=ci(m)}_=null}else _=null;g!==null&&zh(d,p,g,_,!1),v!==null&&O!==null&&zh(d,O,v,_,!0)}}t:{if(p=u?Oi(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var S=kS;else if(xh(p))if(om)S=jS;else{S=PS;var T=US}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=zS);if(S&&(S=S(e,u))){sm(d,S,n,c);break t}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&hc(p,"number",p.value)}switch(T=u?Oi(u):window,e){case"focusin":(xh(T)||T.contentEditable==="true")&&(Ri=T,Tc=u,Ws=null);break;case"focusout":Ws=Tc=Ri=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,kh(d,n,c);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":kh(d,n,c)}var b;if(kd)t:{switch(e){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else Ni?rm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(nm&&n.locale!=="ko"&&(Ni||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ni&&(b=em()):(ur=c,Bd="value"in ur?ur.value:ur.textContent,Ni=!0)),T=Pa(u,N),0<T.length&&(N=new Ah(N,e,null,n,c),d.push({event:N,listeners:T}),b?N.data=b:(b=im(n),b!==null&&(N.data=b)))),(b=xS?LS(e,n):BS(e,n))&&(u=Pa(u,"onBeforeInput"),0<u.length&&(c=new Ah("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}mm(d,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xs(e,n),s!=null&&r.unshift(so(e,s,i)),s=Xs(e,t),s!=null&&r.push(so(e,s,i))),e=e.return}return r}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xs(n,s),l!=null&&o.unshift(so(n,l,a))):i||(l=Xs(n,s),l!=null&&o.push(so(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(QS,"")}function Ho(e,t,n){if(t=jh(t),jh(e)!==t&&n)throw Error(E(425))}function za(){}var Rc=null,Ac=null;function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,JS=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(e){return $h.resolve(null).then(e).catch(XS)}:Fc;function XS(e){setTimeout(function(){throw e})}function Cu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),eo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eo(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),hn="__reactFiber$"+fs,oo="__reactProps$"+fs,jn="__reactContainer$"+fs,Dc="__reactEvents$"+fs,ZS="__reactListeners$"+fs,t1="__reactHandles$"+fs;function zr(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vh(e);e!==null;){if(n=e[hn])return n;e=Vh(e)}return t}e=n,n=e.parentNode}return null}function Ro(e){return e=e[hn]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Hl(e){return e[oo]||null}var xc=[],Fi=-1;function xr(e){return{current:e}}function yt(e){0>Fi||(e.current=xc[Fi],xc[Fi]=null,Fi--)}function ht(e,t){Fi++,xc[Fi]=e.current,e.current=t}var Ir={},Jt=xr(Ir),pe=xr(!1),Kr=Ir;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Ir;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ye(e){return e=e.childContextTypes,e!=null}function ja(){yt(pe),yt(Jt)}function Wh(e,t,n){if(Jt.current!==Ir)throw Error(E(168));ht(Jt,t),ht(pe,n)}function vm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,Uw(e)||"Unknown",i));return bt({},n,r)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,Kr=Jt.current,ht(Jt,e),ht(pe,pe.current),!0}function Hh(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=vm(e,t,Kr),r.__reactInternalMemoizedMergedChildContext=e,yt(pe),yt(Jt),ht(Jt,e)):yt(pe),ht(pe,n)}var Bn=null,ql=!1,Mu=!1;function _m(e){Bn===null?Bn=[e]:Bn.push(e)}function e1(e){ql=!0,_m(e)}function Lr(){if(!Mu&&Bn!==null){Mu=!0;var e=0,t=ct;try{var n=Bn;for(ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,ql=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(e+1)),Wy(Fd,Lr),i}finally{ct=t,Mu=!1}}return null}var Di=[],xi=0,Va=null,Wa=0,De=[],xe=0,Jr=null,kn=1,Un="";function kr(e,t){Di[xi++]=Wa,Di[xi++]=Va,Va=e,Wa=t}function wm(e,t,n){De[xe++]=kn,De[xe++]=Un,De[xe++]=Jr,Jr=e;var r=kn;e=Un;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var s=32-Je(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-Je(t)+i|n<<i|r,Un=s+e}else kn=1<<s|n<<i|r,Un=e}function Pd(e){e.return!==null&&(kr(e,1),wm(e,1,0))}function zd(e){for(;e===Va;)Va=Di[--xi],Di[xi]=null,Wa=Di[--xi],Di[xi]=null;for(;e===Jr;)Jr=De[--xe],De[xe]=null,Un=De[--xe],De[xe]=null,kn=De[--xe],De[xe]=null}var Ee=null,Ie=null,_t=!1,Ke=null;function Sm(e,t){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ee=e,Ie=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ee=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jr!==null?{id:kn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ee=e,Ie=null,!0):!1;default:return!1}}function Lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bc(e){if(_t){var t=Ie;if(t){var n=t;if(!qh(e,t)){if(Lc(e))throw Error(E(418));t=yr(n.nextSibling);var r=Ee;t&&qh(e,t)?Sm(r,n):(e.flags=e.flags&-4097|2,_t=!1,Ee=e)}}else{if(Lc(e))throw Error(E(418));e.flags=e.flags&-4097|2,_t=!1,Ee=e}}}function Yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ee=e}function qo(e){if(e!==Ee)return!1;if(!_t)return Yh(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oc(e.type,e.memoizedProps)),t&&(t=Ie)){if(Lc(e))throw Im(),Error(E(418));for(;t;)Sm(e,t),t=yr(t.nextSibling)}if(Yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=yr(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Ee?yr(e.stateNode.nextSibling):null;return!0}function Im(){for(var e=Ie;e;)e=yr(e.nextSibling)}function Xi(){Ie=Ee=null,_t=!1}function jd(e){Ke===null?Ke=[e]:Ke.push(e)}var n1=Wn.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gh(e){var t=e._init;return t(e._payload)}function Em(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=_r(m,f),m.index=0,m.sibling=null,m}function s(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,y,w){return f===null||f.tag!==6?(f=Vu(y,m.mode,w),f.return=m,f):(f=i(f,y),f.return=m,f)}function l(m,f,y,w){var S=y.type;return S===Ti?c(m,f,y.props.children,w,y.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Gh(S)===f.type)?(w=i(f,y.props),w.ref=Es(m,f,y),w.return=m,w):(w=pa(y.type,y.key,y.props,null,m.mode,w),w.ref=Es(m,f,y),w.return=m,w)}function u(m,f,y,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Wu(y,m.mode,w),f.return=m,f):(f=i(f,y.children||[]),f.return=m,f)}function c(m,f,y,w,S){return f===null||f.tag!==7?(f=Yr(y,m.mode,w,S),f.return=m,f):(f=i(f,y),f.return=m,f)}function d(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Vu(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mo:return y=pa(f.type,f.key,f.props,null,m.mode,y),y.ref=Es(m,null,f),y.return=m,y;case bi:return f=Wu(f,m.mode,y),f.return=m,f;case er:var w=f._init;return d(m,w(f._payload),y)}if(Os(f)||vs(f))return f=Yr(f,m.mode,y,null),f.return=m,f;Yo(m,f)}return null}function p(m,f,y,w){var S=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(m,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mo:return y.key===S?l(m,f,y,w):null;case bi:return y.key===S?u(m,f,y,w):null;case er:return S=y._init,p(m,f,S(y._payload),w)}if(Os(y)||vs(y))return S!==null?null:c(m,f,y,w,null);Yo(m,y)}return null}function g(m,f,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(f,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mo:return m=m.get(w.key===null?y:w.key)||null,l(f,m,w,S);case bi:return m=m.get(w.key===null?y:w.key)||null,u(f,m,w,S);case er:var T=w._init;return g(m,f,y,T(w._payload),S)}if(Os(w)||vs(w))return m=m.get(y)||null,c(f,m,w,S,null);Yo(f,w)}return null}function v(m,f,y,w){for(var S=null,T=null,b=f,N=f=0,x=null;b!==null&&N<y.length;N++){b.index>N?(x=b,b=null):x=b.sibling;var L=p(m,b,y[N],w);if(L===null){b===null&&(b=x);break}e&&b&&L.alternate===null&&t(m,b),f=s(L,f,N),T===null?S=L:T.sibling=L,T=L,b=x}if(N===y.length)return n(m,b),_t&&kr(m,N),S;if(b===null){for(;N<y.length;N++)b=d(m,y[N],w),b!==null&&(f=s(b,f,N),T===null?S=b:T.sibling=b,T=b);return _t&&kr(m,N),S}for(b=r(m,b);N<y.length;N++)x=g(b,m,N,y[N],w),x!==null&&(e&&x.alternate!==null&&b.delete(x.key===null?N:x.key),f=s(x,f,N),T===null?S=x:T.sibling=x,T=x);return e&&b.forEach(function(ot){return t(m,ot)}),_t&&kr(m,N),S}function _(m,f,y,w){var S=vs(y);if(typeof S!="function")throw Error(E(150));if(y=S.call(y),y==null)throw Error(E(151));for(var T=S=null,b=f,N=f=0,x=null,L=y.next();b!==null&&!L.done;N++,L=y.next()){b.index>N?(x=b,b=null):x=b.sibling;var ot=p(m,b,L.value,w);if(ot===null){b===null&&(b=x);break}e&&b&&ot.alternate===null&&t(m,b),f=s(ot,f,N),T===null?S=ot:T.sibling=ot,T=ot,b=x}if(L.done)return n(m,b),_t&&kr(m,N),S;if(b===null){for(;!L.done;N++,L=y.next())L=d(m,L.value,w),L!==null&&(f=s(L,f,N),T===null?S=L:T.sibling=L,T=L);return _t&&kr(m,N),S}for(b=r(m,b);!L.done;N++,L=y.next())L=g(b,m,N,L.value,w),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?N:L.key),f=s(L,f,N),T===null?S=L:T.sibling=L,T=L);return e&&b.forEach(function(He){return t(m,He)}),_t&&kr(m,N),S}function O(m,f,y,w){if(typeof y=="object"&&y!==null&&y.type===Ti&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mo:t:{for(var S=y.key,T=f;T!==null;){if(T.key===S){if(S=y.type,S===Ti){if(T.tag===7){n(m,T.sibling),f=i(T,y.props.children),f.return=m,m=f;break t}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===er&&Gh(S)===T.type){n(m,T.sibling),f=i(T,y.props),f.ref=Es(m,T,y),f.return=m,m=f;break t}n(m,T);break}else t(m,T);T=T.sibling}y.type===Ti?(f=Yr(y.props.children,m.mode,w,y.key),f.return=m,m=f):(w=pa(y.type,y.key,y.props,null,m.mode,w),w.ref=Es(m,f,y),w.return=m,m=w)}return o(m);case bi:t:{for(T=y.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=i(f,y.children||[]),f.return=m,m=f;break t}else{n(m,f);break}else t(m,f);f=f.sibling}f=Wu(y,m.mode,w),f.return=m,m=f}return o(m);case er:return T=y._init,O(m,f,T(y._payload),w)}if(Os(y))return v(m,f,y,w);if(vs(y))return _(m,f,y,w);Yo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,y),f.return=m,m=f):(n(m,f),f=Vu(y,m.mode,w),f.return=m,m=f),o(m)):n(m,f)}return O}var Zi=Em(!0),bm=Em(!1),Ha=xr(null),qa=null,Li=null,$d=null;function Vd(){$d=Li=qa=null}function Wd(e){var t=Ha.current;yt(Ha),e._currentValue=t}function Cc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vi(e,t){qa=e,$d=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(he=!0),e.firstContext=null)}function ze(e){var t=e._currentValue;if($d!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(qa===null)throw Error(E(308));Li=e,qa.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var jr=null;function Hd(e){jr===null?jr=[e]:jr.push(e)}function Tm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hd(t)):(n.next=i.next,i.next=n),t.interleaved=n,$n(e,r)}function $n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nr=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$n(e,n)}return i=r.interleaved,i===null?(t.next=t,Hd(r)):(t.next=i.next,i.next=t),r.interleaved=t,$n(e,n)}function la(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dd(e,n)}}function Qh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ya(e,t,n,r){var i=e.updateQueue;nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var v=e,_=a;switch(p=t,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(g,d,p);break t}d=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(g,d,p):v,p==null)break t;d=bt({},d,p);break t;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zr|=o,e.lanes=o,e.memoizedState=d}}function Kh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Ao={},Sn=xr(Ao),ao=xr(Ao),lo=xr(Ao);function $r(e){if(e===Ao)throw Error(E(174));return e}function Yd(e,t){switch(ht(lo,t),ht(ao,e),ht(Sn,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yc(t,e)}yt(Sn),ht(Sn,t)}function ts(){yt(Sn),yt(ao),yt(lo)}function Rm(e){$r(lo.current);var t=$r(Sn.current),n=yc(t,e.type);t!==n&&(ht(ao,e),ht(Sn,n))}function Gd(e){ao.current===e&&(yt(Sn),yt(ao))}var St=xr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ku=[];function Qd(){for(var e=0;e<ku.length;e++)ku[e]._workInProgressVersionPrimary=null;ku.length=0}var ua=Wn.ReactCurrentDispatcher,Uu=Wn.ReactCurrentBatchConfig,Xr=0,Et=null,Lt=null,Ut=null,Qa=!1,Hs=!1,uo=0,r1=0;function Wt(){throw Error(E(321))}function Kd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Jd(e,t,n,r,i,s){if(Xr=s,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?a1:l1,e=n(r,i),Hs){s=0;do{if(Hs=!1,uo=0,25<=s)throw Error(E(301));s+=1,Ut=Lt=null,t.updateQueue=null,ua.current=u1,e=n(r,i)}while(Hs)}if(ua.current=Ka,t=Lt!==null&&Lt.next!==null,Xr=0,Ut=Lt=Et=null,Qa=!1,t)throw Error(E(300));return e}function Xd(){var e=uo!==0;return uo=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Et.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function je(){if(Lt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Ut===null?Et.memoizedState:Ut.next;if(t!==null)Ut=t,Lt=e;else{if(e===null)throw Error(E(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?Et.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function co(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=je(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=Lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Xr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Et.lanes|=c,Zr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,t.memoizedState)||(he=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Et.lanes|=s,Zr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zu(e){var t=je(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);tn(s,t.memoizedState)||(he=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Am(){}function Om(e,t){var n=Et,r=je(),i=t(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,he=!0),r=r.queue,Zd(xm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,fo(9,Dm.bind(null,n,r,i,t),void 0,null),Pt===null)throw Error(E(349));Xr&30||Fm(n,t,i)}return i}function Fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dm(e,t,n,r){t.value=n,t.getSnapshot=r,Lm(t)&&Bm(e)}function xm(e,t,n){return n(function(){Lm(t)&&Bm(e)})}function Lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Bm(e){var t=$n(e,1);t!==null&&Xe(t,e,1,-1)}function Jh(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=o1.bind(null,Et,e),[t.memoizedState,e]}function fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cm(){return je().memoizedState}function ca(e,t,n,r){var i=cn();Et.flags|=e,i.memoizedState=fo(1|t,n,void 0,r===void 0?null:r)}function Yl(e,t,n,r){var i=je();r=r===void 0?null:r;var s=void 0;if(Lt!==null){var o=Lt.memoizedState;if(s=o.destroy,r!==null&&Kd(r,o.deps)){i.memoizedState=fo(t,n,s,r);return}}Et.flags|=e,i.memoizedState=fo(1|t,n,s,r)}function Xh(e,t){return ca(8390656,8,e,t)}function Zd(e,t){return Yl(2048,8,e,t)}function Mm(e,t){return Yl(4,2,e,t)}function km(e,t){return Yl(4,4,e,t)}function Um(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pm(e,t,n){return n=n!=null?n.concat([e]):null,Yl(4,4,Um.bind(null,t,e),n)}function tf(){}function zm(e,t){var n=je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jm(e,t){var n=je();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $m(e,t,n){return Xr&21?(tn(n,t)||(n=Yy(),Et.lanes|=n,Zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,he=!0),e.memoizedState=n)}function i1(e,t){var n=ct;ct=n!==0&&4>n?n:4,e(!0);var r=Uu.transition;Uu.transition={};try{e(!1),t()}finally{ct=n,Uu.transition=r}}function Vm(){return je().memoizedState}function s1(e,t,n){var r=vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wm(e))Hm(t,n);else if(n=Tm(e,t,n,r),n!==null){var i=ne();Xe(n,e,r,i),qm(n,t,r)}}function o1(e,t,n){var r=vr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wm(e))Hm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=t.interleaved;l===null?(i.next=i,Hd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Tm(e,t,i,r),n!==null&&(i=ne(),Xe(n,e,r,i),qm(n,t,r))}}function Wm(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Hm(e,t){Hs=Qa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dd(e,n)}}var Ka={readContext:ze,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},a1={readContext:ze,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:ze,useEffect:Xh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,Um.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s1.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:Jh,useDebugValue:tf,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=Jh(!1),t=e[0];return e=i1.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Et,i=cn();if(_t){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Pt===null)throw Error(E(349));Xr&30||Fm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Xh(xm.bind(null,r,s,e),[e]),r.flags|=2048,fo(9,Dm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=cn(),t=Pt.identifierPrefix;if(_t){var n=Un,r=kn;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=r1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l1={readContext:ze,useCallback:zm,useContext:ze,useEffect:Zd,useImperativeHandle:Pm,useInsertionEffect:Mm,useLayoutEffect:km,useMemo:jm,useReducer:Pu,useRef:Cm,useState:function(){return Pu(co)},useDebugValue:tf,useDeferredValue:function(e){var t=je();return $m(t,Lt.memoizedState,e)},useTransition:function(){var e=Pu(co)[0],t=je().memoizedState;return[e,t]},useMutableSource:Am,useSyncExternalStore:Om,useId:Vm,unstable_isNewReconciler:!1},u1={readContext:ze,useCallback:zm,useContext:ze,useEffect:Zd,useImperativeHandle:Pm,useInsertionEffect:Mm,useLayoutEffect:km,useMemo:jm,useReducer:zu,useRef:Cm,useState:function(){return zu(co)},useDebugValue:tf,useDeferredValue:function(e){var t=je();return Lt===null?t.memoizedState=e:$m(t,Lt.memoizedState,e)},useTransition:function(){var e=zu(co)[0],t=je().memoizedState;return[e,t]},useMutableSource:Am,useSyncExternalStore:Om,useId:Vm,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gl={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ne(),i=vr(e),s=Pn(r,i);s.payload=t,n!=null&&(s.callback=n),t=mr(e,s,i),t!==null&&(Xe(t,e,i,r),la(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ne(),i=vr(e),s=Pn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=mr(e,s,i),t!==null&&(Xe(t,e,i,r),la(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ne(),r=vr(e),i=Pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=mr(e,i,r),t!==null&&(Xe(t,e,r,n),la(t,e,r))}};function Zh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ro(n,r)||!ro(i,s):!0}function Ym(e,t,n){var r=!1,i=Ir,s=t.contextType;return typeof s=="object"&&s!==null?s=ze(s):(i=ye(t)?Kr:Jt.current,r=t.contextTypes,s=(r=r!=null)?Ji(e,i):Ir),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function tp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gl.enqueueReplaceState(t,t.state,null)}function kc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ze(s):(s=ye(t)?Kr:Jt.current,i.context=Ji(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Mc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gl.enqueueReplaceState(i,i.state,null),Ya(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",r=t;do n+=kw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ju(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function Gm(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xa||(Xa=!0,Gc=r),Uc(e,t)},n}function Qm(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Uc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uc(e,t),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ep(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new c1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=b1.bind(null,e,t,n),t.then(e,e))}function np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,mr(n,t,1))),n.lanes|=1),e)}var d1=Wn.ReactCurrentOwner,he=!1;function Zt(e,t,n,r){t.child=e===null?bm(t,null,n,r):Zi(t,e.child,n,r)}function ip(e,t,n,r,i){n=n.render;var s=t.ref;return Vi(t,i),r=Jd(e,t,n,r,s,i),n=Xd(),e!==null&&!he?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vn(e,t,i)):(_t&&n&&Pd(t),t.flags|=1,Zt(e,t,r,i),t.child)}function sp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!uf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Km(e,t,s,r,i)):(e=pa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&e.ref===t.ref)return Vn(e,t,i)}return t.flags|=1,e=_r(s,r),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ro(s,r)&&e.ref===t.ref)if(he=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(he=!0);else return t.lanes=e.lanes,Vn(e,t,i)}return Pc(e,t,n,r,i)}function Jm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Ci,we),we|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(Ci,we),we|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ht(Ci,we),we|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ht(Ci,we),we|=r;return Zt(e,t,i,n),t.child}function Xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pc(e,t,n,r,i){var s=ye(n)?Kr:Jt.current;return s=Ji(t,s),Vi(t,i),n=Jd(e,t,n,r,s,i),r=Xd(),e!==null&&!he?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vn(e,t,i)):(_t&&r&&Pd(t),t.flags|=1,Zt(e,t,n,i),t.child)}function op(e,t,n,r,i){if(ye(n)){var s=!0;$a(t)}else s=!1;if(Vi(t,i),t.stateNode===null)da(e,t),Ym(t,n,r),kc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ze(u):(u=ye(n)?Kr:Jt.current,u=Ji(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tp(t,o,r,u),nr=!1;var p=t.memoizedState;o.state=p,Ya(t,r,o,i),l=t.memoizedState,a!==r||p!==l||pe.current||nr?(typeof c=="function"&&(Mc(t,n,c,r),l=t.memoizedState),(a=nr||Zh(t,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Nm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ye(t.type,a),o.props=u,d=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ze(l):(l=ye(n)?Kr:Jt.current,l=Ji(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&tp(t,o,r,l),nr=!1,p=t.memoizedState,o.state=p,Ya(t,r,o,i);var v=t.memoizedState;a!==d||p!==v||pe.current||nr?(typeof g=="function"&&(Mc(t,n,g,r),v=t.memoizedState),(u=nr||Zh(t,n,u,r,p,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return zc(e,t,n,r,s,i)}function zc(e,t,n,r,i,s){Xm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Hh(t,n,!1),Vn(e,t,s);r=t.stateNode,d1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zi(t,e.child,null,s),t.child=Zi(t,null,a,s)):Zt(e,t,a,s),t.memoizedState=r.state,i&&Hh(t,n,!0),t.child}function Zm(e){var t=e.stateNode;t.pendingContext?Wh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wh(e,t.context,!1),Yd(e,t.containerInfo)}function ap(e,t,n,r,i){return Xi(),jd(i),t.flags|=256,Zt(e,t,n,r),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:null,transitions:null}}function tg(e,t,n){var r=t.pendingProps,i=St.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ht(St,i&1),e===null)return Bc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jl(o,r,0,null),e=Yr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$c(n),t.memoizedState=jc,e):ef(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return f1(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=_r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_r(a,s):(s=Yr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?$c(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=jc,r}return s=e.child,e=s.sibling,r=_r(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ef(e,t){return t=Jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Go(e,t,n,r){return r!==null&&jd(r),Zi(t,e.child,null,n),e=ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f1(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ju(Error(E(422))),Go(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jl({mode:"visible",children:r.children},i,0,null),s=Yr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zi(t,e.child,null,o),t.child.memoizedState=$c(o),t.memoizedState=jc,s);if(!(t.mode&1))return Go(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=ju(s,r,void 0),Go(e,t,o,r)}if(a=(o&e.childLanes)!==0,he||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$n(e,i),Xe(r,e,i,-1))}return lf(),r=ju(Error(E(421))),Go(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=T1.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ie=yr(i.nextSibling),Ee=t,_t=!0,Ke=null,e!==null&&(De[xe++]=kn,De[xe++]=Un,De[xe++]=Jr,kn=e.id,Un=e.overflow,Jr=t),t=ef(t,r.children),t.flags|=4096,t)}function lp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cc(e.return,t,n)}function $u(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(e,t,r.children,n),r=St.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lp(e,n,t);else if(e.tag===19)lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ht(St,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ga(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$u(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ga(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$u(t,!0,n,null,s);break;case"together":$u(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=_r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h1(e,t,n){switch(t.tag){case 3:Zm(t),Xi();break;case 5:Rm(t);break;case 1:ye(t.type)&&$a(t);break;case 4:Yd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ht(Ha,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ht(St,St.current&1),t.flags|=128,null):n&t.child.childLanes?tg(e,t,n):(ht(St,St.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);ht(St,St.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ht(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,Jm(e,t,n)}return Vn(e,t,n)}var ng,Vc,rg,ig;ng=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vc=function(){};rg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$r(Sn.current);var s=null;switch(n){case"input":i=dc(e,i),r=dc(e,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=pc(e,i),r=pc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=za)}mc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ig=function(e,t,n,r){n!==r&&(t.flags|=4)};function bs(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function p1(e,t,n){var r=t.pendingProps;switch(zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return ye(t.type)&&ja(),Ht(t),null;case 3:return r=t.stateNode,ts(),yt(pe),yt(Jt),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ke!==null&&(Jc(Ke),Ke=null))),Vc(e,t),Ht(t),null;case 5:Gd(t);var i=$r(lo.current);if(n=t.type,e!==null&&t.stateNode!=null)rg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Ht(t),null}if(e=$r(Sn.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hn]=t,r[oo]=s,e=(t.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(i=0;i<Ds.length;i++)pt(Ds[i],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":gh(r,s),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pt("invalid",r);break;case"textarea":_h(r,s),pt("invalid",r)}mc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ho(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ho(r.textContent,a,e),i=["children",""+a]):Ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pt("scroll",r)}switch(n){case"input":ko(r),vh(r,s,!0);break;case"textarea":ko(r),wh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=za)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[hn]=t,e[oo]=r,ng(e,t,!1,!1),t.stateNode=e;t:{switch(o=gc(n,r),n){case"dialog":pt("cancel",e),pt("close",e),i=r;break;case"iframe":case"object":case"embed":pt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ds.length;i++)pt(Ds[i],e);i=r;break;case"source":pt("error",e),i=r;break;case"img":case"image":case"link":pt("error",e),pt("load",e),i=r;break;case"details":pt("toggle",e),i=r;break;case"input":gh(e,r),i=dc(e,r),pt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),pt("invalid",e);break;case"textarea":_h(e,r),i=pc(e,r),pt("invalid",e);break;default:i=r}mc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ly(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Js(e,l):typeof l=="number"&&Js(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pt("scroll",e):l!=null&&Td(e,s,l,o))}switch(n){case"input":ko(e),vh(e,r,!1);break;case"textarea":ko(e),wh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Pi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)ig(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=$r(lo.current),$r(Sn.current),qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(s=r.nodeValue!==n)&&(e=Ee,e!==null))switch(e.tag){case 3:Ho(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ho(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return Ht(t),null;case 13:if(yt(St),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&Ie!==null&&t.mode&1&&!(t.flags&128))Im(),Xi(),t.flags|=98560,s=!1;else if(s=qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[hn]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),s=!1}else Ke!==null&&(Jc(Ke),Ke=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||St.current&1?Mt===0&&(Mt=3):lf())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return ts(),Vc(e,t),e===null&&io(t.stateNode.containerInfo),Ht(t),null;case 10:return Wd(t.type._context),Ht(t),null;case 17:return ye(t.type)&&ja(),Ht(t),null;case 19:if(yt(St),s=t.memoizedState,s===null)return Ht(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)bs(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ga(e),o!==null){for(t.flags|=128,bs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ht(St,St.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ot()>ns&&(t.flags|=128,r=!0,bs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ga(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_t)return Ht(t),null}else 2*Ot()-s.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,bs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ot(),t.sibling=null,n=St.current,ht(St,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return af(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?we&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function y1(e,t){switch(zd(t),t.tag){case 1:return ye(t.type)&&ja(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ts(),yt(pe),yt(Jt),Qd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(yt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(St),null;case 4:return ts(),null;case 10:return Wd(t.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Qo=!1,qt=!1,m1=typeof WeakSet=="function"?WeakSet:Set,A=null;function Bi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function Wc(e,t,n){try{n()}catch(r){Nt(e,t,r)}}var up=!1;function g1(e,t){if(Rc=ka,e=um(),Ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,d=e,p=null;e:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===e)break e;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ac={focusedElem:e,selectionRange:n},ka=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,O=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ye(t.type,_),O);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){Nt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=up,up=!1,v}function qs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wc(t,n,s)}i=i.next}while(i!==r)}}function Ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sg(e){var t=e.alternate;t!==null&&(e.alternate=null,sg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[oo],delete t[Dc],delete t[ZS],delete t[t1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function og(e){return e.tag===5||e.tag===3||e.tag===4}function cp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||og(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=za));else if(r!==4&&(e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Yc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yc(e,t,n),e=e.sibling;e!==null;)Yc(e,t,n),e=e.sibling}var jt=null,Ge=!1;function Xn(e,t,n){for(n=n.child;n!==null;)ag(e,t,n),n=n.sibling}function ag(e,t,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(jl,n)}catch{}switch(n.tag){case 5:qt||Bi(n,t);case 6:var r=jt,i=Ge;jt=null,Xn(e,t,n),jt=r,Ge=i,jt!==null&&(Ge?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Ge?(e=jt,n=n.stateNode,e.nodeType===8?Cu(e.parentNode,n):e.nodeType===1&&Cu(e,n),eo(e)):Cu(jt,n.stateNode));break;case 4:r=jt,i=Ge,jt=n.stateNode.containerInfo,Ge=!0,Xn(e,t,n),jt=r,Ge=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wc(n,t,o),i=i.next}while(i!==r)}Xn(e,t,n);break;case 1:if(!qt&&(Bi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,t,a)}Xn(e,t,n);break;case 21:Xn(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Xn(e,t,n),qt=r):Xn(e,t,n);break;default:Xn(e,t,n)}}function dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new m1),t.forEach(function(r){var i=N1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,Ge=!1;break t;case 3:jt=a.stateNode.containerInfo,Ge=!0;break t;case 4:jt=a.stateNode.containerInfo,Ge=!0;break t}a=a.return}if(jt===null)throw Error(E(160));ag(s,o,i),jt=null,Ge=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lg(t,e),t=t.sibling}function lg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),ln(e),r&4){try{qs(3,e,e.return),Ql(3,e)}catch(_){Nt(e,e.return,_)}try{qs(5,e,e.return)}catch(_){Nt(e,e.return,_)}}break;case 1:qe(t,e),ln(e),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(qe(t,e),ln(e),r&512&&n!==null&&Bi(n,n.return),e.flags&32){var i=e.stateNode;try{Js(i,"")}catch(_){Nt(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fy(i,s),gc(a,o);var u=gc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Cy(i,d):c==="dangerouslySetInnerHTML"?Ly(i,d):c==="children"?Js(i,d):Td(i,c,d,u)}switch(a){case"input":fc(i,s);break;case"textarea":Dy(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Pi(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Pi(i,!!s.multiple,s.defaultValue,!0):Pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(_){Nt(e,e.return,_)}}break;case 6:if(qe(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(E(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Nt(e,e.return,_)}}break;case 3:if(qe(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(_){Nt(e,e.return,_)}break;case 4:qe(t,e),ln(e);break;case 13:qe(t,e),ln(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sf=Ot())),r&4&&dp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(u=qt)||c,qe(t,e),qt=u):qe(t,e),ln(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(d=A=c;A!==null;){switch(p=A,g=p.child,p.tag){case 0:case 11:case 14:case 15:qs(4,p,p.return);break;case 1:Bi(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){Nt(r,n,_)}}break;case 5:Bi(p,p.return);break;case 22:if(p.memoizedState!==null){hp(d);continue}}g!==null?(g.return=p,A=g):hp(d)}c=c.sibling}t:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=By("display",o))}catch(_){Nt(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Nt(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qe(t,e),ln(e),r&4&&dp(e);break;case 21:break;default:qe(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(og(n)){var r=n;break t}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Js(i,""),r.flags&=-33);var s=cp(e);Yc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cp(e);qc(e,a,o);break;default:throw Error(E(161))}}catch(l){Nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v1(e,t,n){A=e,ug(e)}function ug(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var i=A,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qt;a=Qo;var u=qt;if(Qo=o,(qt=l)&&!u)for(A=i;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?pp(i):l!==null?(l.return=o,A=l):pp(i);for(;s!==null;)A=s,ug(s),s=s.sibling;A=i,Qo=a,qt=u}fp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,A=s):fp(e)}}function fp(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||Ql(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Kh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}qt||t.flags&512&&Hc(t)}catch(p){Nt(t,t.return,p)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function hp(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function pp(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ql(4,t)}catch(l){Nt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nt(t,i,l)}}var s=t.return;try{Hc(t)}catch(l){Nt(t,s,l)}break;case 5:var o=t.return;try{Hc(t)}catch(l){Nt(t,o,l)}}}catch(l){Nt(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var _1=Math.ceil,Ja=Wn.ReactCurrentDispatcher,nf=Wn.ReactCurrentOwner,ke=Wn.ReactCurrentBatchConfig,et=0,Pt=null,Dt=null,$t=0,we=0,Ci=xr(0),Mt=0,ho=null,Zr=0,Kl=0,rf=0,Ys=null,ce=null,sf=0,ns=1/0,Fn=null,Xa=!1,Gc=null,gr=null,Ko=!1,cr=null,Za=0,Gs=0,Qc=null,fa=-1,ha=0;function ne(){return et&6?Ot():fa!==-1?fa:fa=Ot()}function vr(e){return e.mode&1?et&2&&$t!==0?$t&-$t:n1.transition!==null?(ha===0&&(ha=Yy()),ha):(e=ct,e!==0||(e=window.event,e=e===void 0?16:tm(e.type)),e):1}function Xe(e,t,n,r){if(50<Gs)throw Gs=0,Qc=null,Error(E(185));To(e,n,r),(!(et&2)||e!==Pt)&&(e===Pt&&(!(et&2)&&(Kl|=n),Mt===4&&ar(e,$t)),me(e,r),n===1&&et===0&&!(t.mode&1)&&(ns=Ot()+500,ql&&Lr()))}function me(e,t){var n=e.callbackNode;nS(e,t);var r=Ma(e,e===Pt?$t:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?e1(yp.bind(null,e)):_m(yp.bind(null,e)),JS(function(){!(et&6)&&Lr()}),n=null;else{switch(Gy(r)){case 1:n=Fd;break;case 4:n=Hy;break;case 16:n=Ca;break;case 536870912:n=qy;break;default:n=Ca}n=gg(n,cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cg(e,t){if(fa=-1,ha=0,et&6)throw Error(E(327));var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var r=Ma(e,e===Pt?$t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tl(e,r);else{t=r;var i=et;et|=2;var s=fg();(Pt!==e||$t!==t)&&(Fn=null,ns=Ot()+500,qr(e,t));do try{I1();break}catch(a){dg(e,a)}while(!0);Vd(),Ja.current=s,et=i,Dt!==null?t=0:(Pt=null,$t=0,t=Mt)}if(t!==0){if(t===2&&(i=Ic(e),i!==0&&(r=i,t=Kc(e,i))),t===1)throw n=ho,qr(e,0),ar(e,r),me(e,Ot()),n;if(t===6)ar(e,r);else{if(i=e.current.alternate,!(r&30)&&!w1(i)&&(t=tl(e,r),t===2&&(s=Ic(e),s!==0&&(r=s,t=Kc(e,s))),t===1))throw n=ho,qr(e,0),ar(e,r),me(e,Ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Ur(e,ce,Fn);break;case 3:if(ar(e,r),(r&130023424)===r&&(t=sf+500-Ot(),10<t)){if(Ma(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ne(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fc(Ur.bind(null,e,ce,Fn),t);break}Ur(e,ce,Fn);break;case 4:if(ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Je(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_1(r/1960))-r,10<r){e.timeoutHandle=Fc(Ur.bind(null,e,ce,Fn),r);break}Ur(e,ce,Fn);break;case 5:Ur(e,ce,Fn);break;default:throw Error(E(329))}}}return me(e,Ot()),e.callbackNode===n?cg.bind(null,e):null}function Kc(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(qr(e,t).flags|=256),e=tl(e,t),e!==2&&(t=ce,ce=n,t!==null&&Jc(t)),e}function Jc(e){ce===null?ce=e:ce.push.apply(ce,e)}function w1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~rf,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Je(t),r=1<<n;e[n]=-1,t&=~r}}function yp(e){if(et&6)throw Error(E(327));Wi();var t=Ma(e,0);if(!(t&1))return me(e,Ot()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var r=Ic(e);r!==0&&(t=r,n=Kc(e,r))}if(n===1)throw n=ho,qr(e,0),ar(e,t),me(e,Ot()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,ce,Fn),me(e,Ot()),null}function of(e,t){var n=et;et|=1;try{return e(t)}finally{et=n,et===0&&(ns=Ot()+500,ql&&Lr())}}function ti(e){cr!==null&&cr.tag===0&&!(et&6)&&Wi();var t=et;et|=1;var n=ke.transition,r=ct;try{if(ke.transition=null,ct=1,e)return e()}finally{ct=r,ke.transition=n,et=t,!(et&6)&&Lr()}}function af(){we=Ci.current,yt(Ci)}function qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KS(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(zd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ja();break;case 3:ts(),yt(pe),yt(Jt),Qd();break;case 5:Gd(r);break;case 4:ts();break;case 13:yt(St);break;case 19:yt(St);break;case 10:Wd(r.type._context);break;case 22:case 23:af()}n=n.return}if(Pt=e,Dt=e=_r(e.current,null),$t=we=t,Mt=0,ho=null,rf=Kl=Zr=0,ce=Ys=null,jr!==null){for(t=0;t<jr.length;t++)if(n=jr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jr=null}return e}function dg(e,t){do{var n=Dt;try{if(Vd(),ua.current=Ka,Qa){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qa=!1}if(Xr=0,Ut=Lt=Et=null,Hs=!1,uo=0,nf.current=null,n===null||n.return===null){Mt=1,ho=t,Dt=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=np(o);if(g!==null){g.flags&=-257,rp(g,o,a,s,t),g.mode&1&&ep(s,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break t}else{if(!(t&1)){ep(s,u,t),lf();break t}l=Error(E(426))}}else if(_t&&a.mode&1){var O=np(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),rp(O,o,a,s,t),jd(es(l,a));break t}}s=l=es(l,a),Mt!==4&&(Mt=2),Ys===null?Ys=[s]:Ys.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Gm(s,l,t);Qh(s,m);break t;case 1:a=l;var f=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Qm(s,a,t);Qh(s,w);break t}}s=s.return}while(s!==null)}pg(n)}catch(S){t=S,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function fg(){var e=Ja.current;return Ja.current=Ka,e===null?Ka:e}function lf(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Pt===null||!(Zr&268435455)&&!(Kl&268435455)||ar(Pt,$t)}function tl(e,t){var n=et;et|=2;var r=fg();(Pt!==e||$t!==t)&&(Fn=null,qr(e,t));do try{S1();break}catch(i){dg(e,i)}while(!0);if(Vd(),et=n,Ja.current=r,Dt!==null)throw Error(E(261));return Pt=null,$t=0,Mt}function S1(){for(;Dt!==null;)hg(Dt)}function I1(){for(;Dt!==null&&!Yw();)hg(Dt)}function hg(e){var t=mg(e.alternate,e,we);e.memoizedProps=e.pendingProps,t===null?pg(e):Dt=t,nf.current=null}function pg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y1(n,t),n!==null){n.flags&=32767,Dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Dt=null;return}}else if(n=p1(n,t,we),n!==null){Dt=n;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Ur(e,t,n){var r=ct,i=ke.transition;try{ke.transition=null,ct=1,E1(e,t,n,r)}finally{ke.transition=i,ct=r}return null}function E1(e,t,n,r){do Wi();while(cr!==null);if(et&6)throw Error(E(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(rS(e,s),e===Pt&&(Dt=Pt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ko||(Ko=!0,gg(Ca,function(){return Wi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ke.transition,ke.transition=null;var o=ct;ct=1;var a=et;et|=4,nf.current=null,g1(e,n),lg(n,e),VS(Ac),ka=!!Rc,Ac=Rc=null,e.current=n,v1(n),Gw(),et=a,ct=o,ke.transition=s}else e.current=n;if(Ko&&(Ko=!1,cr=e,Za=i),s=e.pendingLanes,s===0&&(gr=null),Jw(n.stateNode),me(e,Ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xa)throw Xa=!1,e=Gc,Gc=null,e;return Za&1&&e.tag!==0&&Wi(),s=e.pendingLanes,s&1?e===Qc?Gs++:(Gs=0,Qc=e):Gs=0,Lr(),null}function Wi(){if(cr!==null){var e=Gy(Za),t=ke.transition,n=ct;try{if(ke.transition=null,ct=16>e?16:e,cr===null)var r=!1;else{if(e=cr,cr=null,Za=0,et&6)throw Error(E(331));var i=et;for(et|=4,A=e.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:qs(8,c,s)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var p=c.sibling,g=c.return;if(sg(c),c===u){A=null;break}if(p!==null){p.return=g,A=p;break}A=g}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var O=_.sibling;_.sibling=null,_=O}while(_!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else t:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,A=m;break t}A=s.return}}var f=e.current;for(A=f;A!==null;){o=A;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,A=y;else t:for(o=f;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ql(9,a)}}catch(S){Nt(a,a.return,S)}if(a===o){A=null;break t}var w=a.sibling;if(w!==null){w.return=a.return,A=w;break t}A=a.return}}if(et=i,Lr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(jl,e)}catch{}r=!0}return r}finally{ct=n,ke.transition=t}}return!1}function mp(e,t,n){t=es(n,t),t=Gm(e,t,1),e=mr(e,t,1),t=ne(),e!==null&&(To(e,1,t),me(e,t))}function Nt(e,t,n){if(e.tag===3)mp(e,e,n);else for(;t!==null;){if(t.tag===3){mp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){e=es(n,e),e=Qm(t,e,1),t=mr(t,e,1),e=ne(),t!==null&&(To(t,1,e),me(t,e));break}}t=t.return}}function b1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ne(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&($t&n)===n&&(Mt===4||Mt===3&&($t&130023424)===$t&&500>Ot()-sf?qr(e,0):rf|=n),me(e,t)}function yg(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var n=ne();e=$n(e,t),e!==null&&(To(e,t,n),me(e,n))}function T1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yg(e,n)}function N1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),yg(e,n)}var mg;mg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pe.current)he=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return he=!1,h1(e,t,n);he=!!(e.flags&131072)}else he=!1,_t&&t.flags&1048576&&wm(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;da(e,t),e=t.pendingProps;var i=Ji(t,Jt.current);Vi(t,n),i=Jd(null,t,r,e,i,n);var s=Xd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ye(r)?(s=!0,$a(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qd(t),i.updater=Gl,t.stateNode=i,i._reactInternals=t,kc(t,r,e,n),t=zc(null,t,r,!0,s,n)):(t.tag=0,_t&&s&&Pd(t),Zt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;t:{switch(da(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=A1(r),e=Ye(r,e),i){case 0:t=Pc(null,t,r,e,n);break t;case 1:t=op(null,t,r,e,n);break t;case 11:t=ip(null,t,r,e,n);break t;case 14:t=sp(null,t,r,Ye(r.type,e),n);break t}throw Error(E(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ye(r,i),Pc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ye(r,i),op(e,t,r,i,n);case 3:t:{if(Zm(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Nm(e,t),Ya(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=es(Error(E(423)),t),t=ap(e,t,r,n,i);break t}else if(r!==i){i=es(Error(E(424)),t),t=ap(e,t,r,n,i);break t}else for(Ie=yr(t.stateNode.containerInfo.firstChild),Ee=t,_t=!0,Ke=null,n=bm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===i){t=Vn(e,t,n);break t}Zt(e,t,r,n)}t=t.child}return t;case 5:return Rm(t),e===null&&Bc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Oc(r,i)?o=null:s!==null&&Oc(r,s)&&(t.flags|=32),Xm(e,t),Zt(e,t,o,n),t.child;case 6:return e===null&&Bc(t),null;case 13:return tg(e,t,n);case 4:return Yd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zi(t,null,r,n):Zt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ye(r,i),ip(e,t,r,i,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ht(Ha,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!pe.current){t=Vn(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vi(t,n),i=ze(i),r=r(i),t.flags|=1,Zt(e,t,r,n),t.child;case 14:return r=t.type,i=Ye(r,t.pendingProps),i=Ye(r.type,i),sp(e,t,r,i,n);case 15:return Km(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ye(r,i),da(e,t),t.tag=1,ye(r)?(e=!0,$a(t)):e=!1,Vi(t,n),Ym(t,r,i),kc(t,r,i,n),zc(null,t,r,!0,e,n);case 19:return eg(e,t,n);case 22:return Jm(e,t,n)}throw Error(E(156,t.tag))};function gg(e,t){return Wy(e,t)}function R1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,n,r){return new R1(e,t,n,r)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A1(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rd)return 11;if(e===Ad)return 14}return 2}function _r(e,t){var n=e.alternate;return n===null?(n=Me(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")uf(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Ti:return Yr(n.children,i,s,t);case Nd:o=8,i|=8;break;case ac:return e=Me(12,n,t,i|2),e.elementType=ac,e.lanes=s,e;case lc:return e=Me(13,n,t,i),e.elementType=lc,e.lanes=s,e;case uc:return e=Me(19,n,t,i),e.elementType=uc,e.lanes=s,e;case Ry:return Jl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ty:o=10;break t;case Ny:o=9;break t;case Rd:o=11;break t;case Ad:o=14;break t;case er:o=16,r=null;break t}throw Error(E(130,e==null?e:typeof e,""))}return t=Me(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Yr(e,t,n,r){return e=Me(7,e,r,t),e.lanes=n,e}function Jl(e,t,n,r){return e=Me(22,e,r,t),e.elementType=Ry,e.lanes=n,e.stateNode={isHidden:!1},e}function Vu(e,t,n){return e=Me(6,e,null,t),e.lanes=n,e}function Wu(e,t,n){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cf(e,t,n,r,i,s,o,a,l){return e=new O1(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Me(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(s),e}function F1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vg(e){if(!e)return Ir;e=e._reactInternals;t:{if(oi(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(ye(n))return vm(e,n,t)}return t}function _g(e,t,n,r,i,s,o,a,l){return e=cf(n,r,!0,e,i,s,o,a,l),e.context=vg(null),n=e.current,r=ne(),i=vr(n),s=Pn(r,i),s.callback=t??null,mr(n,s,i),e.current.lanes=i,To(e,i,r),me(e,r),e}function Xl(e,t,n,r){var i=t.current,s=ne(),o=vr(i);return n=vg(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mr(i,t,o),e!==null&&(Xe(e,i,o,s),la(e,i,o)),o}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function D1(){return null}var wg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ff(e){this._internalRoot=e}Zl.prototype.render=ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Xl(e,t,null,null)};Zl.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){Xl(null,e,null,null)}),t[jn]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<or.length&&t!==0&&t<or[n].priority;n++);or.splice(n,0,e),n===0&&Zy(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vp(){}function x1(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=el(o);s.call(u)}}var o=_g(t,r,e,0,null,!1,!1,"",vp);return e._reactRootContainer=o,e[jn]=o.current,io(e.nodeType===8?e.parentNode:e),ti(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=el(l);a.call(u)}}var l=cf(e,0,!1,null,null,!1,!1,"",vp);return e._reactRootContainer=l,e[jn]=l.current,io(e.nodeType===8?e.parentNode:e),ti(function(){Xl(t,l,n,r)}),l}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=el(o);a.call(l)}}Xl(t,o,e,i)}else o=x1(n,t,e,i,r);return el(o)}Qy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Dd(t,n|1),me(t,Ot()),!(et&6)&&(ns=Ot()+500,Lr()))}break;case 13:ti(function(){var r=$n(e,1);if(r!==null){var i=ne();Xe(r,e,1,i)}}),df(e,1)}};xd=function(e){if(e.tag===13){var t=$n(e,134217728);if(t!==null){var n=ne();Xe(t,e,134217728,n)}df(e,134217728)}};Ky=function(e){if(e.tag===13){var t=vr(e),n=$n(e,t);if(n!==null){var r=ne();Xe(n,e,t,r)}df(e,t)}};Jy=function(){return ct};Xy=function(e,t){var n=ct;try{return ct=e,t()}finally{ct=n}};_c=function(e,t,n){switch(t){case"input":if(fc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hl(r);if(!i)throw Error(E(90));Oy(r),fc(r,i)}}}break;case"textarea":Dy(e,n);break;case"select":t=n.value,t!=null&&Pi(e,!!n.multiple,t,!1)}};Uy=of;Py=ti;var L1={usingClientEntryPoint:!1,Events:[Ro,Oi,Hl,My,ky,of]},Ts={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$y(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{jl=Jo.inject(B1),wn=Jo}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1;Ne.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(E(200));return F1(e,t,null,n)};Ne.createRoot=function(e,t){if(!hf(e))throw Error(E(299));var n=!1,r="",i=wg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cf(e,1,!1,null,null,n,!1,r,i),e[jn]=t.current,io(e.nodeType===8?e.parentNode:e),new ff(t)};Ne.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=$y(t),e=e===null?null:e.stateNode,e};Ne.flushSync=function(e){return ti(e)};Ne.hydrate=function(e,t,n){if(!tu(t))throw Error(E(200));return eu(null,e,t,!0,n)};Ne.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_g(t,null,e,1,n??null,i,!1,s,o),e[jn]=t.current,io(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zl(t)};Ne.render=function(e,t,n){if(!tu(t))throw Error(E(200));return eu(null,e,t,!1,n)};Ne.unmountComponentAtNode=function(e){if(!tu(e))throw Error(E(40));return e._reactRootContainer?(ti(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};Ne.unstable_batchedUpdates=of;Ne.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tu(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return eu(e,t,n,!1,r)};Ne.version="18.3.1-next-f1338f8080-20240426";function Sg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sg)}catch(e){console.error(e)}}Sg(),Sy.exports=Ne;var C1=Sy.exports,_p=C1;sc.createRoot=_p.createRoot,sc.hydrateRoot=_p.hydrateRoot;const M1="modulepreload",k1=function(e){return"/any_table/"+e},wp={},Sp=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=k1(l),l in wp)return;wp[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":M1,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function U1(e){const t=e.toUpperCase();return/^(TINYINT|SMALLINT|INTEGER|INT|BIGINT|HUGEINT|UTINYINT|USMALLINT|UINTEGER|UBIGINT)$/.test(t)||/^(FLOAT|REAL|DOUBLE|DECIMAL|NUMERIC)/.test(t)?"numeric":/^(DATE|TIME|TIMESTAMP|TIMESTAMPTZ|TIMESTAMP WITH TIME ZONE|TIMESTAMP_S|TIMESTAMP_MS|TIMESTAMP_NS|INTERVAL)/.test(t)?"temporal":t==="BOOLEAN"||t==="BOOL"?"boolean":t==="BLOB"||t==="BYTEA"?"binary":t==="UUID"?"identifier":t.startsWith("ENUM")?"enum":/^(LIST|ARRAY)/.test(t)||/^(STRUCT|ROW)/.test(t)||/^(MAP)/.test(t)||/^(UNION)/.test(t)||t==="JSON"||t==="JSONB"?"complex":/^(GEOMETRY|GEOGRAPHY|POINT|LINESTRING|POLYGON)/.test(t)?"geo":/^(VARCHAR|TEXT|CHAR|STRING|NAME|BPCHAR)/.test(t)?"text":"unknown"}function P1(e){switch(e.sqlType.toUpperCase()){case"BIGINT":case"HUGEINT":case"UBIGINT":return{column:e.name,castTo:"TEXT"};case"INTERVAL":case"TIME":return{column:e.name,castTo:"TEXT"};case"JSON":case"JSONB":return{column:e.name,castTo:"TEXT"};default:return e.typeCategory==="complex"?{column:e.name,castTo:"TEXT"}:{column:e.name,castTo:null}}}function z1(e,t){if(e==null)return null;switch(t.typeCategory){case"numeric":{const n=t.sqlType.toUpperCase();return n==="BIGINT"||n==="HUGEINT"||n==="UBIGINT"?{display:String(e),sortValue:BigInt(e)}:e}case"temporal":{const n=t.sqlType.toUpperCase();return n==="DATE"?new Date(e):n.startsWith("TIMESTAMP")?new Date(e):e}case"complex":{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}default:return e}}function Hu(e,t,n,r){return typeof e=="number"?e:e==="auto"?-1:e.endsWith("px")?parseFloat(e):e.endsWith("%")?parseFloat(e)/100*t:e.endsWith("rem")?parseFloat(e)*n:e.endsWith("em")?parseFloat(e)*r:parseFloat(e)}var j1="1.25rem",$1=3,V1="0.5rem";function W1(e,t){const n=(e==null?void 0:e.lineHeight)??j1,r=(e==null?void 0:e.numLines)??$1,i=(e==null?void 0:e.padding)??V1,s=Ip(n,t),o=Ip(i,t);return r*s+o}function Ip(e,t){return e.endsWith("rem")?parseFloat(e)*t:e.endsWith("px")?parseFloat(e):e.endsWith("em")?parseFloat(e)*t:parseFloat(e)}var H1=class{constructor(){Jn(this,"rows",new Map);Jn(this,"_totalRows",0)}get totalRows(){return this._totalRows}setTotalRows(e){this._totalRows=e}getTotalRows(){return this._totalRows}mergeRows(e,t){for(let n=0;n<t.length;n++)this.rows.set(e+n,t[n])}getRow(e){return this.rows.get(e)??null}hasRow(e){return this.rows.has(e)}evict(e,t){for(const n of this.rows.keys())(n<e||n>t)&&this.rows.delete(n)}clear(){this.rows.clear()}get size(){return this.rows.size}},q1=3.75;function Y1(e){const{columns:t,containerWidth:n,rootFontSize:r,tableFontSize:i,rowHeightConfig:s}=e,o=q1*r,a=W1(s,r),l=t.map(f=>{const y=f.minWidth?Hu(f.minWidth,n,r,i):o,w=f.maxWidth?Hu(f.maxWidth,n,r,i):1/0;let S=null;return f.width!=null&&(S=Hu(f.width,n,r,i),S===-1&&(S=null)),{key:f.key,flex:f.flex??(S==null?1:0),fixedPx:S,minPx:y,maxPx:w}}),u=l.filter(f=>f.fixedPx!=null&&f.flex===0),c=l.filter(f=>f.fixedPx==null||f.flex>0);let d=0;const p=new Map;for(const f of u){const y=Math.max(f.minPx,Math.min(f.maxPx,f.fixedPx));p.set(f.key,y),d+=y}let g=Math.max(0,n-d),v=[...c];for(let f=0;f<3&&v.length>0;f++){const y=v.reduce((b,N)=>b+N.flex,0);if(y===0)break;const w=[],S=[];let T=0;for(const b of v){const N=b.flex/y*g,x=Math.max(b.minPx,Math.min(b.maxPx,N));x!==N?(p.set(b.key,x),T+=x,w.push(b)):S.push(b)}if(w.length===0){for(const b of v)p.set(b.key,b.flex/y*g);break}if(g-=T,v=S,f===2||S.length===0){const b=S.reduce((N,x)=>N+x.flex,0);for(const N of S){const x=b>0?N.flex/b*g:g/S.length;p.set(N.key,Math.max(N.minPx,x))}}}let _=0;const O=t.map(f=>{const y=p.get(f.key)??o,w={key:f.key,width:Math.round(y),offset:Math.round(_),region:"center"};return _+=y,w}),m=Math.round(_);return{resolved:O,totalWidth:m,pinnedLeftWidth:0,pinnedRightWidth:0,scrollableWidth:m,rowHeight:Math.round(a)}}var Ig=5,G1=3,Q1=.3;function Eg(e){const{scrollTop:t,viewportHeight:n,rowHeight:r,totalRows:i}=e;if(r<=0||i<=0)return{start:0,end:0};const s=Math.max(0,Math.floor(t/r)),o=Math.max(n,r),a=Math.min(i,Math.max(s+1,Math.ceil((t+o)/r)));return{start:s,end:a}}function K1(e,t=Ig){const n=Eg(e);return{start:Math.max(0,n.start-t),end:Math.min(e.totalRows,n.end+t)}}function J1(e,t,n=Ig){const r=K1(e,n),s=(Math.ceil(e.viewportHeight/e.rowHeight)||1)*G1;if(!t)return{offset:Math.max(0,r.start-Math.floor(s/4)),limit:s};const o=t.offset+t.limit,a=Math.ceil(s*Q1),l=r.start-t.offset<a,u=o-r.end<a;if(!l&&!u)return null;const c=Math.floor((r.start+r.end)/2);return{offset:Math.max(0,c-Math.floor(s/2)),limit:s}}function bg(e,t){return e*t}async function X1(e,t,n){return(await n(e,[{table:t,column:"*"}])).map(i=>({name:i.column,sqlType:i.sqlType,typeCategory:U1(i.sqlType)}))}function Z1(e,t,n,r,i){const s=new e(i);return s.query=o=>t.from(r.tableName).select({count:n()}).where(o),s.queryResult=o=>{const l=o.toArray()[0],u=Number((l==null?void 0:l.count)??0);return r.onResult(u),s},s}function tI(e){return e==null?null:Array.isArray(e)?e:[e]}function eI(e,t,n,r){const{Query:i,column:s,cast:o,row_number:a,desc:l}=t,u=new Map;for(const v of n.columns)u.set(v.name,v);let c=null,d=0,p=100;const g=new e(r);return Object.defineProperty(g,"sort",{get:()=>c,set:v=>{c=v},enumerable:!0,configurable:!0}),g.query=v=>{const _={};for(const y of n.columns){const w=P1(y);w.castTo?_[y.name]=o(s(y.name),w.castTo):_[y.name]=s(y.name)}const O=tI(c);let m=a();if(O&&O.length>0){const y=O.map(w=>w.desc?l(s(w.column)):s(w.column));m=a().orderby(...y)}_.__oid=m;let f=i.from(n.tableName).select(_).where(v);return O&&O.length>0&&(f=f.orderby(...O.map(y=>y.desc?l(s(y.column)):s(y.column)))),f.limit(p).offset(d)},g.queryResult=v=>{var y;const _=v.toArray(),O=[];for(const w of _){const S={},T=w;for(const b of n.columns)S[b.name]=z1(T[b.name],b);S.__oid=Number(T.__oid),O.push(S)}const m=Number((y=O[0])==null?void 0:y.__oid),f=Number.isFinite(m)&&m>0?m-1:d;return n.onResult(O,f),g},g.fetchWindow=(v,_)=>{d=v,p=_},g}var Tg=F.createContext({coordinator:null});function nI(){return F.useContext(Tg).coordinator}function rI({coordinator:e,children:t}){const n=e??null;return U.jsx(Tg.Provider,{value:{coordinator:n},children:t})}var Ng=F.createContext(null);function iI(){const e=F.useContext(Ng);if(!e)throw new Error("useDataContext must be used within Table.Root");return e}var Rg=F.createContext(null);function nu(){const e=F.useContext(Rg);if(!e)throw new Error("useLayoutContext must be used within Table.Root");return e}var Ag=F.createContext(null);function sI(){return F.useContext(Ag)}var Og=F.createContext(null);function Fg(){return F.useContext(Og)}function oI(e){const[t,n]=F.useState({width:0,height:0,rootFontSize:16,tableFontSize:16});return F.useEffect(()=>{const r=e.current;if(!r)return;const i=()=>{const o=r.getBoundingClientRect(),a=parseFloat(getComputedStyle(document.documentElement).fontSize),l=parseFloat(getComputedStyle(r).fontSize);n(u=>u.width===o.width&&u.height===o.height&&u.rootFontSize===a&&u.tableFontSize===l?u:{width:o.width,height:o.height,rootFontSize:a,tableFontSize:l})};i();const s=new ResizeObserver(i);return s.observe(r),()=>s.disconnect()},[e]),t}function aI(e){const{table:t,rows:n,filter:r}=e,i=nI(),s=e.columns.join(","),o=F.useMemo(()=>e.columns,[s]),[a,l]=F.useState(0),[u,c]=F.useState([]),[d,p]=F.useState(!0),[g,v]=F.useState(null),_=F.useRef(new H1),O=F.useRef(null),m=F.useRef(null),f=F.useRef(!1),y=n!=null;F.useEffect(()=>{if(!y)return;const x=o.map(ot=>({name:ot,sqlType:"VARCHAR",typeCategory:"text"}));c(x);const L=_.current;L.clear(),L.setTotalRows(n.length),L.mergeRows(0,n),p(!1),l(ot=>ot+1)},[y,n,o]),F.useEffect(()=>{if(y||!t||!i)return;let x=!1;f.current=!1,p(!0);async function L(){try{const[ot,He]=await Promise.all([Sp(()=>import("./index-BoHW-ZOX.js"),__vite__mapDeps([0,1])),Sp(()=>import("./index-C227tWIQ.js"),__vite__mapDeps([2,1]))]);if(x)return;const{MosaicClient:rn,queryFieldInfo:li}=ot,{Query:An,column:sn,cast:on,row_number:R,desc:q,count:G}=He,gt=await X1(i,t,li);if(x)return;const At=o.length>0?gt.filter(le=>o.includes(le.name)):gt;c(At);const Qn=_.current;Qn.clear();const an=Z1(rn,An,G,{tableName:t,onResult:le=>{Qn.setTotalRows(le),l(Kn=>Kn+1)}},r);m.current=an;const ui=eI(rn,{Query:An,column:sn,cast:on,row_number:R,desc:q},{tableName:t,columns:At,onResult:(le,Kn)=>{var ch;const vu=Number((ch=le[0])==null?void 0:ch.__oid),iw=Number.isFinite(vu)&&vu>0?vu-1:Math.max(0,Kn);Qn.mergeRows(iw,le),p(!1),l(sw=>sw+1)}},r);O.current=ui,await i.connect(an),await i.connect(ui),x||(f.current=!0)}catch(ot){x||(console.error("[any_table] Failed to initialize data:",ot),p(!1))}}return L(),()=>{x=!0,f.current=!1,O.current&&i&&i.disconnect(O.current),m.current&&i&&i.disconnect(m.current)}},[y,t,i,r,o]);const w=F.useCallback(x=>{if(v(x),y){if(!n)return;const L=_.current;L.clear();let ot=[...n];if(x){const He=Array.isArray(x)?x:[x];ot.sort((rn,li)=>{for(const An of He){const sn=rn[An.column],on=li[An.column];if(sn!=null&&on!=null&&sn<on)return An.desc?1:-1;if(sn!=null&&on!=null&&sn>on)return An.desc?-1:1}return 0})}L.setTotalRows(ot.length),L.mergeRows(0,ot),l(He=>He+1)}else{const L=O.current;L&&f.current&&(L.sort=x,p(!0),_.current.clear(),l(ot=>ot+1),L.requestUpdate())}},[y,n]),S=F.useCallback((x,L)=>{const ot=O.current;ot&&f.current&&(ot.fetchWindow(x,L),ot.requestUpdate())},[]),T=_.current,b=F.useCallback(x=>T.getRow(x),[T]),N=F.useCallback(x=>T.hasRow(x),[T]);return F.useMemo(()=>({getRow:b,hasRow:N,totalRows:T.totalRows,schema:u,isLoading:d,setWindow:S,sort:g,setSort:w}),[b,N,a,u,d,S,g,w])}function lI(e){const{columns:t,containerRef:n,rowHeightConfig:r}=e,{width:i,height:s,rootFontSize:o,tableFontSize:a}=oI(n);return F.useMemo(()=>{if(i===0)return{resolved:[],totalWidth:0,viewportHeight:0,pinnedLeftWidth:0,pinnedRightWidth:0,scrollableWidth:0,rowHeight:0,getWidth:()=>0,getOffset:()=>0};const l=Y1({columns:t,containerWidth:i,rootFontSize:o,tableFontSize:a,rowHeightConfig:r}),u=new Map,c=new Map;for(const d of l.resolved)u.set(d.key,d.width),c.set(d.key,d.offset);return{...l,viewportHeight:s,getWidth:d=>u.get(d)??0,getOffset:d=>c.get(d)??0}},[t,i,s,o,a,r])}function uI(e){const{data:t,layout:n,overscan:r=10,containerRef:i}=e,{totalRows:s,setWindow:o}=t,{rowHeight:a}=n,l=F.useRef(null),u=F.useRef(null),c=F.useRef(()=>{}),[d,p]=F.useState({start:0,end:0}),[g,v]=F.useState(0),_=bg(s,a),O=F.useCallback(()=>{var S;return Math.max(1,((S=i.current)==null?void 0:S.clientHeight)??0)},[i]),m=F.useCallback(()=>{l.current=null;const S=i.current;if(!S||a<=0)return;const T=Math.max(0,S.scrollTop),b={scrollTop:T,viewportHeight:O(),rowHeight:a,totalRows:s},N=Eg(b);p(L=>L.start===N.start&&L.end===N.end?L:N),v(T);const x=J1(b,u.current,r);x&&(u.current=x,o(x.offset,x.limit))},[i,a,s,r,o,O]),f=F.useCallback(()=>{l.current==null&&(l.current=requestAnimationFrame(m))},[m]);c.current=f,F.useEffect(()=>{const S=i.current;if(!S)return;const T=S.style.overflow;S.style.overflow="auto";const b=()=>c.current();S.addEventListener("scroll",b,{passive:!0}),b();const N=requestAnimationFrame(b);return()=>{cancelAnimationFrame(N),S.removeEventListener("scroll",b),S.style.overflow=T}},[i]),F.useEffect(()=>{if(a>0){f();const S=requestAnimationFrame(f);return()=>cancelAnimationFrame(S)}},[a,s,f]),F.useEffect(()=>{const S=i.current;if(!S)return;const T=Math.max(0,_-S.clientHeight);S.scrollTop>T&&(S.scrollTop=T),f()},[i,_,f]),F.useEffect(()=>()=>{l.current!=null&&(cancelAnimationFrame(l.current),l.current=null)},[]);const y=F.useCallback(S=>{const T=i.current;if(!T)return;const b=Math.max(0,_-T.clientHeight),N=S*a;T.scrollTop=Math.max(0,Math.min(b,N)),f()},[i,a,_,f]),w=F.useCallback(()=>{const S=i.current;S&&(S.scrollTop=0,f())},[i,f]);return{scrollTop:g,visibleRowRange:d,scrollToRow:y,scrollToTop:w}}function cI(e){const{table:t,rows:n,columns:r,filter:i,containerRef:s,scroll:o,rowHeightConfig:a,onSortChange:l}=e,u=F.useMemo(()=>r.map(O=>O.key),[r]),c=aI({table:t,rows:n,columns:u,filter:i}),d=c.setSort;l&&(c.setSort=O=>{d(O),l(O)});const p=lI({columns:r,containerRef:s,rowHeightConfig:a}),g=typeof o=="object"&&o!==null?o.overscan:void 0,v=uI({data:c,layout:p,overscan:g,containerRef:s});return{rootProps:{data:c,layout:p,scroll:v,pagination:null,selection:null,pinning:null,expansion:null,grouping:null,columns:r},data:c,layout:p,scroll:v,pagination:null,selection:null,pinning:null,columnOrder:null,resize:null,expansion:null,grouping:null}}function dI({data:e,layout:t,scroll:n,columns:r,children:i,className:s,style:o}){const a={sort:e.sort,setSort:e.setSort};return U.jsx(Ng.Provider,{value:e,children:U.jsx(Rg.Provider,{value:t,children:U.jsx(Ag.Provider,{value:n??null,children:U.jsx(Og.Provider,{value:a,children:U.jsx("div",{role:"grid","aria-rowcount":e.totalRows,"aria-colcount":r.length,className:s,style:{position:"relative",display:"flex",flexDirection:"column",...o},children:i})})})})})}function fI({children:e,className:t,style:n}){const r=nu();return U.jsx("div",{role:"rowgroup",className:t,style:{position:"sticky",top:0,zIndex:2,overflow:"hidden",width:r.totalWidth,...n},children:U.jsx("div",{role:"row",style:{display:"flex",position:"relative",width:r.totalWidth},children:e({columns:r.resolved})})})}function hI(e,t){if(!e)return"none";const r=(Array.isArray(e)?e:[e]).find(i=>i.column===t);return r?r.desc?"descending":"ascending":"none"}function pI({column:e,children:t,className:n,style:r}){const i=nu(),s=i.getWidth(e),o=i.getOffset(e),a=Fg(),l=a?hI(a.sort,e):"none";return U.jsx("div",{role:"columnheader","aria-sort":l,className:n,style:{position:"absolute",left:o,width:s,height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",...r},children:t})}function yI({children:e,className:t,style:n}){const r=iI(),i=nu(),s=sI(),{rowHeight:o}=i,{totalRows:a}=r,l=bg(a,o),u=[];if(s&&o>0){const{start:c,end:d}=s.visibleRowRange,p=Math.max(0,c-5),g=Math.min(a,d+5);for(let v=p;v<g;v++)u.push({key:v,index:v,data:r.getRow(v),top:v*o})}else if(!s){const c=Math.min(a,100);for(let d=0;d<c;d++)u.push({key:d,index:d,data:r.getRow(d),top:d*o})}return U.jsx("div",{role:"rowgroup",className:t,style:{position:"relative",...s?{height:l,width:i.totalWidth>0?i.totalWidth:"100%",flex:"0 0 auto"}:{flex:1,overflow:"hidden"},...n},children:e({rows:u})})}function mI({row:e,children:t,className:n,style:r}){const i=nu(),s=i.resolved.map(o=>{var a;return{column:o.key,value:((a=e.data)==null?void 0:a[o.key])??null,width:o.width,offset:o.offset}});return U.jsx("div",{role:"row","aria-rowindex":e.index+1,className:n,style:{position:"absolute",top:0,left:0,width:i.totalWidth,height:i.rowHeight,display:"flex",overflow:"hidden",transform:`translate3d(0, ${e.top}px, 0)`,...r},children:t({cells:s})})}function gI({column:e,width:t,offset:n,children:r,className:i,style:s}){return U.jsx("div",{role:"gridcell",className:i,style:{position:"absolute",left:n,width:t,height:"100%",boxSizing:"border-box",overflow:"hidden",whiteSpace:"normal",wordBreak:"break-word",...s},children:r})}function vI(e,t){if(!e)return null;const r=(Array.isArray(e)?e:[e]).find(i=>i.column===t);return r?r.desc?"desc":"asc":null}function _I({column:e,children:t,className:n,style:r}){const i=Fg(),s=i?vI(i.sort,e):null,o=F.useCallback(()=>{i&&(s===null?i.setSort({column:e,desc:!1}):s==="asc"?i.setSort({column:e,desc:!0}):i.setSort(null))},[i,e,s]),a=s==="asc"?" ":s==="desc"?" ":"";return U.jsxs("button",{type:"button",onClick:o,className:n,"aria-label":`Sort by ${e}`,style:{background:"none",border:"none",cursor:"pointer",padding:"0 4px",fontSize:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center",...r},children:[t,a]})}var Cr={Root:dI,Header:fI,HeaderCell:pI,Viewport:yI,Row:mI,Cell:gI,SortTrigger:_I};function H(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Ep(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(e){return this instanceof Y?(this.v=e,this):new Y(e)}function gn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,d)}}function a(g,v){r[g]&&(i[g]=function(_){return new Promise(function(O,m){s.push([g,_,O,m])>1||l(g,_)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(_){p(s[0][3],_)}}function u(g){g.value instanceof Y?Promise.resolve(g.value.v).then(c,d):p(s[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function p(g,v){g(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ya(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Y(e[i](o)),done:!1}:s?s(o):o}:s}}function Gr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ep=="function"?Ep(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const wI=new TextDecoder("utf-8"),Xc=e=>wI.decode(e),SI=new TextEncoder,pf=e=>SI.encode(e),II=e=>typeof e=="number",Dg=e=>typeof e=="boolean",Bt=e=>typeof e=="function",ge=e=>e!=null&&Object(e)===e,ei=e=>ge(e)&&Bt(e.then),Oo=e=>ge(e)&&Bt(e[Symbol.iterator]),hs=e=>ge(e)&&Bt(e[Symbol.asyncIterator]),Zc=e=>ge(e)&&ge(e.schema),xg=e=>ge(e)&&"done"in e&&"value"in e,Lg=e=>ge(e)&&Bt(e.stat)&&II(e.fd),Bg=e=>ge(e)&&yf(e.body),ru=e=>"_getDOMStream"in e&&"_getNodeStream"in e,EI=e=>ge(e)&&Bt(e.abort)&&Bt(e.getWriter)&&!ru(e),yf=e=>ge(e)&&Bt(e.cancel)&&Bt(e.getReader)&&!ru(e),bI=e=>ge(e)&&Bt(e.end)&&Bt(e.write)&&Dg(e.writable)&&!ru(e),Cg=e=>ge(e)&&Bt(e.read)&&Bt(e.pipe)&&Dg(e.readable)&&!ru(e),TI=e=>ge(e)&&Bt(e.clear)&&Bt(e.bytes)&&Bt(e.position)&&Bt(e.setPosition)&&Bt(e.capacity)&&Bt(e.getBufferIdentifier)&&Bt(e.createLong),mf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function NI(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=e.length;++l<c;){if(o=t[u],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function bp(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function In(e,t){const n=NI(e),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?bp(o,s,a):o=s;break}bp(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function ut(e,t){let n=xg(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=pf(n)),n instanceof ArrayBuffer?new e(n):n instanceof mf?new e(n):TI(n)?ut(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const Ns=e=>ut(Int32Array,e),Tp=e=>ut(BigInt64Array,e),X=e=>ut(Uint8Array,e),td=e=>(e.next(),e);function*RI(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof mf?n(t):Oo(t)?t:n(t);return yield*td(function*(i){let s=null;do s=i.next(yield ut(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const AI=e=>RI(Uint8Array,e);function Mg(e,t){return gn(this,arguments,function*(){if(ei(t))return yield Y(yield Y(yield*ya(Gr(Mg(e,yield Y(t))))));const r=function(o){return gn(this,arguments,function*(){yield yield Y(yield Y(o))})},i=function(o){return gn(this,arguments,function*(){yield Y(yield*ya(Gr(td(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof mf?r(t):Oo(t)?i(t):hs(t)?t:r(t);return yield Y(yield*ya(Gr(td(function(o){return gn(this,arguments,function*(){let a=null;do a=yield Y(o.next(yield yield Y(ut(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Y(new e)})}const OI=e=>Mg(Uint8Array,e);function kg(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function FI(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Oe={fromIterable(e){return Xo(DI(e))},fromAsyncIterable(e){return Xo(xI(e))},fromDOMStream(e){return Xo(LI(e))},fromNodeStream(e){return Xo(CI(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Xo=e=>(e.next(),e);function*DI(e){let t,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?In(r,o)[0]:([i,r,a]=In(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=AI(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function xI(e){return gn(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?In(i,a)[0]:([s,i,l]=In(i,a),s)}({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0});const c=OI(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.next()):yield Y(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield Y(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield Y(c.return(new Uint8Array(0))))}return yield Y(null)})}function LI(e){return gn(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?In(i,a)[0]:([s,i,l]=In(i,a),s)}({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0});const c=new BI(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Y(c.read()):yield Y(c.read(a-l)),!n&&s.byteLength>0&&(i.push(X(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Y(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield Y(c.cancel(d)))}finally{r===!1?yield Y(c.cancel()):e.locked&&c.releaseLock()}return yield Y(null)})}class BI{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return H(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return H(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=X(n)),n})}}const qu=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function CI(e){return gn(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?In(u,a)[0]:([c,u,l]=In(u,a),c)}if({cmd:o,size:a}=(yield yield Y(null))||{cmd:"read",size:0},e.isTTY)return yield yield Y(new Uint8Array(0)),yield Y(null);try{n[0]=qu(e,"end"),n[1]=qu(e,"error");do{if(n[2]=qu(e,"readable"),[r,s]=yield Y(Promise.race(n.map(g=>g[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=X(e.read(a-l)),c.byteLength<a-l&&(c=X(e.read()))):c=X(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Y(d()));while(a<l)}while(!i)}finally{yield Y(p(n,r==="error"?s:null))}return yield Y(null);function p(g,v){return c=u=null,new Promise((_,O)=>{for(const[m,f]of g)e.off(m,f);try{const m=e.destroy;m&&m.call(e,v),v=void 0}catch(m){v=m||v}finally{v!=null?O(v):_()}})}})}var Ft;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Ft||(Ft={}));var Xt;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Xt||(Xt={}));var Qt;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Qt||(Qt={}));var $e;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})($e||($e={}));var P;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(P||(P={}));var En;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(En||(En={}));const Yu=2,pn=4,Cn=4,st=4,rr=new Int32Array(2),Np=new Float32Array(rr.buffer),Rp=new Float64Array(rr.buffer),Zo=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var ed;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(ed||(ed={}));let rs=class Ug{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Ug(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return rr[0]=this.readInt32(t),Np[0]}readFloat64(t){return rr[Zo?0:1]=this.readInt32(t),rr[Zo?1:0]=this.readInt32(t+4),Rp[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){Np[0]=n,this.writeInt32(t,rr[0])}writeFloat64(t,n){Rp[0]=n,this.writeInt32(t,rr[Zo?0:1]),this.writeInt32(t+4,rr[Zo?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+pn+Cn)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Cn;n++)t+=String.fromCharCode(this.readInt8(this.position_+pn+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=pn;const i=this.bytes_.subarray(t,t+r);return n===ed.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+pn}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Cn)throw new Error("FlatBuffers: file identifier must be length "+Cn);for(let n=0;n<Cn;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+pn+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Pg=class zg{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=rs.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=zg.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=rs.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(pn,0),this.writeInt32(this.offset()-t+pn)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*Yu;this.addInt16(s);let o=0;const a=this.space;t:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=Yu;u<s;u+=Yu)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue t;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?st:0;if(n){const s=n;if(this.prep(this.minalign,pn+Cn+i),s.length!=Cn)throw new TypeError("FlatBuffers: file identifier must be length "+Cn);for(let o=Cn-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,pn+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(pn,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;return t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(t){return t==null?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};var nl;(function(e){e[e.BUFFER=0]="BUFFER"})(nl||(nl={}));var rl;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(rl||(rl={}));class ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+st),(n||new ir).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):rl.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):nl.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,rl.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,nl.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return ir.startBodyCompression(t),ir.addCodec(t,n),ir.addMethod(t,r),ir.endBodyCompression(t)}}class jg{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let $g=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},Dn=class nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+st),(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new $g).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new jg).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new ir).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},pi=class rd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new rd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+st),(n||new rd).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Dn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var is;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(is||(is={}));var il;(function(e){e[e.DenseArray=0]="DenseArray"})(il||(il={}));class Se{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Se).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+st),(n||new Se).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Se.startInt(t),Se.addBitWidth(t,n),Se.addIsSigned(t,r),Se.endInt(t)}}class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+st),(n||new Mn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Se).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):il.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,il.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Ct).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+st),(n||new Ct).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Ct.startKeyValue(t),Ct.addKey(t,n),Ct.addValue(t,r),Ct.endKeyValue(t)}}let Ap=class xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+st),(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return xs.startBinary(t),xs.endBinary(t)}},Op=class Ls{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+st),(n||new Ls).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Ls.startBool(t),Ls.endBool(t)}},ma=class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+st),(n||new yi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):$e.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,$e.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return yi.startDate(t),yi.addUnit(t,n),yi.endDate(t)}},mi=class tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+st),(n||new tr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return tr.startDecimal(t),tr.addPrecision(t,n),tr.addScale(t,r),tr.addBitWidth(t,i),tr.endDecimal(t)}},ga=class gi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new gi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+st),(n||new gi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,P.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return gi.startDuration(t),gi.addUnit(t,n),gi.endDuration(t)}},va=class vi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+st),(n||new vi).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return vi.startFixedSizeBinary(t),vi.addByteWidth(t,n),vi.endFixedSizeBinary(t)}},_a=class _i{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new _i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+st),(n||new _i).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return _i.startFixedSizeList(t),_i.addListSize(t,n),_i.endFixedSizeList(t)}};class yn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new yn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+st),(n||new yn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qt.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Qt.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return yn.startFloatingPoint(t),yn.addPrecision(t,n),yn.endFloatingPoint(t)}}class mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+st),(n||new mn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):En.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,En.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return mn.startInterval(t),mn.addUnit(t,n),mn.endInterval(t)}}let Fp=class Bs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeBinary(t,n){return(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(t,n){return t.setPosition(t.position()+st),(n||new Bs).__init(t.readInt32(t.position())+t.position(),t)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return Bs.startLargeBinary(t),Bs.endLargeBinary(t)}},Dp=class Cs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsLargeUtf8(t,n){return(n||new Cs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(t,n){return t.setPosition(t.position()+st),(n||new Cs).__init(t.readInt32(t.position())+t.position(),t)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return Cs.startLargeUtf8(t),Cs.endLargeUtf8(t)}},xp=class Ms{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+st),(n||new Ms).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Ms.startList(t),Ms.endList(t)}},wa=class wi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+st),(n||new wi).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return wi.startMap(t),wi.addKeysSorted(t,n),wi.endMap(t)}},Lp=class ks{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+st),(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ks.startNull(t),ks.endNull(t)}};class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+st),(n||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Vr.startStruct_(t),Vr.endStruct_(t)}}class Le{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+st),(n||new Le).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,P.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Le.startTime(t),Le.addUnit(t,n),Le.addBitWidth(t,r),Le.endTime(t)}}class Be{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Be).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+st),(n||new Be).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,P.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Be.startTimestamp(t),Be.addUnit(t,n),Be.addTimezone(t,r),Be.endTimestamp(t)}}class de{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new de).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+st),(n||new de).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Xt.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Xt.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return de.startUnion(t),de.addMode(t,n),de.addTypeIds(t,r),de.endUnion(t)}}let Bp=class Us{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+st),(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Us.startUtf8(t),Us.endUtf8(t)}};var ft;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(ft||(ft={}));let Ae=class Sa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Sa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+st),(n||new Sa).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):ft.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Mn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Sa).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,ft.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},dn=class On{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new On).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+st),(n||new On).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):is.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ae).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,is.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return On.startSchema(t),On.addEndianness(t,n),On.addFields(t,r),On.addCustomMetadata(t,i),On.addFeatures(t,s),On.endSchema(t)}};var nt;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(nt||(nt={}));var h;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(h||(h={}));var xn;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(xn||(xn={}));const MI=void 0;function po(e){if(e===null)return"null";if(e===MI)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>po(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}function dt(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}function Vg(e,t){return dt(e/t)+dt(e%t)/dt(t)}const kI=Symbol.for("isArrowBigNum");function nn(e,...t){return t.length===0?Object.setPrototypeOf(ut(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}nn.prototype[kI]=!0;nn.prototype.toJSON=function(){return`"${mo(this)}"`};nn.prototype.valueOf=function(e){return Wg(this,e)};nn.prototype.toString=function(){return mo(this)};nn.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Wg(this);case"string":return mo(this);case"default":return zI(this)}return mo(this)};function Hi(...e){return nn.apply(this,e)}function qi(...e){return nn.apply(this,e)}function yo(...e){return nn.apply(this,e)}Object.setPrototypeOf(Hi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(qi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(yo.prototype,Object.create(Uint32Array.prototype));Object.assign(Hi.prototype,nn.prototype,{constructor:Hi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(qi.prototype,nn.prototype,{constructor:qi,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(yo.prototype,nn.prototype,{constructor:yo,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const UI=BigInt(4294967296)*BigInt(4294967296),PI=UI-BigInt(1);function Wg(e,t){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=e,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const c of o)l|=(c^PI)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const c of o)l|=c*(BigInt(1)<<BigInt(64*u++));if(typeof t=="number"){const c=BigInt(Math.pow(10,t)),d=l/c,p=l%c;return dt(d)+dt(p)/dt(c)}return dt(l)}function mo(e){if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return Gu(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return Gu(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${Gu(t)}`}function zI(e){return e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:mo(e)}function Gu(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class gf{static new(t,n){switch(n){case!0:return new Hi(t);case!1:return new qi(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Hi(t)}return t.byteLength===16?new yo(t):new qi(t)}static signed(t){return new Hi(t)}static unsigned(t){return new qi(t)}static decimal(t){return new yo(t)}constructor(t,n){return gf.new(t,n)}}var Hg,qg,Yg,Gg,Qg,Kg,Jg,Xg,Zg,tv,ev,nv,rv,iv,sv,ov,av,lv,uv,cv,dv,fv;class D{static isNull(t){return(t==null?void 0:t.typeId)===h.Null}static isInt(t){return(t==null?void 0:t.typeId)===h.Int}static isFloat(t){return(t==null?void 0:t.typeId)===h.Float}static isBinary(t){return(t==null?void 0:t.typeId)===h.Binary}static isLargeBinary(t){return(t==null?void 0:t.typeId)===h.LargeBinary}static isUtf8(t){return(t==null?void 0:t.typeId)===h.Utf8}static isLargeUtf8(t){return(t==null?void 0:t.typeId)===h.LargeUtf8}static isBool(t){return(t==null?void 0:t.typeId)===h.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===h.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===h.Date}static isTime(t){return(t==null?void 0:t.typeId)===h.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===h.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===h.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===h.Duration}static isList(t){return(t==null?void 0:t.typeId)===h.List}static isStruct(t){return(t==null?void 0:t.typeId)===h.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===h.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===h.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===h.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===h.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===h.Dictionary}static isDenseUnion(t){return D.isUnion(t)&&t.mode===Xt.Dense}static isSparseUnion(t){return D.isUnion(t)&&t.mode===Xt.Sparse}constructor(t){this.typeId=t}}Hg=Symbol.toStringTag;D[Hg]=(e=>(e.children=null,e.ArrayType=Array,e.OffsetArrayType=Int32Array,e[Symbol.toStringTag]="DataType"))(D.prototype);class Er extends D{constructor(){super(h.Null)}toString(){return"Null"}}qg=Symbol.toStringTag;Er[qg]=(e=>e[Symbol.toStringTag]="Null")(Er.prototype);class ni extends D{constructor(t,n){super(h.Int),this.isSigned=t,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Yg=Symbol.toStringTag;ni[Yg]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(ni.prototype);class go extends ni{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(go.prototype,"ArrayType",{value:Int32Array});class sl extends D{constructor(t){super(h.Float),this.precision=t}get ArrayType(){switch(this.precision){case Qt.HALF:return Uint16Array;case Qt.SINGLE:return Float32Array;case Qt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Gg=Symbol.toStringTag;sl[Gg]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(sl.prototype);class ol extends D{constructor(){super(h.Binary)}toString(){return"Binary"}}Qg=Symbol.toStringTag;ol[Qg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(ol.prototype);class al extends D{constructor(){super(h.LargeBinary)}toString(){return"LargeBinary"}}Kg=Symbol.toStringTag;al[Kg]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeBinary"))(al.prototype);class ll extends D{constructor(){super(h.Utf8)}toString(){return"Utf8"}}Jg=Symbol.toStringTag;ll[Jg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(ll.prototype);class ul extends D{constructor(){super(h.LargeUtf8)}toString(){return"LargeUtf8"}}Xg=Symbol.toStringTag;ul[Xg]=(e=>(e.ArrayType=Uint8Array,e.OffsetArrayType=BigInt64Array,e[Symbol.toStringTag]="LargeUtf8"))(ul.prototype);class cl extends D{constructor(){super(h.Bool)}toString(){return"Bool"}}Zg=Symbol.toStringTag;cl[Zg]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(cl.prototype);class dl extends D{constructor(t,n,r=128){super(h.Decimal),this.scale=t,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}tv=Symbol.toStringTag;dl[tv]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(dl.prototype);class fl extends D{constructor(t){super(h.Date),this.unit=t}toString(){return`Date${(this.unit+1)*32}<${$e[this.unit]}>`}get ArrayType(){return this.unit===$e.DAY?Int32Array:BigInt64Array}}ev=Symbol.toStringTag;fl[ev]=(e=>(e.unit=null,e[Symbol.toStringTag]="Date"))(fl.prototype);class hl extends D{constructor(t,n){super(h.Time),this.unit=t,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${P[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}nv=Symbol.toStringTag;hl[nv]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(hl.prototype);class pl extends D{constructor(t,n){super(h.Timestamp),this.unit=t,this.timezone=n}toString(){return`Timestamp<${P[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}rv=Symbol.toStringTag;pl[rv]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Timestamp"))(pl.prototype);class yl extends D{constructor(t){super(h.Interval),this.unit=t}toString(){return`Interval<${En[this.unit]}>`}}iv=Symbol.toStringTag;yl[iv]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(yl.prototype);class ml extends D{constructor(t){super(h.Duration),this.unit=t}toString(){return`Duration<${P[this.unit]}>`}}sv=Symbol.toStringTag;ml[sv]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(ml.prototype);class gl extends D{constructor(t){super(h.List),this.children=[t]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}ov=Symbol.toStringTag;gl[ov]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(gl.prototype);class te extends D{constructor(t){super(h.Struct),this.children=t}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}av=Symbol.toStringTag;te[av]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(te.prototype);class vl extends D{constructor(t,n,r){super(h.Union),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}lv=Symbol.toStringTag;vl[lv]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(vl.prototype);class _l extends D{constructor(t){super(h.FixedSizeBinary),this.byteWidth=t}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}uv=Symbol.toStringTag;_l[uv]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(_l.prototype);class wl extends D{constructor(t,n){super(h.FixedSizeList),this.listSize=t,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}cv=Symbol.toStringTag;wl[cv]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(wl.prototype);class Sl extends D{constructor(t,n=!1){var r,i,s;if(super(h.Map),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}dv=Symbol.toStringTag;Sl[dv]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Sl.prototype);const jI=(e=>()=>++e)(-1);class ss extends D{constructor(t,n,r,i){super(h.Dictionary),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?jI():dt(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}fv=Symbol.toStringTag;ss[fv]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(ss.prototype);function Ln(e){const t=e;switch(e.typeId){case h.Decimal:return e.bitWidth/32;case h.Interval:return 1+t.unit;case h.FixedSizeList:return t.listSize;case h.FixedSizeBinary:return t.byteWidth;default:return 1}}class Q{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return $I(this,t,n)}getVisitFnByTypeId(t,n=!0){return Si(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitLargeUtf8(t,...n){return null}visitBinary(t,...n){return null}visitLargeBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function $I(e,t,n=!0){return typeof t=="number"?Si(e,t,n):typeof t=="string"&&t in h?Si(e,h[t],n):t&&t instanceof D?Si(e,Cp(t),n):t!=null&&t.type&&t.type instanceof D?Si(e,Cp(t.type),n):Si(e,h.NONE,n)}function Si(e,t,n=!0){let r=null;switch(t){case h.Null:r=e.visitNull;break;case h.Bool:r=e.visitBool;break;case h.Int:r=e.visitInt;break;case h.Int8:r=e.visitInt8||e.visitInt;break;case h.Int16:r=e.visitInt16||e.visitInt;break;case h.Int32:r=e.visitInt32||e.visitInt;break;case h.Int64:r=e.visitInt64||e.visitInt;break;case h.Uint8:r=e.visitUint8||e.visitInt;break;case h.Uint16:r=e.visitUint16||e.visitInt;break;case h.Uint32:r=e.visitUint32||e.visitInt;break;case h.Uint64:r=e.visitUint64||e.visitInt;break;case h.Float:r=e.visitFloat;break;case h.Float16:r=e.visitFloat16||e.visitFloat;break;case h.Float32:r=e.visitFloat32||e.visitFloat;break;case h.Float64:r=e.visitFloat64||e.visitFloat;break;case h.Utf8:r=e.visitUtf8;break;case h.LargeUtf8:r=e.visitLargeUtf8;break;case h.Binary:r=e.visitBinary;break;case h.LargeBinary:r=e.visitLargeBinary;break;case h.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case h.Date:r=e.visitDate;break;case h.DateDay:r=e.visitDateDay||e.visitDate;break;case h.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case h.Timestamp:r=e.visitTimestamp;break;case h.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case h.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case h.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case h.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case h.Time:r=e.visitTime;break;case h.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case h.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case h.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case h.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case h.Decimal:r=e.visitDecimal;break;case h.List:r=e.visitList;break;case h.Struct:r=e.visitStruct;break;case h.Union:r=e.visitUnion;break;case h.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case h.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case h.Dictionary:r=e.visitDictionary;break;case h.Interval:r=e.visitInterval;break;case h.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case h.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case h.Duration:r=e.visitDuration;break;case h.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case h.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case h.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case h.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case h.FixedSizeList:r=e.visitFixedSizeList;break;case h.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${h[t]}'`)}function Cp(e){switch(e.typeId){case h.Null:return h.Null;case h.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?h.Int8:h.Uint8;case 16:return n?h.Int16:h.Uint16;case 32:return n?h.Int32:h.Uint32;case 64:return n?h.Int64:h.Uint64}return h.Int}case h.Float:switch(e.precision){case Qt.HALF:return h.Float16;case Qt.SINGLE:return h.Float32;case Qt.DOUBLE:return h.Float64}return h.Float;case h.Binary:return h.Binary;case h.LargeBinary:return h.LargeBinary;case h.Utf8:return h.Utf8;case h.LargeUtf8:return h.LargeUtf8;case h.Bool:return h.Bool;case h.Decimal:return h.Decimal;case h.Time:switch(e.unit){case P.SECOND:return h.TimeSecond;case P.MILLISECOND:return h.TimeMillisecond;case P.MICROSECOND:return h.TimeMicrosecond;case P.NANOSECOND:return h.TimeNanosecond}return h.Time;case h.Timestamp:switch(e.unit){case P.SECOND:return h.TimestampSecond;case P.MILLISECOND:return h.TimestampMillisecond;case P.MICROSECOND:return h.TimestampMicrosecond;case P.NANOSECOND:return h.TimestampNanosecond}return h.Timestamp;case h.Date:switch(e.unit){case $e.DAY:return h.DateDay;case $e.MILLISECOND:return h.DateMillisecond}return h.Date;case h.Interval:switch(e.unit){case En.DAY_TIME:return h.IntervalDayTime;case En.YEAR_MONTH:return h.IntervalYearMonth}return h.Interval;case h.Duration:switch(e.unit){case P.SECOND:return h.DurationSecond;case P.MILLISECOND:return h.DurationMillisecond;case P.MICROSECOND:return h.DurationMicrosecond;case P.NANOSECOND:return h.DurationNanosecond}return h.Duration;case h.Map:return h.Map;case h.List:return h.List;case h.Struct:return h.Struct;case h.Union:switch(e.mode){case Xt.Dense:return h.DenseUnion;case Xt.Sparse:return h.SparseUnion}return h.Union;case h.FixedSizeBinary:return h.FixedSizeBinary;case h.FixedSizeList:return h.FixedSizeList;case h.Dictionary:return h.Dictionary}throw new Error(`Unrecognized type '${h[e.typeId]}'`)}Q.prototype.visitInt8=null;Q.prototype.visitInt16=null;Q.prototype.visitInt32=null;Q.prototype.visitInt64=null;Q.prototype.visitUint8=null;Q.prototype.visitUint16=null;Q.prototype.visitUint32=null;Q.prototype.visitUint64=null;Q.prototype.visitFloat16=null;Q.prototype.visitFloat32=null;Q.prototype.visitFloat64=null;Q.prototype.visitDateDay=null;Q.prototype.visitDateMillisecond=null;Q.prototype.visitTimestampSecond=null;Q.prototype.visitTimestampMillisecond=null;Q.prototype.visitTimestampMicrosecond=null;Q.prototype.visitTimestampNanosecond=null;Q.prototype.visitTimeSecond=null;Q.prototype.visitTimeMillisecond=null;Q.prototype.visitTimeMicrosecond=null;Q.prototype.visitTimeNanosecond=null;Q.prototype.visitDenseUnion=null;Q.prototype.visitSparseUnion=null;Q.prototype.visitIntervalDayTime=null;Q.prototype.visitIntervalYearMonth=null;Q.prototype.visitDuration=null;Q.prototype.visitDurationSecond=null;Q.prototype.visitDurationMillisecond=null;Q.prototype.visitDurationMicrosecond=null;Q.prototype.visitDurationNanosecond=null;const hv=new Float64Array(1),di=new Uint32Array(hv.buffer);function pv(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function VI(e){if(e!==e)return 32256;hv[0]=e;const t=(di[1]&2147483648)>>16&65535;let n=di[1]&2146435072,r=0;return n>=1089470464?di[0]>0?n=31744:(n=(n&2080374784)>>16,r=(di[1]&1048575)>>10):n<=1056964608?(r=1048576+(di[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(di[1]&1048575)+512>>10),t|n|r&65535}class z extends Q{}function V(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const WI=(e,t,n)=>{e[t]=Math.floor(n/864e5)},yv=(e,t,n,r)=>{if(n+1<t.length){const i=dt(t[n]),s=dt(t[n+1]);e.set(r.subarray(0,s-i),i)}},HI=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Hn=({values:e},t,n)=>{e[t]=n},vf=({values:e},t,n)=>{e[t]=n},mv=({values:e},t,n)=>{e[t]=VI(n)},qI=(e,t,n)=>{switch(e.type.precision){case Qt.HALF:return mv(e,t,n);case Qt.SINGLE:case Qt.DOUBLE:return vf(e,t,n)}},gv=({values:e},t,n)=>{WI(e,t,n.valueOf())},vv=({values:e},t,n)=>{e[t]=BigInt(n)},YI=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},_v=({values:e,valueOffsets:t},n,r)=>yv(e,t,n,r),wv=({values:e,valueOffsets:t},n,r)=>yv(e,t,n,pf(r)),GI=(e,t,n)=>{e.type.unit===$e.DAY?gv(e,t,n):vv(e,t,n)},Sv=({values:e},t,n)=>{e[t]=BigInt(n/1e3)},Iv=({values:e},t,n)=>{e[t]=BigInt(n)},Ev=({values:e},t,n)=>{e[t]=BigInt(n*1e3)},bv=({values:e},t,n)=>{e[t]=BigInt(n*1e6)},QI=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return Sv(e,t,n);case P.MILLISECOND:return Iv(e,t,n);case P.MICROSECOND:return Ev(e,t,n);case P.NANOSECOND:return bv(e,t,n)}},Tv=({values:e},t,n)=>{e[t]=n},Nv=({values:e},t,n)=>{e[t]=n},Rv=({values:e},t,n)=>{e[t]=n},Av=({values:e},t,n)=>{e[t]=n},KI=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return Tv(e,t,n);case P.MILLISECOND:return Nv(e,t,n);case P.MICROSECOND:return Rv(e,t,n);case P.NANOSECOND:return Av(e,t,n)}},JI=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},XI=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=Ve.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n.get(++o))},ZI=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=Ve.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},tE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),eE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),nE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),rE=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),iE=(e,t,n)=>{const r=e.type.children.map(s=>Ve.getVisitFn(s.type)),i=n instanceof Map?nE(t,n):n instanceof rt?eE(t,n):Array.isArray(n)?tE(t,n):rE(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},sE=(e,t,n)=>{e.type.mode===Xt.Dense?Ov(e,t,n):Fv(e,t,n)},Ov=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Ve.visit(i,e.valueOffsets[t],n)},Fv=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Ve.visit(i,t,n)},oE=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},aE=(e,t,n)=>{e.type.unit===En.DAY_TIME?Dv(e,t,n):xv(e,t,n)},Dv=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},xv=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},Lv=({values:e},t,n)=>{e[t]=n},Bv=({values:e},t,n)=>{e[t]=n},Cv=({values:e},t,n)=>{e[t]=n},Mv=({values:e},t,n)=>{e[t]=n},lE=(e,t,n)=>{switch(e.type.unit){case P.SECOND:return Lv(e,t,n);case P.MILLISECOND:return Bv(e,t,n);case P.MICROSECOND:return Cv(e,t,n);case P.NANOSECOND:return Mv(e,t,n)}},uE=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=Ve.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};z.prototype.visitBool=V(HI);z.prototype.visitInt=V(Hn);z.prototype.visitInt8=V(Hn);z.prototype.visitInt16=V(Hn);z.prototype.visitInt32=V(Hn);z.prototype.visitInt64=V(Hn);z.prototype.visitUint8=V(Hn);z.prototype.visitUint16=V(Hn);z.prototype.visitUint32=V(Hn);z.prototype.visitUint64=V(Hn);z.prototype.visitFloat=V(qI);z.prototype.visitFloat16=V(mv);z.prototype.visitFloat32=V(vf);z.prototype.visitFloat64=V(vf);z.prototype.visitUtf8=V(wv);z.prototype.visitLargeUtf8=V(wv);z.prototype.visitBinary=V(_v);z.prototype.visitLargeBinary=V(_v);z.prototype.visitFixedSizeBinary=V(YI);z.prototype.visitDate=V(GI);z.prototype.visitDateDay=V(gv);z.prototype.visitDateMillisecond=V(vv);z.prototype.visitTimestamp=V(QI);z.prototype.visitTimestampSecond=V(Sv);z.prototype.visitTimestampMillisecond=V(Iv);z.prototype.visitTimestampMicrosecond=V(Ev);z.prototype.visitTimestampNanosecond=V(bv);z.prototype.visitTime=V(KI);z.prototype.visitTimeSecond=V(Tv);z.prototype.visitTimeMillisecond=V(Nv);z.prototype.visitTimeMicrosecond=V(Rv);z.prototype.visitTimeNanosecond=V(Av);z.prototype.visitDecimal=V(JI);z.prototype.visitList=V(XI);z.prototype.visitStruct=V(iE);z.prototype.visitUnion=V(sE);z.prototype.visitDenseUnion=V(Ov);z.prototype.visitSparseUnion=V(Fv);z.prototype.visitDictionary=V(oE);z.prototype.visitInterval=V(aE);z.prototype.visitIntervalDayTime=V(Dv);z.prototype.visitIntervalYearMonth=V(xv);z.prototype.visitDuration=V(lE);z.prototype.visitDurationSecond=V(Lv);z.prototype.visitDurationMillisecond=V(Bv);z.prototype.visitDurationMicrosecond=V(Cv);z.prototype.visitDurationNanosecond=V(Mv);z.prototype.visitFixedSizeList=V(uE);z.prototype.visitMap=V(ZI);const Ve=new z,Qe=Symbol.for("parent"),Yi=Symbol.for("rowIndex");class _f{constructor(t,n){return this[Qe]=t,this[Yi]=n,new Proxy(this,new dE)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Yi],n=this[Qe],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=ve.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${po(t)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new cE(this[Qe],this[Yi])}}class cE{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ve.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(_f.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Qe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class dE{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Qe].type.children.map(n=>n.name)}has(t,n){return t[Qe].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Qe].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Qe].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=ve.visit(t[Qe].children[r],t[Yi]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Qe].type.children.findIndex(s=>s.name===n);return i!==-1?(Ve.visit(t[Qe].children[i],t[Yi],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class B extends Q{}function j(e){return(t,n)=>t.getValid(n)?e(t,n):null}const fE=(e,t)=>864e5*e[t],hE=(e,t)=>null,kv=(e,t,n)=>{if(n+1>=t.length)return null;const r=dt(t[n]),i=dt(t[n+1]);return e.subarray(r,i)},pE=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Uv=({values:e},t)=>fE(e,t),Pv=({values:e},t)=>dt(e[t]),Br=({stride:e,values:t},n)=>t[e*n],yE=({stride:e,values:t},n)=>pv(t[e*n]),zv=({values:e},t)=>e[t],mE=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),jv=({values:e,valueOffsets:t},n)=>kv(e,t,n),$v=({values:e,valueOffsets:t},n)=>{const r=kv(e,t,n);return r!==null?Xc(r):null},gE=({values:e},t)=>e[t],vE=({type:e,values:t},n)=>e.precision!==Qt.HALF?t[n]:pv(t[n]),_E=(e,t)=>e.type.unit===$e.DAY?Uv(e,t):Pv(e,t),Vv=({values:e},t)=>1e3*dt(e[t]),Wv=({values:e},t)=>dt(e[t]),Hv=({values:e},t)=>Vg(e[t],BigInt(1e3)),qv=({values:e},t)=>Vg(e[t],BigInt(1e6)),wE=(e,t)=>{switch(e.type.unit){case P.SECOND:return Vv(e,t);case P.MILLISECOND:return Wv(e,t);case P.MICROSECOND:return Hv(e,t);case P.NANOSECOND:return qv(e,t)}},Yv=({values:e},t)=>e[t],Gv=({values:e},t)=>e[t],Qv=({values:e},t)=>e[t],Kv=({values:e},t)=>e[t],SE=(e,t)=>{switch(e.type.unit){case P.SECOND:return Yv(e,t);case P.MILLISECOND:return Gv(e,t);case P.MICROSECOND:return Qv(e,t);case P.NANOSECOND:return Kv(e,t)}},IE=({values:e,stride:t},n)=>gf.decimal(e.subarray(t*n,t*(n+1))),EE=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,l=i[0].slice(s,o-s);return new rt([l])},bE=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new wf(o.slice(i,s-i))},TE=(e,t)=>new _f(e,t),NE=(e,t)=>e.type.mode===Xt.Dense?Jv(e,t):Xv(e,t),Jv=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ve.visit(r,e.valueOffsets[t])},Xv=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return ve.visit(r,t)},RE=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},AE=(e,t)=>e.type.unit===En.DAY_TIME?Zv(e,t):t0(e,t),Zv=({values:e},t)=>e.subarray(2*t,2*(t+1)),t0=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},e0=({values:e},t)=>e[t],n0=({values:e},t)=>e[t],r0=({values:e},t)=>e[t],i0=({values:e},t)=>e[t],OE=(e,t)=>{switch(e.type.unit){case P.SECOND:return e0(e,t);case P.MILLISECOND:return n0(e,t);case P.MICROSECOND:return r0(e,t);case P.NANOSECOND:return i0(e,t)}},FE=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new rt([s])};B.prototype.visitNull=j(hE);B.prototype.visitBool=j(pE);B.prototype.visitInt=j(gE);B.prototype.visitInt8=j(Br);B.prototype.visitInt16=j(Br);B.prototype.visitInt32=j(Br);B.prototype.visitInt64=j(zv);B.prototype.visitUint8=j(Br);B.prototype.visitUint16=j(Br);B.prototype.visitUint32=j(Br);B.prototype.visitUint64=j(zv);B.prototype.visitFloat=j(vE);B.prototype.visitFloat16=j(yE);B.prototype.visitFloat32=j(Br);B.prototype.visitFloat64=j(Br);B.prototype.visitUtf8=j($v);B.prototype.visitLargeUtf8=j($v);B.prototype.visitBinary=j(jv);B.prototype.visitLargeBinary=j(jv);B.prototype.visitFixedSizeBinary=j(mE);B.prototype.visitDate=j(_E);B.prototype.visitDateDay=j(Uv);B.prototype.visitDateMillisecond=j(Pv);B.prototype.visitTimestamp=j(wE);B.prototype.visitTimestampSecond=j(Vv);B.prototype.visitTimestampMillisecond=j(Wv);B.prototype.visitTimestampMicrosecond=j(Hv);B.prototype.visitTimestampNanosecond=j(qv);B.prototype.visitTime=j(SE);B.prototype.visitTimeSecond=j(Yv);B.prototype.visitTimeMillisecond=j(Gv);B.prototype.visitTimeMicrosecond=j(Qv);B.prototype.visitTimeNanosecond=j(Kv);B.prototype.visitDecimal=j(IE);B.prototype.visitList=j(EE);B.prototype.visitStruct=j(TE);B.prototype.visitUnion=j(NE);B.prototype.visitDenseUnion=j(Jv);B.prototype.visitSparseUnion=j(Xv);B.prototype.visitDictionary=j(RE);B.prototype.visitInterval=j(AE);B.prototype.visitIntervalDayTime=j(Zv);B.prototype.visitIntervalYearMonth=j(t0);B.prototype.visitDuration=j(OE);B.prototype.visitDurationSecond=j(e0);B.prototype.visitDurationMillisecond=j(n0);B.prototype.visitDurationMicrosecond=j(r0);B.prototype.visitDurationNanosecond=j(i0);B.prototype.visitFixedSizeList=j(FE);B.prototype.visitMap=j(bE);const ve=new B,Ii=Symbol.for("keys"),Gi=Symbol.for("vals"),Ei=Symbol.for("kKeysAsStrings"),id=Symbol.for("_kKeysAsStrings");class wf{constructor(t){return this[Ii]=new rt([t.children[0]]).memoize(),this[Gi]=t.children[1],new Proxy(this,new xE)}get[Ei](){return this[id]||(this[id]=Array.from(this[Ii].toArray(),String))}[Symbol.iterator](){return new DE(this[Ii],this[Gi])}get size(){return this[Ii].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ii],n=this[Gi],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=ve.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${po(t)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class DE{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ve.visit(this.vals,t)]})}}class xE{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ei]}has(t,n){return t[Ei].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ei].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ei].indexOf(n);if(r!==-1){const i=ve.visit(Reflect.get(t,Gi),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ei].indexOf(n);return i!==-1?(Ve.visit(Reflect.get(t,Gi),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(wf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ii]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Gi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[id]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Mp;function s0(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Mp=s,s=o,o=Mp),o>i&&(o=i),r?r(e,s,o):[s,o]}const Sf=(e,t)=>e<0?t+e:e,kp=e=>e!==e;function ps(e){if(typeof e!=="object"||e===null)return kp(e)?kp:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?FI(e,n):!1:e instanceof Map?BE(e):Array.isArray(e)?LE(e):e instanceof rt?CE(e):ME(e,!0)}function LE(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ps(e[n]);return iu(t)}function BE(e){let t=-1;const n=[];for(const r of e.values())n[++t]=ps(r);return iu(n)}function CE(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ps(e.get(n));return iu(t)}function ME(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=ps(e[n[i]]);return iu(r,n)}function iu(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return kE(e,n);case Map:return Up(e,n,n.keys());case wf:case _f:case Object:case void 0:return Up(e,n,t||Object.keys(n))}return n instanceof rt?UE(e,n):!1}}function kE(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function UE(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function Up(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function o0(e,t,n,r){return(n&1<<r)!==0}function PE(e,t,n,r){return(n&1<<r)>>r}function Il(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):El(new If(n,e,t,null,o0)).subarray(0,r)),i}return n}function El(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class If{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function sd(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new If(e,t,n-t,e,PE))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return sd(e,t,i)+sd(e,r,n)+zE(e,i>>3,r-i>>3)}function zE(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=Qu(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=Qu(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=Qu(s.getUint8(i)),i+=1;return r}function Qu(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const jE=-1;class at{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return D.isSparseUnion(t)?this.children.some(n=>n.nullable):D.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(D.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=jE&&(n=this.nullBitmap)&&(this._nullCount=t=n.length===0?0:this.length-sd(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof at?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Ln(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(t){const{type:n}=this;if(D.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===Xt.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(D.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===Xt.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+t,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(Il(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const d=s[c];r=(d&u)!==0,s[c]=n?d|u:d&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new at(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===h.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Il(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[xn.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[xn.TYPE])&&(o[xn.TYPE]=s.subarray(t,t+n)),(s=o[xn.OFFSET])&&(o[xn.OFFSET]=s.subarray(t,t+n+1))||(s=o[xn.DATA])&&(o[xn.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}at.prototype.children=Object.freeze([]);class Qs extends Q{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new at(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,i,s])}visitLargeUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Tp(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,i,s])}visitLargeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.data),s=X(t.nullBitmap),o=Tp(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=X(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=ut(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(D.isSparseUnion(n))return new at(n,r,o,a,[void 0,void 0,void 0,s],i);const l=Ns(t.valueOffsets);return new at(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.indices.ArrayType,t.data),{["dictionary"]:o=new rt([new Qs().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=X(t.nullBitmap),s=ut(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Qs().visit({type:n.valueType})}=t,s=X(t.nullBitmap),{["length"]:o=i.length/Ln(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new at(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Qs().visit({type:n.childType})}=t,s=X(t.nullBitmap),o=Ns(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new at(n,r,a,l,[o,void 0,s],[i])}}const $E=new Qs;function K(e){return $E.visit(e)}class Pp{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function VE(e){return e.some(t=>t.nullable)}function a0(e){return e.reduce((t,n)=>t+n.nullCount,0)}function l0(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function u0(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function Ef(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function bf(e,t){return e.getValid(t)}function bl(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return Ef(r,this._offsets,n,t)}}function c0(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=Ef(s,this._offsets,r,n);return t=void 0,o}}function d0(e){let t;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):Ef(s,this._offsets,i,n);return t=void 0,o}}class C extends Q{}function WE(e,t){return t===null&&e.length>0?0:-1}function HE(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new If(n,e.offset+(t||0),e.length,n,o0)){if(!i)return r;++r}return-1}function W(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case h.Union:break;case h.Dictionary:break;default:return HE(e,n)}const r=ve.getVisitFn(e),i=ps(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function f0(e,t,n){const r=ve.getVisitFn(e),i=ps(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}C.prototype.visitNull=WE;C.prototype.visitBool=W;C.prototype.visitInt=W;C.prototype.visitInt8=W;C.prototype.visitInt16=W;C.prototype.visitInt32=W;C.prototype.visitInt64=W;C.prototype.visitUint8=W;C.prototype.visitUint16=W;C.prototype.visitUint32=W;C.prototype.visitUint64=W;C.prototype.visitFloat=W;C.prototype.visitFloat16=W;C.prototype.visitFloat32=W;C.prototype.visitFloat64=W;C.prototype.visitUtf8=W;C.prototype.visitLargeUtf8=W;C.prototype.visitBinary=W;C.prototype.visitLargeBinary=W;C.prototype.visitFixedSizeBinary=W;C.prototype.visitDate=W;C.prototype.visitDateDay=W;C.prototype.visitDateMillisecond=W;C.prototype.visitTimestamp=W;C.prototype.visitTimestampSecond=W;C.prototype.visitTimestampMillisecond=W;C.prototype.visitTimestampMicrosecond=W;C.prototype.visitTimestampNanosecond=W;C.prototype.visitTime=W;C.prototype.visitTimeSecond=W;C.prototype.visitTimeMillisecond=W;C.prototype.visitTimeMicrosecond=W;C.prototype.visitTimeNanosecond=W;C.prototype.visitDecimal=W;C.prototype.visitList=W;C.prototype.visitStruct=W;C.prototype.visitUnion=W;C.prototype.visitDenseUnion=f0;C.prototype.visitSparseUnion=f0;C.prototype.visitDictionary=W;C.prototype.visitInterval=W;C.prototype.visitIntervalDayTime=W;C.prototype.visitIntervalYearMonth=W;C.prototype.visitDuration=W;C.prototype.visitDurationSecond=W;C.prototype.visitDurationMillisecond=W;C.prototype.visitDurationMicrosecond=W;C.prototype.visitDurationNanosecond=W;C.prototype.visitFixedSizeList=W;C.prototype.visitMap=W;const Tl=new C;class M extends Q{}function $(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(D.isInt(t)&&t.bitWidth!==64||D.isTime(t)&&t.bitWidth!==64||D.isFloat(t)&&t.precision!==Qt.HALF))return new Pp(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Pp(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new qE(o)})}class qE{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}M.prototype.visitNull=$;M.prototype.visitBool=$;M.prototype.visitInt=$;M.prototype.visitInt8=$;M.prototype.visitInt16=$;M.prototype.visitInt32=$;M.prototype.visitInt64=$;M.prototype.visitUint8=$;M.prototype.visitUint16=$;M.prototype.visitUint32=$;M.prototype.visitUint64=$;M.prototype.visitFloat=$;M.prototype.visitFloat16=$;M.prototype.visitFloat32=$;M.prototype.visitFloat64=$;M.prototype.visitUtf8=$;M.prototype.visitLargeUtf8=$;M.prototype.visitBinary=$;M.prototype.visitLargeBinary=$;M.prototype.visitFixedSizeBinary=$;M.prototype.visitDate=$;M.prototype.visitDateDay=$;M.prototype.visitDateMillisecond=$;M.prototype.visitTimestamp=$;M.prototype.visitTimestampSecond=$;M.prototype.visitTimestampMillisecond=$;M.prototype.visitTimestampMicrosecond=$;M.prototype.visitTimestampNanosecond=$;M.prototype.visitTime=$;M.prototype.visitTimeSecond=$;M.prototype.visitTimeMillisecond=$;M.prototype.visitTimeMicrosecond=$;M.prototype.visitTimeNanosecond=$;M.prototype.visitDecimal=$;M.prototype.visitList=$;M.prototype.visitStruct=$;M.prototype.visitUnion=$;M.prototype.visitDenseUnion=$;M.prototype.visitSparseUnion=$;M.prototype.visitDictionary=$;M.prototype.visitInterval=$;M.prototype.visitIntervalDayTime=$;M.prototype.visitIntervalYearMonth=$;M.prototype.visitDuration=$;M.prototype.visitDurationSecond=$;M.prototype.visitDurationMillisecond=$;M.prototype.visitDurationMicrosecond=$;M.prototype.visitDurationNanosecond=$;M.prototype.visitFixedSizeList=$;M.prototype.visitMap=$;const Tf=new M;var h0;const p0={},y0={};class rt{constructor(t){var n,r,i;const s=t[0]instanceof rt?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof at)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=p0[o.typeId],c=s[0];this.isValid=d=>bf(c,d),this.get=d=>a(c,d),this.set=(d,p)=>l(c,d,p),this.indexOf=d=>u(c,d),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,y0[o.typeId]),this._offsets=l0(s);break}this.data=s,this.type=o,this.stride=Ln(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullable(){return VE(this.data)}get nullCount(){return a0(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${h[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}at(t){return this.get(Sf(t,this.length))}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}[Symbol.iterator](){return Tf.visit(this)}concat(...t){return new rt(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new rt(s0(this,t,n,({data:r,_offsets:i},s,o)=>u0(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case h.Int:case h.Float:case h.Decimal:case h.Time:case h.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new rt(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return D.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(D.isDictionary(this.type)){const t=new Nl(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new rt(n)}return new Nl(this)}unmemoize(){if(D.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new rt(n)}return this}}h0=Symbol.toStringTag;rt[h0]=(e=>{e.type=D.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(h).map(n=>h[n]).filter(n=>typeof n=="number"&&n!==h.NONE);for(const n of t){const r=ve.getVisitFnByTypeId(n),i=Ve.getVisitFnByTypeId(n),s=Tl.getVisitFnByTypeId(n);p0[n]={get:r,set:i,indexOf:s},y0[n]=Object.create(e,{isValid:{value:bl(bf)},get:{value:bl(ve.getVisitFnByTypeId(n))},set:{value:c0(Ve.getVisitFnByTypeId(n))},indexOf:{value:d0(Tl.getVisitFnByTypeId(n))}})}return"Vector"})(rt.prototype);class Nl extends rt{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Nl(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new rt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class od{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}class _e{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new _e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+st),(n||new _e).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ft.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new dn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new od).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new od).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Ft.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class it{constructor(t=[],n,r,i=Ft.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=ad(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new it(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new it(n,this.metadata)}assign(...t){const n=t[0]instanceof it?t[0]:Array.isArray(t[0])?new it(t[0]):new it(t),r=[...this.fields],i=ta(ta(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:ta(ta(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=ad(s,new Map);return new it([...r,...s],i,new Map([...this.dictionaries,...o]))}}it.prototype.fields=null;it.prototype.metadata=null;it.prototype.dictionaries=null;class mt{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new mt(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],mt.new(n,r,i,s)}}mt.prototype.type=null;mt.prototype.name=null;mt.prototype.nullable=null;mt.prototype.metadata=null;function ta(e,t){return new Map([...e||new Map,...t||new Map])}function ad(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(D.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&ad(s.children,t)}return t}var YE=Pg,GE=rs;class vo{static decode(t){t=new GE(X(t));const n=_e.getRootAsFooter(t),r=it.decode(n.schema(),new Map,n.version());return new QE(r,n)}static encode(t){const n=new YE,r=it.encode(n,t.schema);_e.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())br.encode(n,o);const i=n.endVector();_e.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())br.encode(n,o);const s=n.endVector();return _e.startFooter(n),_e.addSchema(n,r),_e.addVersion(n,Ft.V5),_e.addRecordBatches(n,i),_e.addDictionaries(n,s),_e.finishFooterBuffer(n,_e.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=Ft.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class QE extends vo{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return br.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return br.decode(n)}return null}}class br{static decode(t){return new br(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return od.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=dt(r),this.bodyLength=dt(n)}}const It=Object.freeze({done:!0,value:void 0});class zp{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Nf{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class KE extends Nf{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return H(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(It);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Oe.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Oe.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return H(this,void 0,void 0,function*(){return yield this.abort(t),It})}return(t){return H(this,void 0,void 0,function*(){return yield this.close(),It})}read(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(It)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Ia extends KE{write(t){if((t=X(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?Xc(this.toUint8Array(!0)):this.toUint8Array(!1).then(Xc)}toUint8Array(t=!1){return t?In(this._values)[0]:H(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=Gr(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const d=s;o.push(d),a+=d.byteLength}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return In(o,a)[0]})}}class Rl{constructor(t){t&&(this.source=new JE(Oe.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class os{constructor(t){t instanceof os?this.source=t.source:t instanceof Ia?this.source=new Mr(Oe.fromAsyncIterable(t)):Cg(t)?this.source=new Mr(Oe.fromNodeStream(t)):yf(t)?this.source=new Mr(Oe.fromDOMStream(t)):Bg(t)?this.source=new Mr(Oe.fromDOMStream(t.body)):Oo(t)?this.source=new Mr(Oe.fromIterable(t)):ei(t)?this.source=new Mr(Oe.fromAsyncIterable(t)):hs(t)&&(this.source=new Mr(Oe.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class JE{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,n="read"){return this.source.next({cmd:n,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||It)}return(t){return Object.create(this.source.return&&this.source.return(t)||It)}}class Mr{constructor(t){this.source=t,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(t){return H(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return H(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){return H(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(t){return H(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(t))||It;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(t){return H(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(t))||It;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class jp extends Rl{constructor(t,n){super(),this.position=0,this.buffer=X(t),this.size=n===void 0?this.buffer.byteLength:n}readInt32(t){const{buffer:n,byteOffset:r}=this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,t)),n.subarray(i,this.position)):null}readAt(t,n){const r=this.buffer,i=Math.min(this.size,t+n);return r?r.subarray(t,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Al extends os{constructor(t,n){super(),this.position=0,this._handle=t,typeof n=="number"?this.size=n:this._pending=H(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return H(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(t,4);return new DataView(n,r).getInt32(0,!0)})}seek(t){return H(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,t)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(t,n){return H(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&t+n<i){const s=Math.min(i,t+n),o=new Uint8Array(s-t);return(yield r.read(o,0,n,t)).buffer}return new Uint8Array(n)})}close(){return H(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return H(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const XE=65536;function Mi(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}const as=8,Rf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class m0{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?XE:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(t){const n=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Mi(this.buffer[1])} ${Mi(this.buffer[0])}`}}class lt extends m0{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,n=new Uint32Array(2)){return lt.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return lt.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.length,i=new lt(n);for(let s=0;s<r;){const o=as<r-s?as:r-s,a=new lt(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),l=new lt(new Uint32Array([Rf[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)lt.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new lt(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new lt(new Uint32Array(t.buffer)).plus(n)}}class ue extends m0{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const n=this.buffer[1]<<0,r=t.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<t.buffer[0]}static from(t,n=new Uint32Array(2)){return ue.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(2)){return ue.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(2)){const r=t.startsWith("-"),i=t.length,s=new ue(n);for(let o=r?1:0;o<i;){const a=as<i-o?as:i-o,l=new ue(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),u=new ue(new Uint32Array([Rf[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*2);for(let r=-1,i=t.length;++r<i;)ue.from(t[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(t,n){return new ue(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new ue(new Uint32Array(t.buffer)).plus(n)}}class fn{constructor(t){this.buffer=t}high(){return new ue(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ue(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const n=new lt(new Uint32Array([this.buffer[3],0])),r=new lt(new Uint32Array([this.buffer[2],0])),i=new lt(new Uint32Array([this.buffer[1],0])),s=new lt(new Uint32Array([this.buffer[0],0])),o=new lt(new Uint32Array([t.buffer[3],0])),a=new lt(new Uint32Array([t.buffer[2],0])),l=new lt(new Uint32Array([t.buffer[1],0])),u=new lt(new Uint32Array([t.buffer[0],0]));let c=lt.multiply(s,u);this.buffer[0]=c.low();const d=new lt(new Uint32Array([c.high(),0]));return c=lt.multiply(i,u),d.plus(c),c=lt.multiply(s,l),d.plus(c),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(c)?1:0,this.buffer[2]=d.high(),new lt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(lt.multiply(r,u)).plus(lt.multiply(i,l)).plus(lt.multiply(s,a)),this.buffer[3]+=lt.multiply(n,u).plus(lt.multiply(r,l)).plus(lt.multiply(i,a)).plus(lt.multiply(s,o)).low(),this}plus(t){const n=new Uint32Array(4);return n[3]=this.buffer[3]+t.buffer[3]>>>0,n[2]=this.buffer[2]+t.buffer[2]>>>0,n[1]=this.buffer[1]+t.buffer[1]>>>0,n[0]=this.buffer[0]+t.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Mi(this.buffer[3])} ${Mi(this.buffer[2])} ${Mi(this.buffer[1])} ${Mi(this.buffer[0])}`}static multiply(t,n){return new fn(new Uint32Array(t.buffer)).times(n)}static add(t,n){return new fn(new Uint32Array(t.buffer)).plus(n)}static from(t,n=new Uint32Array(4)){return fn.fromString(typeof t=="string"?t:t.toString(),n)}static fromNumber(t,n=new Uint32Array(4)){return fn.fromString(t.toString(),n)}static fromString(t,n=new Uint32Array(4)){const r=t.startsWith("-"),i=t.length,s=new fn(n);for(let o=r?1:0;o<i;){const a=as<i-o?as:i-o,l=new fn(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),u=new fn(new Uint32Array([Rf[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(t){const n=new Uint32Array(t.length*4);for(let r=-1,i=t.length;++r<i;)fn.from(t[r],new Uint32Array(n.buffer,n.byteOffset+4*4*r,4));return n}}class g0 extends Q{constructor(t,n,r,i,s=Ft.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(t){return super.visit(t instanceof mt?t.type:t)}visitNull(t,{length:n}=this.nextFieldNode()){return K({type:t,length:n})}visitBool(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitInt(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFloat(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeUtf8(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitLargeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDate(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTimestamp(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitTime(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDecimal(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitList(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),children:this.visitMany(t.children)})}visitUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<Ft.V5&&this.readNullBitmap(t,r),t.mode===Xt.Sparse?this.visitSparseUnion(t,{length:n,nullCount:r}):this.visitDenseUnion(t,{length:n,nullCount:r})}visitDenseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitDuration(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),data:this.readData(t)})}visitFixedSizeList(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),child:this.visit(t.children[0])})}visitMap(t,{length:n,nullCount:r}=this.nextFieldNode()){return K({type:t,length:n,nullCount:r,nullBitmap:this.readNullBitmap(t,r),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,n,r=this.nextBufferRange()){return n>0&&this.readData(t,r)||new Uint8Array(0)}readOffsets(t,n){return this.readData(t,n)}readTypeIds(t,n){return this.readData(t,n)}readData(t,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(t){return this.dictionaries.get(t.id)}}class ZE extends g0{constructor(t,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=t}readNullBitmap(t,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):El(this.sources[r])}readOffsets(t,{offset:n}=this.nextBufferRange()){return ut(Uint8Array,ut(t.OffsetArrayType,this.sources[n]))}readTypeIds(t,{offset:n}=this.nextBufferRange()){return ut(Uint8Array,ut(t.ArrayType,this.sources[n]))}readData(t,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return D.isTimestamp(t)||(D.isInt(t)||D.isTime(t))&&t.bitWidth===64||D.isDuration(t)||D.isDate(t)&&t.unit===$e.MILLISECOND?ut(Uint8Array,ue.convertArray(r[n])):D.isDecimal(t)?ut(Uint8Array,fn.convertArray(r[n])):D.isBinary(t)||D.isLargeBinary(t)||D.isFixedSizeBinary(t)?tb(r[n]):D.isBool(t)?El(r[n]):D.isUtf8(t)||D.isLargeUtf8(t)?pf(r[n].join("")):ut(Uint8Array,ut(t.ArrayType,r[n].map(i=>+i)))}}function tb(e){const t=e.join(""),n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}class k extends Q{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function ae(e,t){return t instanceof e.constructor}function ai(e,t){return e===t||ae(e,t)}function qn(e,t){return e===t||ae(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function su(e,t){return e===t||ae(e,t)&&e.precision===t.precision}function eb(e,t){return e===t||ae(e,t)&&e.byteWidth===t.byteWidth}function Af(e,t){return e===t||ae(e,t)&&e.unit===t.unit}function Fo(e,t){return e===t||ae(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Do(e,t){return e===t||ae(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function nb(e,t){return e===t||ae(e,t)&&e.children.length===t.children.length&&Tr.compareManyFields(e.children,t.children)}function rb(e,t){return e===t||ae(e,t)&&e.children.length===t.children.length&&Tr.compareManyFields(e.children,t.children)}function Of(e,t){return e===t||ae(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Tr.compareManyFields(e.children,t.children)}function ib(e,t){return e===t||ae(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Tr.visit(e.indices,t.indices)&&Tr.visit(e.dictionary,t.dictionary)}function Ff(e,t){return e===t||ae(e,t)&&e.unit===t.unit}function xo(e,t){return e===t||ae(e,t)&&e.unit===t.unit}function sb(e,t){return e===t||ae(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Tr.compareManyFields(e.children,t.children)}function ob(e,t){return e===t||ae(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Tr.compareManyFields(e.children,t.children)}k.prototype.visitNull=ai;k.prototype.visitBool=ai;k.prototype.visitInt=qn;k.prototype.visitInt8=qn;k.prototype.visitInt16=qn;k.prototype.visitInt32=qn;k.prototype.visitInt64=qn;k.prototype.visitUint8=qn;k.prototype.visitUint16=qn;k.prototype.visitUint32=qn;k.prototype.visitUint64=qn;k.prototype.visitFloat=su;k.prototype.visitFloat16=su;k.prototype.visitFloat32=su;k.prototype.visitFloat64=su;k.prototype.visitUtf8=ai;k.prototype.visitLargeUtf8=ai;k.prototype.visitBinary=ai;k.prototype.visitLargeBinary=ai;k.prototype.visitFixedSizeBinary=eb;k.prototype.visitDate=Af;k.prototype.visitDateDay=Af;k.prototype.visitDateMillisecond=Af;k.prototype.visitTimestamp=Fo;k.prototype.visitTimestampSecond=Fo;k.prototype.visitTimestampMillisecond=Fo;k.prototype.visitTimestampMicrosecond=Fo;k.prototype.visitTimestampNanosecond=Fo;k.prototype.visitTime=Do;k.prototype.visitTimeSecond=Do;k.prototype.visitTimeMillisecond=Do;k.prototype.visitTimeMicrosecond=Do;k.prototype.visitTimeNanosecond=Do;k.prototype.visitDecimal=ai;k.prototype.visitList=nb;k.prototype.visitStruct=rb;k.prototype.visitUnion=Of;k.prototype.visitDenseUnion=Of;k.prototype.visitSparseUnion=Of;k.prototype.visitDictionary=ib;k.prototype.visitInterval=Ff;k.prototype.visitIntervalDayTime=Ff;k.prototype.visitIntervalYearMonth=Ff;k.prototype.visitDuration=xo;k.prototype.visitDurationSecond=xo;k.prototype.visitDurationMillisecond=xo;k.prototype.visitDurationMicrosecond=xo;k.prototype.visitDurationNanosecond=xo;k.prototype.visitFixedSizeList=sb;k.prototype.visitMap=ob;const Tr=new k;function ld(e,t){return Tr.compareSchemas(e,t)}function Ku(e,t){return ab(e,t.map(n=>n.data.concat()))}function ab(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,p)=>Math.max(d,p.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=lb(n,o,c,t,i),o>0&&(r[s++]=K({type:new te(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(d=>new fe(e,d))]}function lb(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:K({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var v0;let Nr=class Pr{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new it([]),this._offsets=[0],this;let i,s;t[0]instanceof it&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof fe)return[l];if(l instanceof Pr)return l.batches;if(l instanceof at){if(l.type instanceof te)return[new fe(new it(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(g=>new rt([l[g]])),d=i??new it(u.map((g,v)=>new mt(String(g),c[v].type,c[v].nullable))),[,p]=Ku(d,c);return p.length===0?[new fe(l)]:p}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new it([]),!(i instanceof it))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof fe))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!ld(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??l0(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=a0(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}at(t){return this.get(Sf(t,this.numRows))}set(t,n){}indexOf(t,n){return-1}[Symbol.iterator](){return this.batches.length>0?Tf.visit(new rt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Pr(n,r.map(i=>new fe(n,i)))}slice(t,n){const r=this.schema;[t,n]=s0({length:this.numRows},t,n);const i=u0(this.data,this._offsets,t,n);return new Pr(r,i.map(s=>new fe(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=K({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new rt(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new rt([K({type:new Er,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,n],[r,i]=Ku(r,a)}return new Pr(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Pr(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,d]=a,p=n.findIndex(g=>g.name===l.name);return~p?d[p]=u:c.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Pr(...Ku(s,o))}};v0=Symbol.toStringTag;Nr[v0]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=bl(bf),e.get=bl(ve.getVisitFn(h.Struct)),e.set=c0(Ve.getVisitFn(h.Struct)),e.indexOf=d0(Tl.getVisitFn(h.Struct)),"Table"))(Nr.prototype);var _0;let fe=class Ps{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof it))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=K({nullCount:0,type:new te(this.schema.fields),children:this.schema.fields.map(n=>K({type:n.type,nullCount:0}))})]=t,!(this.data instanceof at))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=$p(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=mt.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new it(r),a=K({type:new te(r),length:s,children:i,nullCount:0});[this.schema,this.data]=$p(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=w0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ve.visit(this.data,t)}at(t){return this.get(Sf(t,this.numRows))}set(t,n){return Ve.visit(this.data,t,n)}indexOf(t,n){return Tl.visit(this.data,t,n)}[Symbol.iterator](){return Tf.visit(new rt([this.data]))}toArray(){return[...this]}concat(...t){return new Nr(this.schema,[this,...t])}slice(t,n){const[r]=new rt([this.data]).slice(t,n).data;return new Ps(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new rt([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new rt([K({type:new Er,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new it(s,new Map(this.schema.metadata)),i=K({type:new te(s),children:o})}return new Ps(r,i)}select(t){const n=this.schema.select(t),r=new te(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Ps(n,K({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=K({type:new te(n.fields),length:this.numRows,children:r});return new Ps(n,i)}};_0=Symbol.toStringTag;fe[_0]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(fe.prototype);function $p(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:K({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),K({type:new te(i),length:n,children:s})]}function w0(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],l=t[s];for(const u of[l,...((i=l==null?void 0:l.dictionary)===null||i===void 0?void 0:i.data)||[]])w0(a.children,u==null?void 0:u.children,n);if(D.isDictionary(a)){const{id:u}=a;if(!n.has(u))l!=null&&l.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class Df extends fe{constructor(t){const n=t.fields.map(i=>K({type:i.type})),r=K({type:new te(t.fields),nullCount:0,children:n});super(t,r)}}let Zn=class un{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+st),(n||new un).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ft.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):nt.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Ft.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,nt.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return un.startMessage(t),un.addVersion(t,n),un.addHeaderType(t,r),un.addHeader(t,i),un.addBodyLength(t,s),un.addCustomMetadata(t,o),un.endMessage(t)}};class ub extends Q{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Lp.startNull(n),Lp.endNull(n)}visitInt(t,n){return Se.startInt(n),Se.addBitWidth(n,t.bitWidth),Se.addIsSigned(n,t.isSigned),Se.endInt(n)}visitFloat(t,n){return yn.startFloatingPoint(n),yn.addPrecision(n,t.precision),yn.endFloatingPoint(n)}visitBinary(t,n){return Ap.startBinary(n),Ap.endBinary(n)}visitLargeBinary(t,n){return Fp.startLargeBinary(n),Fp.endLargeBinary(n)}visitBool(t,n){return Op.startBool(n),Op.endBool(n)}visitUtf8(t,n){return Bp.startUtf8(n),Bp.endUtf8(n)}visitLargeUtf8(t,n){return Dp.startLargeUtf8(n),Dp.endLargeUtf8(n)}visitDecimal(t,n){return mi.startDecimal(n),mi.addScale(n,t.scale),mi.addPrecision(n,t.precision),mi.addBitWidth(n,t.bitWidth),mi.endDecimal(n)}visitDate(t,n){return ma.startDate(n),ma.addUnit(n,t.unit),ma.endDate(n)}visitTime(t,n){return Le.startTime(n),Le.addUnit(n,t.unit),Le.addBitWidth(n,t.bitWidth),Le.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return Be.startTimestamp(n),Be.addUnit(n,t.unit),r!==void 0&&Be.addTimezone(n,r),Be.endTimestamp(n)}visitInterval(t,n){return mn.startInterval(n),mn.addUnit(n,t.unit),mn.endInterval(n)}visitDuration(t,n){return ga.startDuration(n),ga.addUnit(n,t.unit),ga.endDuration(n)}visitList(t,n){return xp.startList(n),xp.endList(n)}visitStruct(t,n){return Vr.startStruct_(n),Vr.endStruct_(n)}visitUnion(t,n){de.startTypeIdsVector(n,t.typeIds.length);const r=de.createTypeIdsVector(n,t.typeIds);return de.startUnion(n),de.addMode(n,t.mode),de.addTypeIds(n,r),de.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Mn.startDictionaryEncoding(n),Mn.addId(n,BigInt(t.id)),Mn.addIsOrdered(n,t.isOrdered),r!==void 0&&Mn.addIndexType(n,r),Mn.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return va.startFixedSizeBinary(n),va.addByteWidth(n,t.byteWidth),va.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return _a.startFixedSizeList(n),_a.addListSize(n,t.listSize),_a.endFixedSizeList(n)}visitMap(t,n){return wa.startMap(n),wa.addKeysSorted(n,t.keysSorted),wa.endMap(n)}}const Ju=new ub;function cb(e,t=new Map){return new it(fb(e,t),Ea(e.metadata),t)}function S0(e){return new Te(e.count,I0(e.columns),E0(e.columns))}function db(e){return new bn(S0(e.data),e.id,e.isDelta)}function fb(e,t){return(e.fields||[]).filter(Boolean).map(n=>mt.fromJSON(n,t))}function Vp(e,t){return(e.children||[]).filter(Boolean).map(n=>mt.fromJSON(n,t))}function I0(e){return(e||[]).reduce((t,n)=>[...t,new Rr(n.count,hb(n.VALIDITY)),...I0(n.children)],[])}function E0(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new vn(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new vn(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new vn(t.length,i.OFFSET.length)),i.DATA&&t.push(new vn(t.length,i.DATA.length)),t=E0(i.children,t)}return t}function hb(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function pb(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=Hp(e,Vp(e,t)),i=new mt(e.name,o,e.nullable,Ea(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?Wp(r):new go,a=new ss(t.get(n),r,n,s.isOrdered),i=new mt(e.name,a,e.nullable,Ea(e.metadata))):(r=(r=s.indexType)?Wp(r):new go,t.set(n,o=Hp(e,Vp(e,t))),a=new ss(o,r,n,s.isOrdered),i=new mt(e.name,a,e.nullable,Ea(e.metadata))),i||null}function Ea(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function Wp(e){return new ni(e.isSigned,e.bitWidth)}function Hp(e,t){const n=e.type.name;switch(n){case"NONE":return new Er;case"null":return new Er;case"binary":return new ol;case"largebinary":return new al;case"utf8":return new ll;case"largeutf8":return new ul;case"bool":return new cl;case"list":return new gl((t||[])[0]);case"struct":return new te(t||[]);case"struct_":return new te(t||[])}switch(n){case"int":{const r=e.type;return new ni(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new sl(Qt[r.precision])}case"decimal":{const r=e.type;return new dl(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new fl($e[r.unit])}case"time":{const r=e.type;return new hl(P[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new pl(P[r.unit],r.timezone)}case"interval":{const r=e.type;return new yl(En[r.unit])}case"duration":{const r=e.type;return new ml(P[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new vl(Xt[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new _l(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new wl(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Sl((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var yb=Pg,mb=rs;class ee{static fromJSON(t,n){const r=new ee(0,Ft.V5,n);return r._createHeader=gb(t,n),r}static decode(t){t=new mb(X(t));const n=Zn.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new ee(r,i,s);return o._createHeader=vb(n,s),o}static encode(t){const n=new yb;let r=-1;return t.isSchema()?r=it.encode(n,t.header()):t.isRecordBatch()?r=Te.encode(n,t.header()):t.isDictionaryBatch()&&(r=bn.encode(n,t.header())),Zn.startMessage(n),Zn.addVersion(n,Ft.V5),Zn.addHeader(n,r),Zn.addHeaderType(n,t.headerType),Zn.addBodyLength(n,BigInt(t.bodyLength)),Zn.finishMessageBuffer(n,Zn.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof it)return new ee(0,Ft.V5,nt.Schema,t);if(t instanceof Te)return new ee(n,Ft.V5,nt.RecordBatch,t);if(t instanceof bn)return new ee(n,Ft.V5,nt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===nt.Schema}isRecordBatch(){return this.headerType===nt.RecordBatch}isDictionaryBatch(){return this.headerType===nt.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=dt(t)}}class Te{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=dt(t)}}let bn=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=dt(n)}};class vn{constructor(t,n){this.offset=dt(t),this.length=dt(n)}}class Rr{constructor(t,n){this.length=dt(t),this.nullCount=dt(n)}}function gb(e,t){return()=>{switch(t){case nt.Schema:return it.fromJSON(e);case nt.RecordBatch:return Te.fromJSON(e);case nt.DictionaryBatch:return bn.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${nt[t]}, type: ${t} }`)}}function vb(e,t){return()=>{switch(t){case nt.Schema:return it.decode(e.header(new dn),new Map,e.version());case nt.RecordBatch:return Te.decode(e.header(new Dn),e.version());case nt.DictionaryBatch:return bn.decode(e.header(new pi),e.version())}throw new Error(`Unrecognized Message type: { name: ${nt[t]}, type: ${t} }`)}}mt.encode=Ob;mt.decode=Rb;mt.fromJSON=pb;it.encode=Ab;it.decode=_b;it.fromJSON=cb;Te.encode=Fb;Te.decode=wb;Te.fromJSON=S0;bn.encode=Db;bn.decode=Sb;bn.fromJSON=db;Rr.encode=xb;Rr.decode=Eb;vn.encode=Lb;vn.decode=Ib;function _b(e,t=new Map,n=Ft.V5){const r=Nb(e,t);return new it(r,ba(e),t,n)}function wb(e,t=Ft.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Te(e.length(),bb(e),Tb(e,t))}function Sb(e,t=Ft.V5){return new bn(Te.decode(e.data(),t),e.id(),e.isDelta())}function Ib(e){return new vn(e.offset(),e.length())}function Eb(e){return new Rr(e.length(),e.nullCount())}function bb(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Rr.decode(n));return t}function Tb(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<Ft.V4&&(r.bb_pos+=8*(i+1)),n[++s]=vn.decode(r));return n}function Nb(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=mt.decode(r,t));return n}function qp(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=mt.decode(r,t));return n}function Rb(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=Gp(e,qp(e,t)),r=new mt(e.name(),i,e.nullable(),ba(e))):t.has(n=dt(a.id()))?(s=(s=a.indexType())?Yp(s):new go,o=new ss(t.get(n),s,n,a.isOrdered()),r=new mt(e.name(),o,e.nullable(),ba(e))):(s=(s=a.indexType())?Yp(s):new go,t.set(n,i=Gp(e,qp(e,t))),o=new ss(i,s,n,a.isOrdered()),r=new mt(e.name(),o,e.nullable(),ba(e))),r||null}function ba(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function Yp(e){return new ni(e.isSigned(),e.bitWidth())}function Gp(e,t){const n=e.typeType();switch(n){case ft.NONE:return new Er;case ft.Null:return new Er;case ft.Binary:return new ol;case ft.LargeBinary:return new al;case ft.Utf8:return new ll;case ft.LargeUtf8:return new ul;case ft.Bool:return new cl;case ft.List:return new gl((t||[])[0]);case ft.Struct_:return new te(t||[])}switch(n){case ft.Int:{const r=e.type(new Se);return new ni(r.isSigned(),r.bitWidth())}case ft.FloatingPoint:{const r=e.type(new yn);return new sl(r.precision())}case ft.Decimal:{const r=e.type(new mi);return new dl(r.scale(),r.precision(),r.bitWidth())}case ft.Date:{const r=e.type(new ma);return new fl(r.unit())}case ft.Time:{const r=e.type(new Le);return new hl(r.unit(),r.bitWidth())}case ft.Timestamp:{const r=e.type(new Be);return new pl(r.unit(),r.timezone())}case ft.Interval:{const r=e.type(new mn);return new yl(r.unit())}case ft.Duration:{const r=e.type(new ga);return new ml(r.unit())}case ft.Union:{const r=e.type(new de);return new vl(r.mode(),r.typeIdsArray()||[],t||[])}case ft.FixedSizeBinary:{const r=e.type(new va);return new _l(r.byteWidth())}case ft.FixedSizeList:{const r=e.type(new _a);return new wl(r.listSize(),(t||[])[0])}case ft.Map:{const r=e.type(new wa);return new Sl((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${ft[n]}" (${n})`)}function Ab(e,t){const n=t.fields.map(s=>mt.encode(e,s));dn.startFieldsVector(e,n.length);const r=dn.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?dn.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return Ct.startKeyValue(e),Ct.addKey(e,a),Ct.addValue(e,l),Ct.endKeyValue(e)})):-1;return dn.startSchema(e),dn.addFields(e,r),dn.addEndianness(e,Bb?is.Little:is.Big),i!==-1&&dn.addCustomMetadata(e,i),dn.endSchema(e)}function Ob(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;D.isDictionary(s)?(o=s.dictionary.typeId,i=Ju.visit(s,e),r=Ju.visit(s.dictionary,e)):r=Ju.visit(s,e);const a=(s.children||[]).map(c=>mt.encode(e,c)),l=Ae.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?Ae.createCustomMetadataVector(e,[...t.metadata].map(([c,d])=>{const p=e.createString(`${c}`),g=e.createString(`${d}`);return Ct.startKeyValue(e),Ct.addKey(e,p),Ct.addValue(e,g),Ct.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Ae.startField(e),Ae.addType(e,r),Ae.addTypeType(e,o),Ae.addChildren(e,l),Ae.addNullable(e,!!t.nullable),n!==-1&&Ae.addName(e,n),i!==-1&&Ae.addDictionary(e,i),u!==-1&&Ae.addCustomMetadata(e,u),Ae.endField(e)}function Fb(e,t){const n=t.nodes||[],r=t.buffers||[];Dn.startNodesVector(e,n.length);for(const o of n.slice().reverse())Rr.encode(e,o);const i=e.endVector();Dn.startBuffersVector(e,r.length);for(const o of r.slice().reverse())vn.encode(e,o);const s=e.endVector();return Dn.startRecordBatch(e),Dn.addLength(e,BigInt(t.length)),Dn.addNodes(e,i),Dn.addBuffers(e,s),Dn.endRecordBatch(e)}function Db(e,t){const n=Te.encode(e,t.data);return pi.startDictionaryBatch(e),pi.addId(e,BigInt(t.id)),pi.addIsDelta(e,t.isDelta),pi.addData(e,n),pi.endDictionaryBatch(e)}function xb(e,t){return $g.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function Lb(e,t){return jg.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const Bb=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),xf=e=>`Expected ${nt[e]} Message in stream, but was null or length 0.`,Lf=e=>`Header pointer of flatbuffer-encoded ${nt[e]} Message is null or length 0.`,b0=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,T0=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class N0{constructor(t){this.source=t instanceof Rl?t:new Rl(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?It:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xf(t));return n.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const n=X(this.source.read(t));if(n.byteLength<t)throw new Error(T0(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(t=!1){const n=nt.Schema,r=this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(Lf(n));return i}readMetadataLength(){const t=this.source.read(ou),n=t&&new rs(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(t){const n=this.source.read(t);if(!n)return It;if(n.byteLength<t)throw new Error(b0(t,n.byteLength));return{done:!1,value:ee.decode(n)}}}class Cb{constructor(t,n){this.source=t instanceof os?t:Lg(t)?new Al(t,n):new os(t)}[Symbol.asyncIterator](){return this}next(){return H(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?It:t})}throw(t){return H(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return H(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return H(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xf(t));return n.value})}readMessageBody(t){return H(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const n=X(yield this.source.read(t));if(n.byteLength<t)throw new Error(T0(t,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return H(this,arguments,void 0,function*(t=!1){const n=nt.Schema,r=yield this.readMessage(n),i=r==null?void 0:r.header();if(t&&!i)throw new Error(Lf(n));return i})}readMetadataLength(){return H(this,void 0,void 0,function*(){const t=yield this.source.read(ou),n=t&&new rs(t),r=(n==null?void 0:n.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(t){return H(this,void 0,void 0,function*(){const n=yield this.source.read(t);if(!n)return It;if(n.byteLength<t)throw new Error(b0(t,n.byteLength));return{done:!1,value:ee.decode(n)}})}}class Mb extends N0{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof zp?t:new zp(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:ee.fromJSON(t.schema,nt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const n=t.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:ee.fromJSON(n,nt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const n=t.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:ee.fromJSON(n,nt.RecordBatch)}}return this._body=[],It}readMessageBody(t){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(t){let n;if((n=this.next()).done)return null;if(t!=null&&n.value.headerType!==t)throw new Error(xf(t));return n.value}readSchema(){const t=nt.Schema,n=this.readMessage(t),r=n==null?void 0:n.header();if(!n||!r)throw new Error(Lf(t));return r}}const ou=4,ud="ARROW1",_o=new Uint8Array(ud.length);for(let e=0;e<ud.length;e+=1)_o[e]=ud.codePointAt(e);function Bf(e,t=0){for(let n=-1,r=_o.length;++n<r;)if(_o[n]!==e[t+n])return!1;return!0}const Lo=_o.length,R0=Lo+ou,kb=Lo*2+ou;class Ue extends Nf{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const n=this._impl.open(t);return ei(n)?n.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Oe.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Oe.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Ue?t:Zc(t)?jb(t):Lg(t)?Wb(t):ei(t)?H(this,void 0,void 0,function*(){return yield Ue.from(yield t)}):Bg(t)||yf(t)||Cg(t)||hs(t)?Vb(new os(t)):$b(new Rl(t))}static readAll(t){return t instanceof Ue?t.isSync()?Qp(t):Kp(t):Zc(t)||ArrayBuffer.isView(t)||Oo(t)||xg(t)?Qp(t):Kp(t)}}class Ol extends Ue{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return gn(this,arguments,function*(){yield Y(yield*ya(Gr(this[Symbol.iterator]())))})}}class Fl extends Ue{constructor(t){super(t),this._impl=t}readAll(){return H(this,void 0,void 0,function*(){var t,n,r,i;const s=new Array;try{for(var o=!0,a=Gr(this),l;l=yield a.next(),t=l.done,!t;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!t&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class A0 extends Ol{constructor(t){super(t),this._impl=t}}class Ub extends Fl{constructor(t){super(t),this._impl=t}}class O0{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,n){const r=this._loadVectors(t,n,this.schema.fields),i=K({type:new te(this.schema.fields),length:t.length,children:r});return new fe(this.schema,i)}_loadDictionaryBatch(t,n){const{id:r,isDelta:i}=t,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(t.data,n,[l]);return(a&&i?a.concat(new rt(u)):new rt(u)).memoize()}_loadVectors(t,n,r){return new g0(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class Dl extends O0{constructor(t,n){super(n),this._reader=Zc(t)?new Mb(this._handle=t):new N0(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=D0(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):It}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):It}next(){if(this.closed)return It;let t;const{_reader:n}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Df(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class xl extends O0{constructor(t,n){super(n),this._reader=new Cb(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return H(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return H(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=D0(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):It})}return(t){return H(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):It})}next(){return H(this,void 0,void 0,function*(){if(this.closed)return It;let t;const{_reader:n}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const r=t.header(),i=yield n.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Df(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return H(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class F0 extends Dl{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,n){super(t instanceof jp?t:new jp(t),n)}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(nt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(nt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:t}=this,n=t.size-R0,r=t.readInt32(n),i=t.readAt(n-r,r);return vo.decode(i)}_readNextMessageAndValidate(t){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(t)}return null}}class Pb extends xl{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(t,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(t instanceof Al?t:new Al(t,r),i)}isFile(){return!0}isAsync(){return!0}open(t){const n=Object.create(null,{open:{get:()=>super.open}});return H(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,t)})}readRecordBatch(t){return H(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(nt.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){return H(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(t);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(nt.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return H(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const n=t.size-R0,r=yield t.readInt32(n),i=yield t.readAt(n-r,r);return vo.decode(i)})}_readNextMessageAndValidate(t){return H(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(t)}return null})}}class zb extends Dl{constructor(t,n){super(t,n)}_loadVectors(t,n,r){return new ZE(n,t.nodes,t.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function D0(e,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:e.autoDestroy}function*Qp(e){const t=Ue.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Kp(e){return gn(this,arguments,function*(){const n=yield Y(Ue.from(e));try{if(!(yield Y(n.open({autoDestroy:!1}))).closed)do yield yield Y(n);while(!(yield Y(n.reset().open())).closed)}finally{yield Y(n.cancel())}})}function jb(e){return new Ol(new zb(e))}function $b(e){const t=e.peek(Lo+7&-8);return t&&t.byteLength>=4?Bf(t)?new A0(new F0(e.read())):new Ol(new Dl(e)):new Ol(new Dl(function*(){}()))}function Vb(e){return H(this,void 0,void 0,function*(){const t=yield e.peek(Lo+7&-8);return t&&t.byteLength>=4?Bf(t)?new A0(new F0(yield e.read())):new Fl(new xl(e)):new Fl(new xl(function(){return gn(this,arguments,function*(){})}()))})}function Wb(e){return H(this,void 0,void 0,function*(){const{size:t}=yield e.stat(),n=new Al(e,t);return t>=kb&&Bf(yield n.readAt(0,Lo+7&-8))?new Ub(new Pb(n)):new Fl(new xl(n))})}class Tt extends Q{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof fe?s.data.children:s.data),r=new Tt;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof rt)return this.visitMany(t.data),this;const{type:n}=t;if(!D.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(D.isUnion(n))this.nodes.push(new Rr(r,0));else{const{nullCount:i}=t;D.isNull(n)||Ze.call(this,i<=0?new Uint8Array(0):Il(t.offset,r,t.nullBitmap)),this.nodes.push(new Rr(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ze(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new vn(this._byteLength,t)),this._byteLength+=t,this}function Hb(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Ze.call(this,i),n.mode===Xt.Sparse)return cd.call(this,e);if(n.mode===Xt.Dense){if(e.offset<=0)return Ze.call(this,s),cd.call(this,e);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,d=-1;++d<r;)(u=i[d])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[d]),o[d]=s[d]-c,l[u]=((t=l[u])!==null&&t!==void 0?t:0)+1);Ze.call(this,o),this.visitMany(e.children.map((u,c)=>{const d=n.typeIds[c],p=a[d],g=l[d];return u.slice(p,Math.min(r,g))}))}}return this}function qb(e){let t;return e.nullCount>=e.length?Ze.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Ze.call(this,Il(e.offset,e.length,t)):Ze.call(this,El(e.values))}function Yn(e){return Ze.call(this,e.values.subarray(0,e.length*e.stride))}function au(e){const{length:t,values:n,valueOffsets:r}=e,i=dt(r[0]),s=dt(r[t]),o=Math.min(s-i,n.byteLength-i);return Ze.call(this,kg(-i,t+1,r)),Ze.call(this,n.subarray(i,i+o)),this}function Cf(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Ze.call(this,kg(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function cd(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Tt.prototype.visitBool=qb;Tt.prototype.visitInt=Yn;Tt.prototype.visitFloat=Yn;Tt.prototype.visitUtf8=au;Tt.prototype.visitLargeUtf8=au;Tt.prototype.visitBinary=au;Tt.prototype.visitLargeBinary=au;Tt.prototype.visitFixedSizeBinary=Yn;Tt.prototype.visitDate=Yn;Tt.prototype.visitTimestamp=Yn;Tt.prototype.visitTime=Yn;Tt.prototype.visitDecimal=Yn;Tt.prototype.visitList=Cf;Tt.prototype.visitStruct=cd;Tt.prototype.visitUnion=Hb;Tt.prototype.visitInterval=Yn;Tt.prototype.visitDuration=Yn;Tt.prototype.visitFixedSizeList=Cf;Tt.prototype.visitMap=Cf;class x0 extends Nf{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new Ia,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,ge(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return ei(t)?t.then(n=>this.writeAll(n)):hs(t)?Pf(this,t):Uf(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof Ia?this._sink=t:(this._sink=new Ia,t&&EI(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&bI(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!ld(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Nr&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof fe&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!ld(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof fe?t instanceof Df||this._writeRecordBatch(t):t instanceof Nr?this.writeAll(t.batches):Oo(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=ee.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===nt.RecordBatch?this._recordBatchBlocks.push(new br(a,t.bodyLength,this._position)):t.headerType===nt.DictionaryBatch&&this._dictionaryBlocks.push(new br(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=X(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(ee.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(_o)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Tt.assemble(t),o=new Te(t.numRows,r,i),a=ee.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Tt.assemble(new rt([t])),l=new Te(t.length,s,o),u=new bn(l,n,r),c=ee.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){var n,r;for(const[i,s]of t.dictionaries){const o=(n=s==null?void 0:s.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,c]of o.entries())this._writeDictionaryBatch(c,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class Mf extends x0{static writeAll(t,n){const r=new Mf(n);return ei(t)?t.then(i=>r.writeAll(i)):hs(t)?Pf(r,t):Uf(r,t)}}class kf extends x0{static writeAll(t){const n=new kf;return ei(t)?t.then(r=>n.writeAll(r)):hs(t)?Pf(n,t):Uf(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(t,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(t,n,r)}_writeFooter(t){const n=vo.encode(new vo(t,Ft.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Uf(e,t){let n=t;t instanceof Nr&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function Pf(e,t){return H(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Gr(t);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;e.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function Yb(e,t="stream"){return(t==="stream"?Mf:kf).writeAll(e).toUint8Array(!0)}var Gb=Object.create,L0=Object.defineProperty,Qb=Object.getOwnPropertyDescriptor,Kb=Object.getOwnPropertyNames,Jb=Object.getPrototypeOf,Xb=Object.prototype.hasOwnProperty,Zb=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tT=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kb(t))!Xb.call(e,i)&&i!==n&&L0(e,i,{get:()=>t[i],enumerable:!(r=Qb(t,i))||r.enumerable});return e},eT=(e,t,n)=>(n=e!=null?Gb(Jb(e)):{},tT(!e||!e.__esModule?L0(n,"default",{value:e,enumerable:!0}):n,e)),nT=Zb((e,t)=>{t.exports=Worker}),rT=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.AUTOMATIC=1]="AUTOMATIC",e[e.READ_ONLY=2]="READ_ONLY",e[e.READ_WRITE=3]="READ_WRITE",e))(rT||{}),iT=(e=>(e[e.IDENTIFIER=0]="IDENTIFIER",e[e.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",e[e.STRING_CONSTANT=2]="STRING_CONSTANT",e[e.OPERATOR=3]="OPERATOR",e[e.KEYWORD=4]="KEYWORD",e[e.COMMENT=5]="COMMENT",e))(iT||{}),sT=(e=>(e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e))(sT||{}),oT=(e=>(e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY",e[e.INSTANTIATE=5]="INSTANTIATE",e))(oT||{}),aT=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(aT||{}),lT=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(lT||{}),NO=class{log(e){}},uT=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},cT=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",e[e.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",e))(cT||{}),dT=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=Ue.from(t);return console.assert(n.isSync(),"Reader is not sync"),console.assert(n.isFile(),"Reader is not file"),new Nr(n)}async send(e,t=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.startPendingQuery(this._conn,e,t);for(;n==null;){if(this._bindings.isDetached()){console.error("cannot send a message since the worker is not set!");return}n=await this._bindings.pollPendingQuery(this._conn)}let r=new B0(this._bindings,this._conn,n),i=await Ue.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new fT(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=Yb(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},B0=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=null;for(this._inFlight!=null&&(e=await this._inFlight,this._inFlight=null);e==null;)e=await this.db.fetchQueryResults(this.conn);return this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},fT=class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=Ue.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new Nr(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new B0(this.bindings,this.connectionId,t),r=await Ue.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},hT=(e=>(e.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",e.CLOSE_PREPARED="CLOSE_PREPARED",e.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",e.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",e.CONNECT="CONNECT",e.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",e.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",e.CREATE_PREPARED="CREATE_PREPARED",e.DISCONNECT="DISCONNECT",e.DROP_FILE="DROP_FILE",e.DROP_FILES="DROP_FILES",e.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",e.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",e.FLUSH_FILES="FLUSH_FILES",e.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",e.GET_TABLE_NAMES="GET_TABLE_NAMES",e.GET_VERSION="GET_VERSION",e.GLOB_FILE_INFOS="GLOB_FILE_INFOS",e.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",e.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",e.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",e.INSTANTIATE="INSTANTIATE",e.OPEN="OPEN",e.PING="PING",e.POLL_PENDING_QUERY="POLL_PENDING_QUERY",e.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",e.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",e.REGISTER_FILE_URL="REGISTER_FILE_URL",e.RESET="RESET",e.RUN_PREPARED="RUN_PREPARED",e.RUN_QUERY="RUN_QUERY",e.SEND_PREPARED="SEND_PREPARED",e.START_PENDING_QUERY="START_PENDING_QUERY",e.TOKENIZE="TOKENIZE",e))(hT||{}),pT=(e=>(e.CONNECTION_INFO="CONNECTION_INFO",e.ERROR="ERROR",e.FEATURE_FLAGS="FEATURE_FLAGS",e.FILE_BUFFER="FILE_BUFFER",e.FILE_INFOS="FILE_INFOS",e.FILE_SIZE="FILE_SIZE",e.FILE_STATISTICS="FILE_STATISTICS",e.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",e.LOG="LOG",e.PROGRESS_UPDATE="PROGRESS_UPDATE",e.OK="OK",e.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",e.QUERY_PLAN="QUERY_PLAN",e.QUERY_RESULT="QUERY_RESULT",e.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",e.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",e.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",e.REGISTERED_FILE="REGISTERED_FILE",e.SCRIPT_TOKENS="SCRIPT_TOKENS",e.SUCCESS="SUCCESS",e.TABLE_NAMES="TABLE_NAMES",e.VERSION_STRING="VERSION_STRING",e))(pT||{}),tt=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise((n,r)=>{this.promiseResolver=n,this.promiseRejecter=r})}};function Ta(e){switch(e.typeId){case h.Binary:return{sqlType:"binary"};case h.Bool:return{sqlType:"bool"};case h.Date:return{sqlType:"date"};case h.DateDay:return{sqlType:"date32[d]"};case h.DateMillisecond:return{sqlType:"date64[ms]"};case h.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case h.Float:return{sqlType:"float"};case h.Float16:return{sqlType:"float16"};case h.Float32:return{sqlType:"float32"};case h.Float64:return{sqlType:"float64"};case h.Int:return{sqlType:"int32"};case h.Int16:return{sqlType:"int16"};case h.Int32:return{sqlType:"int32"};case h.Int64:return{sqlType:"int64"};case h.Uint16:return{sqlType:"uint16"};case h.Uint32:return{sqlType:"uint32"};case h.Uint64:return{sqlType:"uint64"};case h.Uint8:return{sqlType:"uint8"};case h.IntervalDayTime:return{sqlType:"interval[dt]"};case h.IntervalYearMonth:return{sqlType:"interval[m]"};case h.List:return{sqlType:"list",valueType:Ta(e.valueType)};case h.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case h.Null:return{sqlType:"null"};case h.Utf8:return{sqlType:"utf8"};case h.Struct:return{sqlType:"struct",fields:e.children.map(t=>dd(t.name,t.type))};case h.Map:{let t=e;return{sqlType:"map",keyType:Ta(t.keyType),valueType:Ta(t.valueType)}}case h.Time:return{sqlType:"time[s]"};case h.TimeMicrosecond:return{sqlType:"time[us]"};case h.TimeMillisecond:return{sqlType:"time[ms]"};case h.TimeNanosecond:return{sqlType:"time[ns]"};case h.TimeSecond:return{sqlType:"time[s]"};case h.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case h.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case h.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case h.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case h.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(e.toString()))}function dd(e,t){let n=Ta(t);return n.name=e,n}var yT=/'(opfs:\/\/\S*?)'/g,mT=/(opfs:\/\/\S*?)/g;function gT(e){return e.search(mT)>-1}function vT(e){return[...e.matchAll(yT)].map(t=>t[1])}var _T=new TextEncoder,wT=class{constructor(e,t=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._config={},this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}get config(){return this._config}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,n)=>{this._workerShutdownResolver=t})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!:"+e.type+","+e.data);return}let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){var t;let n=e.data;switch(n.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(n.data);return}case"LOG":{this._logger.log(n.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(n.data);return}}let r=this._pendingRequests.get(n.requestId);if(!r){console.warn("unassociated response: [".concat(n.requestId,", ").concat(n.type.toString(),"]"));return}if(this._pendingRequests.delete(n.requestId),n.type=="ERROR"){let i=new Error(n.data.message);i.name=n.data.name,(t=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&t.writable&&(i.stack=n.data.stack),r.promiseRejecter(i);return}switch(r.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(n.type=="OK"){r.promiseResolver(n.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],n.type=="OK"){r.promiseResolver(n.data);return}break;case"GLOB_FILE_INFOS":if(n.type=="FILE_INFOS"){r.promiseResolver(n.data);return}break;case"GET_VERSION":if(n.type=="VERSION_STRING"){r.promiseResolver(n.data);return}break;case"GET_FEATURE_FLAGS":if(n.type=="FEATURE_FLAGS"){r.promiseResolver(n.data);return}break;case"GET_TABLE_NAMES":if(n.type=="TABLE_NAMES"){r.promiseResolver(n.data);return}break;case"TOKENIZE":if(n.type=="SCRIPT_TOKENS"){r.promiseResolver(n.data);return}break;case"COPY_FILE_TO_BUFFER":if(n.type=="FILE_BUFFER"){r.promiseResolver(n.data);return}break;case"EXPORT_FILE_STATISTICS":if(n.type=="FILE_STATISTICS"){r.promiseResolver(n.data);return}break;case"CONNECT":if(n.type=="CONNECTION_INFO"){r.promiseResolver(n.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(n.type=="QUERY_RESULT"){r.promiseResolver(n.data);return}break;case"SEND_PREPARED":if(n.type=="QUERY_RESULT_HEADER"){r.promiseResolver(n.data);return}break;case"START_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"POLL_PENDING_QUERY":if(n.type=="QUERY_RESULT_HEADER_OR_NULL"){r.promiseResolver(n.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],n.type=="SUCCESS"){r.promiseResolver(n.data);return}break;case"FETCH_QUERY_RESULTS":if(n.type=="QUERY_RESULT_CHUNK"){r.promiseResolver(n.data);return}break;case"CREATE_PREPARED":if(n.type=="PREPARED_STATEMENT_ID"){r.promiseResolver(n.data);return}break}r.promiseRejecter(new Error("unexpected response type: ".concat(n.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}isDetached(){return!this._worker}async reset(){let e=new tt("RESET",null);return await this.postTask(e)}async ping(){let e=new tt("PING",null);await this.postTask(e)}async dropFile(e){let t=new tt("DROP_FILE",e);return await this.postTask(t)}async dropFiles(e){let t=new tt("DROP_FILES",e);return await this.postTask(t)}async flushFiles(){let e=new tt("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=r=>{}){this._onInstantiationProgress.push(n);let r=new tt("INSTANTIATE",[e,t]);return await this.postTask(r)}async getVersion(){let e=new tt("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new tt("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){this._config=e;let t=new tt("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new tt("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new tt("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new dT(this,e)}async disconnect(e){let t=new tt("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){if(this.shouldOPFSFileHandling()){let n=await this.registerOPFSFileFromSQL(t);try{return await this._runQueryAsync(e,t)}finally{n.length>0&&await this.dropFiles(n)}}else return await this._runQueryAsync(e,t)}async _runQueryAsync(e,t){let n=new tt("RUN_QUERY",[e,t]);return await this.postTask(n)}async startPendingQuery(e,t,n=!1){if(this.shouldOPFSFileHandling()){let r=await this.registerOPFSFileFromSQL(t);try{return await this._startPendingQueryAsync(e,t,n)}finally{r.length>0&&await this.dropFiles(r)}}else return await this._startPendingQueryAsync(e,t,n)}async _startPendingQueryAsync(e,t,n=!1){let r=new tt("START_PENDING_QUERY",[e,t,n]);return await this.postTask(r)}async pollPendingQuery(e){let t=new tt("POLL_PENDING_QUERY",e);return await this.postTask(t)}async cancelPendingQuery(e){let t=new tt("CANCEL_PENDING_QUERY",e);return await this.postTask(t)}async fetchQueryResults(e){let t=new tt("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new tt("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new tt("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new tt("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let r=new tt("RUN_PREPARED",[e,t,n]);return await this.postTask(r)}async sendPrepared(e,t,n){let r=new tt("SEND_PREPARED",[e,t,n]);return await this.postTask(r)}async globFiles(e){let t=new tt("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=_T.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t,n,r){t===void 0&&(t=e);let i=new tt("REGISTER_FILE_URL",[e,t,n,r]);await this.postTask(i)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,t){let n=new tt("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t,n,r){let i=new tt("REGISTER_FILE_HANDLE",[e,t,n,r]);await this.postTask(i,[])}async registerOPFSFileName(e){let t=new tt("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(t,[])}async collectFileStatistics(e,t){let n=new tt("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new tt("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new tt("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new tt("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(t.length==0)return;let r=new tt("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(r,[t.buffer])}async insertCSVFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(dd(s,o))}n.columnsFlat=i,delete n.columns}let r=new tt("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(r)}async insertJSONFromPath(e,t,n){if(n.columns!==void 0){let i=[];for(let s in n.columns){let o=n.columns[s];i.push(dd(s,o))}n.columnsFlat=i,delete n.columns}let r=new tt("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(r)}shouldOPFSFileHandling(){var e,t;return gT((e=this.config.path)!=null?e:"")?((t=this.config.opfs)==null?void 0:t.fileHandling)=="auto":!1}async registerOPFSFileFromSQL(e){let t=vT(e),n=[];for(let r of t)try{await this.registerOPFSFileName(r),n.push(r)}catch(i){throw console.error(i),new Error("File Not found:"+r)}return n}};function ST(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}ST();var IT=(e=>(e[e.BUFFER=0]="BUFFER",e[e.NODE_FS=1]="NODE_FS",e[e.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",e[e.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",e[e.HTTP=4]="HTTP",e[e.S3=5]="S3",e))(IT||{}),ET=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),bT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),TT=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),NT=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),zf={name:"@duckdb/duckdb-wasm",version:"1.32.0"},RT=zf.name,AT=zf.version,jf=zf.version.split(".");jf[0];jf[1];jf[2];var OT=()=>typeof navigator>"u";function FT(){let e="https://cdn.jsdelivr.net/npm/".concat(RT,"@").concat(AT,"/dist/");return{mvp:{mainModule:"".concat(e,"duckdb-mvp.wasm"),mainWorker:"".concat(e,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(e,"duckdb-eh.wasm"),mainWorker:"".concat(e,"duckdb-browser-eh.worker.js")}}}var Xu=null,Zu=null,tc=null,ec=null,nc=null;async function DT(){return Xu==null&&(Xu=typeof BigInt64Array<"u"),Zu==null&&(Zu=await bT()),tc==null&&(tc=await NT()),ec==null&&(ec=await TT()),nc==null&&(nc=await ET()),{bigInt64Array:Xu,crossOriginIsolated:OT()||globalThis.crossOriginIsolated||!1,wasmExceptions:Zu,wasmSIMD:ec,wasmThreads:tc,wasmBulkMemory:nc}}async function xT(e){let t=await DT();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}var LT=eT(nT());async function BT(e){let t=new Request(e),n=await fetch(t),r=URL.createObjectURL(await n.blob());return new LT.default(r)}const C0=Uint8Array.of(65,82,82,79,87,49),lu={V1:0,V4:3,V5:4},dr={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},I={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},M0={HALF:0,SINGLE:1,DOUBLE:2},Ll={DAY:0,MILLISECOND:1},Pe={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},Qi={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},$f={Sparse:0,Dense:1},CT=Uint8Array,k0=Uint16Array,MT=Uint32Array,U0=BigUint64Array,P0=Int8Array,kT=Int16Array,Tn=Int32Array,Nn=BigInt64Array,UT=Float32Array,uu=Float64Array;function PT(e,t){const n=Math.log2(e)-3;return(t?[P0,kT,Tn,Nn]:[CT,k0,MT,U0])[n]}function Vf(e,t){let n=0,r=e.length;if(r<=2147483648)do{const i=n+r>>>1;e[i]<=t?n=i+1:r=i}while(n<r);else do{const i=Math.trunc((n+r)/2);e[i]<=t?n=i+1:r=i}while(n<r);return n}function Wf(e,t,n){if(t(e))return e;throw new Error(n(e))}function en(e,t,n){return t=Array.isArray(t)?t:Object.values(t),Wf(e,r=>t.includes(r),n??(()=>`${e} must be one of ${t}`))}function z0(e,t){for(const[n,r]of Object.entries(e))if(r===t)return n;return"<Unknown>"}const Hf=e=>`Unsupported data type: "${z0(I,e)}" (id ${e})`,j0=(e,t,n=!0,r=null)=>({name:e,type:t,nullable:n,metadata:r});function $0(e){return Object.hasOwn(e,"name")&&V0(e.type)}function V0(e){return typeof(e==null?void 0:e.typeId)=="number"}function Ar(e,t="",n=!0){return $0(e)?e:j0(t,Wf(e,V0,()=>"Data type expected."),n)}const zT=(e,t,n=!1,r=-1)=>({typeId:I.Dictionary,id:r,dictionary:e,indices:t||H0(),ordered:n}),W0=(e=32,t=!0)=>({typeId:I.Int,bitWidth:en(e,[8,16,32,64]),signed:t,values:PT(e,t)}),H0=()=>W0(32),jT=(e=2)=>({typeId:I.Float,precision:en(e,M0),values:[k0,UT,uu][e]}),$T=()=>({typeId:I.Binary,offsets:Tn}),VT=()=>({typeId:I.Utf8,offsets:Tn}),WT=(e,t,n=128)=>({typeId:I.Decimal,precision:e,scale:t,bitWidth:en(n,[128,256]),values:U0}),HT=e=>({typeId:I.Date,unit:en(e,Ll),values:e===Ll.DAY?Tn:Nn}),qT=(e=Pe.MILLISECOND,t=32)=>({typeId:I.Time,unit:en(e,Pe),bitWidth:en(t,[32,64]),values:t===32?Tn:Nn}),YT=(e=Pe.MILLISECOND,t=null)=>({typeId:I.Timestamp,unit:en(e,Pe),timezone:t,values:Nn}),GT=(e=Qi.MONTH_DAY_NANO)=>({typeId:I.Interval,unit:en(e,Qi),values:e===Qi.MONTH_DAY_NANO?void 0:Tn}),QT=e=>({typeId:I.List,children:[Ar(e)],offsets:Tn}),KT=e=>({typeId:I.Struct,children:Array.isArray(e)&&$0(e[0])?e:Object.entries(e).map(([t,n])=>j0(t,n))}),JT=(e,t,n,r)=>(n??(n=t.map((i,s)=>s)),{typeId:I.Union,mode:en(e,$f),typeIds:n,typeMap:n.reduce((i,s,o)=>(i[s]=o,i),{}),children:t.map((i,s)=>Ar(i,`_${s}`)),typeIdForValue:r,offsets:Tn}),XT=e=>({typeId:I.FixedSizeBinary,stride:e}),ZT=(e,t)=>({typeId:I.FixedSizeList,stride:t,children:[Ar(e)]}),tN=(e,t)=>({typeId:I.Map,keysSorted:e,children:[t],offsets:Tn}),eN=(e=Pe.MILLISECOND)=>({typeId:I.Duration,unit:en(e,Pe),values:Nn}),nN=()=>({typeId:I.LargeBinary,offsets:Nn}),rN=()=>({typeId:I.LargeUtf8,offsets:Nn}),iN=e=>({typeId:I.LargeList,children:[Ar(e)],offsets:Nn}),sN=(e,t)=>({typeId:I.RunEndEncoded,children:[Wf(Ar(e,"run_ends"),n=>n.type.typeId===I.Int,()=>"Run-ends must have an integer type."),Ar(t,"values")]}),oN=e=>({typeId:I.ListView,children:[Ar(e,"value")],offsets:Tn}),aN=e=>({typeId:I.LargeListView,children:[Ar(e,"value")],offsets:Nn}),lN=new uu(2),uN=lN.buffer;new Nn(uN);function Or(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${e}`);return Number(e)}function qf(e,t){return Number(e/t)+Number(e%t)/Number(t)}const ki=e=>BigInt.asUintN(64,e);function cN(e,t){const n=t<<1;let r;return BigInt.asIntN(64,e[n+1])<0?(r=ki(~e[n])|ki(~e[n+1])<<64n,r=-(r+1n)):r=e[n]|e[n+1]<<64n,r}function dN(e,t){const n=t<<2;let r;return BigInt.asIntN(64,e[n+3])<0?(r=ki(~e[n])|ki(~e[n+1])<<64n|ki(~e[n+2])<<128n|ki(~e[n+3])<<192n,r=-(r+1n)):r=e[n]|e[n+1]<<64n|e[n+2]<<128n|e[n+3]<<192n,r}const fN=new TextDecoder("utf-8");new TextEncoder;function cu(e){return fN.decode(e)}const wo=4;function q0(e,t){return(e[t>>3]&1<<t%8)!==0}function Gn(e,t){const n=t+vt(e,t),r=n-vt(e,n),i=Fe(e,r);return(s,o,a=null)=>{if(s<i){const l=Fe(e,r+s);if(l)return o(e,n+l)}return a}}function Wr(e,t){return t}function So(e,t){return!!hN(e,t)}function hN(e,t){return Yf(e,t)<<24>>24}function Yf(e,t){return e[t]}function Fe(e,t){return pN(e,t)<<16>>16}function pN(e,t){return e[t]|e[t+1]<<8}function vt(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Jp(e,t){return vt(e,t)>>>0}function Ce(e,t){return Or(BigInt.asIntN(64,BigInt(Jp(e,t))+(BigInt(Jp(e,t+wo))<<32n)))}function Bl(e,t){let n=t+vt(e,t);const r=vt(e,n);return n+=wo,cu(e.subarray(n,n+r))}function wr(e,t,n,r){if(!t)return[];const i=t+vt(e,t);return Array.from({length:vt(e,i)},(s,o)=>r(e,i+wo+o*n))}const rc=Symbol("rowIndex");function fd(e,t){class n{constructor(s){this[rc]=s}toJSON(){return G0(e,t,this[rc])}}const r=n.prototype;for(let i=0;i<e.length;++i){if(Object.hasOwn(r,e[i]))continue;const s=t[i];Object.defineProperty(r,e[i],{get(){return s.at(this[rc])},enumerable:!0})}return i=>new n(i)}function Y0(e,t){return n=>G0(e,t,n)}function G0(e,t,n){const r={};for(let i=0;i<e.length;++i)r[e[i]]=t[i].at(n);return r}function yN(e){return e instanceof Na}class Bo{constructor({length:t,nullCount:n,type:r,validity:i,values:s,offsets:o,sizes:a,children:l}){this.length=t,this.nullCount=n,this.type=r,this.validity=i,this.values=s,this.offsets=o,this.sizes=a,this.children=l,(!n||!this.validity)&&(this.at=u=>this.value(u))}get[Symbol.toStringTag](){return"Batch"}at(t){return this.isValid(t)?this.value(t):null}isValid(t){return q0(this.validity,t)}value(t){return this.values[t]}slice(t,n){const r=n-t,i=Array(r);for(let s=0;s<r;++s)i[s]=this.at(t+s);return i}*[Symbol.iterator](){for(let t=0;t<this.length;++t)yield this.at(t)}}Jn(Bo,"ArrayType",null);class Na extends Bo{constructor(t){super(t);const{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(t,n){return this.nullCount?super.slice(t,n):this.values.subarray(t,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}}class du extends Bo{}Jn(du,"ArrayType",uu);class Rt extends Bo{}Jn(Rt,"ArrayType",Array);class mN extends Rt{value(t){return null}}class ys extends du{value(t){return Or(this.values[t])}}class gN extends du{value(t){const n=this.values[t],r=(n&31744)>>10,i=(n&1023)/1024,s=(-1)**((n&32768)>>15);switch(r){case 31:return s*(i?Number.NaN:1/0);case 0:return s*(i?6103515625e-14*i:0)}return s*2**(r-15)*(1+i)}}class vN extends Rt{value(t){return q0(this.values,t)}}class Q0 extends Bo{constructor(t){super(t);const{bitWidth:n,scale:r}=this.type;this.decimal=n===128?cN:dN,this.scale=10n**BigInt(r)}}class K0 extends Q0{value(t){return qf(this.decimal(this.values,t),this.scale)}}Jn(K0,"ArrayType",uu);class J0 extends Q0{value(t){return this.decimal(this.values,t)}}Jn(J0,"ArrayType",Array);class Xp extends Rt{constructor(t){super(t),this.source=t}value(t){return new Date(this.source.value(t))}}class _N extends du{value(t){return 864e5*this.values[t]}}const wN=ys;class SN extends ys{value(t){return super.value(t)*1e3}}const IN=ys;class EN extends ys{value(t){return qf(this.values[t],1000n)}}class bN extends ys{value(t){return qf(this.values[t],1000000n)}}class TN extends Rt{value(t){return this.values.subarray(t<<1,t+1<<1)}}class NN extends Rt{value(t){const n=this.values,r=t<<4;return Float64Array.of(vt(n,r),vt(n,r+4),Ce(n,r+8))}}const X0=({values:e,offsets:t},n)=>e.subarray(t[n],t[n+1]),Z0=({values:e,offsets:t},n)=>e.subarray(Or(t[n]),Or(t[n+1]));class RN extends Rt{value(t){return X0(this,t)}}class AN extends Rt{value(t){return Z0(this,t)}}class ON extends Rt{value(t){return cu(X0(this,t))}}class FN extends Rt{value(t){return cu(Z0(this,t))}}class DN extends Rt{value(t){const n=this.offsets;return this.children[0].slice(n[t],n[t+1])}}class xN extends Rt{value(t){const n=this.offsets;return this.children[0].slice(Or(n[t]),Or(n[t+1]))}}class LN extends Rt{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(n,r)}}class BN extends Rt{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(Or(n),Or(r))}}class t_ extends Rt{constructor(t){super(t),this.stride=this.type.stride}}class CN extends t_{value(t){const{stride:n,values:r}=this;return r.subarray(t*n,(t+1)*n)}}class MN extends t_{value(t){const{children:n,stride:r}=this;return n[0].slice(t*r,(t+1)*r)}}function e_({children:e,offsets:t},n){const[r,i]=e[0].children,s=t[n],o=t[n+1],a=[];for(let l=s;l<o;++l)a.push([r.at(l),i.at(l)]);return a}class kN extends Rt{value(t){return e_(this,t)}}class UN extends Rt{value(t){return new Map(e_(this,t))}}class n_ extends Rt{constructor({typeIds:t,...n}){super(n),this.typeIds=t,this.typeMap=this.type.typeMap}value(t,n=t){const{typeIds:r,children:i,typeMap:s}=this;return i[s[r[t]]].at(n)}}class PN extends n_{value(t){return super.value(t,this.offsets[t])}}class r_ extends Rt{constructor(t,n=Y0){super(t),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(t){return this.factory(t)}}class zN extends r_{constructor(t){super(t,fd)}}class jN extends Rt{value(t){const[{values:n},r]=this.children;return r.at(Vf(n,t))}}class $N extends Rt{setDictionary(t){return this.dictionary=t,this.cache=t.cache(),this}value(t){return this.cache[this.key(t)]}key(t){return this.values[t]}}class i_ extends Rt{constructor({data:t,...n}){super(n),this.data=t}view(t){const{values:n,data:r}=this,i=t<<4;let s=i+4,o=n;const a=vt(o,i);return a>12&&(s=vt(o,i+12),o=r[vt(o,i+8)]),o.subarray(s,s+a)}}class VN extends i_{value(t){return this.view(t)}}class WN extends i_{value(t){return cu(this.view(t))}}function Zp(e){let t=[];return{add(n){return t.push(n),this},clear:()=>t=[],done:()=>new HN(t,e)}}class HN{constructor(t,n=(r=>(r=t[0])==null?void 0:r.type)()){this.type=n,this.length=t.reduce((o,a)=>o+a.length,0),this.nullCount=t.reduce((o,a)=>o+a.nullCount,0),this.data=t;const i=t.length,s=new Int32Array(i+1);if(i===1){const[o]=t;s[1]=o.length,this.at=a=>o.at(a)}else for(let o=0,a=0;o<i;++o)s[o+1]=a+=t[o].length;this.offsets=s}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){const t=this.data;return t.length===1?t[0][Symbol.iterator]():qN(t)}at(t){var s;const{data:n,offsets:r}=this,i=Vf(r,t)-1;return(s=n[i])==null?void 0:s.at(t-r[i])}get(t){return this.at(t)}toArray(){const{length:t,nullCount:n,data:r}=this,i=!n&&yN(r[0]),s=r.length;if(i&&s===1)return r[0].values;const o=!s||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new o(t);return i?YN(a,r):GN(a,r)}cache(){return this._cache??(this._cache=this.toArray())}}function*qN(e){for(let t=0;t<e.length;++t){const n=e[t][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function YN(e,t){for(let n=0,r=0;n<t.length;++n){const{values:i}=t[n];e.set(i,r),r+=i.length}return e}function GN(e,t){let n=-1;for(let r=0;r<t.length;++r){const i=t[r];for(let s=0;s<i.length;++s)e[++n]=i.at(s)}return e}class Gf{constructor(t,n,r=!1){const i=t.fields.map(o=>o.name);this.schema=t,this.names=i,this.children=n,this.factory=r?fd:Y0;const s=[];this.getFactory=o=>s[o]??(s[o]=this.factory(i,n.map(a=>a.data[o])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){var t;return((t=this.children[0])==null?void 0:t.length)??0}getChildAt(t){return this.children[t]}getChild(t){const n=this.names.findIndex(r=>r===t);return n>-1?this.children[n]:void 0}selectAt(t,n=[]){const{children:r,factory:i,schema:s}=this,{fields:o}=s;return new Gf({...s,fields:t.map((a,l)=>QN(o[a],n[l]))},t.map(a=>r[a]),i===fd)}select(t,n){const r=this.names,i=t.map(s=>r.indexOf(s));return this.selectAt(i,n)}toColumns(){const{children:t,names:n}=this,r={};return n.forEach((i,s)=>{var o;return r[i]=((o=t[s])==null?void 0:o.toArray())??[]}),r}toArray(){var o;const{children:t,getFactory:n,numRows:r}=this,i=((o=t[0])==null?void 0:o.data)??[],s=Array(r);for(let a=0,l=-1;a<i.length;++a){const u=n(a);for(let c=0;c<i[a].length;++c)s[++l]=u(c)}return s}*[Symbol.iterator](){var i;const{children:t,getFactory:n}=this,r=((i=t[0])==null?void 0:i.data)??[];for(let s=0;s<r.length;++s){const o=n(s);for(let a=0;a<r[s].length;++a)yield o(a)}}at(t){const{children:n,getFactory:r,numRows:i}=this;if(t<0||t>=i)return null;const[{offsets:s}]=n,o=Vf(s,t)-1;return r(o)(t-s[o])}get(t){return this.at(t)}}function QN(e,t){return t!=null&&t!==e.name?{...e,name:t}:e}function KN(e,t={}){const{typeId:n,bitWidth:r,precision:i,unit:s}=e,{useBigInt:o,useDate:a,useDecimalBigInt:l,useMap:u,useProxy:c}=t;switch(n){case I.Null:return mN;case I.Bool:return vN;case I.Int:case I.Time:case I.Duration:return o||r<64?Na:ys;case I.Float:return i?Na:gN;case I.Date:return ty(s===Ll.DAY?_N:wN,a&&Xp);case I.Timestamp:return ty(s===Pe.SECOND?SN:s===Pe.MILLISECOND?IN:s===Pe.MICROSECOND?EN:bN,a&&Xp);case I.Decimal:return l?J0:K0;case I.Interval:return s===Qi.DAY_TIME?TN:s===Qi.YEAR_MONTH?Na:NN;case I.FixedSizeBinary:return CN;case I.Utf8:return ON;case I.LargeUtf8:return FN;case I.Binary:return RN;case I.LargeBinary:return AN;case I.BinaryView:return VN;case I.Utf8View:return WN;case I.List:return DN;case I.LargeList:return xN;case I.Map:return u?UN:kN;case I.ListView:return LN;case I.LargeListView:return BN;case I.FixedSizeList:return MN;case I.Struct:return c?zN:r_;case I.RunEndEncoded:return jN;case I.Dictionary:return $N;case I.Union:return e.mode?PN:n_}throw new Error(Hf(n))}function ty(e,t){return t?class extends t{constructor(r){super(new e(r))}}:e}function JN(e,t){return{offset:Ce(e,t),metadataLength:vt(e,t+8),bodyLength:Ce(e,t+16)}}function ey(e,t){return wr(e,t,24,JN)}function s_(e,t,n){const r=Gn(e,t);if(r(10,Wr,0))throw new Error("Record batch compression not implemented");const i=n<lu.V4?8:0;return{length:r(4,Ce,0),nodes:wr(e,r(6,Wr),16,(s,o)=>({length:Ce(s,o),nullCount:Ce(s,o+8)})),regions:wr(e,r(8,Wr),16+i,(s,o)=>({offset:Ce(s,o+i),length:Ce(s,o+i+8)})),variadic:wr(e,r(12,Wr),8,Ce)}}function XN(e,t,n){const r=Gn(e,t);return{id:r(4,Ce,0),data:r(6,(i,s)=>s_(i,s,n)),isDelta:r(8,So,!1)}}function o_(e,t,n,r){en(n,I,Hf);const i=Gn(e,t);switch(n){case I.Binary:return $T();case I.Utf8:return VT();case I.LargeBinary:return nN();case I.LargeUtf8:return rN();case I.List:return QT(r[0]);case I.ListView:return oN(r[0]);case I.LargeList:return iN(r[0]);case I.LargeListView:return aN(r[0]);case I.Struct:return KT(r);case I.RunEndEncoded:return sN(r[0],r[1]);case I.Int:return W0(i(4,vt,0),i(6,So,!1));case I.Float:return jT(i(4,Fe,M0.HALF));case I.Decimal:return WT(i(4,vt,0),i(6,vt,0),i(8,vt,128));case I.Date:return HT(i(4,Fe,Ll.MILLISECOND));case I.Time:return qT(i(4,Fe,Pe.MILLISECOND),i(6,vt,32));case I.Timestamp:return YT(i(4,Fe,Pe.SECOND),i(6,Bl));case I.Interval:return GT(i(4,Fe,Qi.YEAR_MONTH));case I.Duration:return eN(i(4,Fe,Pe.MILLISECOND));case I.FixedSizeBinary:return XT(i(4,vt,0));case I.FixedSizeList:return ZT(r[0],i(4,vt,0));case I.Map:return tN(i(4,So,!1),r[0]);case I.Union:return JT(i(4,Fe,$f.Sparse),r,wr(e,i(6,Wr),4,vt))}return{typeId:n}}function Qf(e,t){const n=wr(e,t,4,(r,i)=>{const s=Gn(r,i);return[s(4,Bl),s(6,Bl)]});return n.length?new Map(n):null}function a_(e,t,n){const r=Gn(e,t);return{version:n,endianness:r(4,Fe,0),fields:r(6,ZN,[]),metadata:r(8,Qf)}}function ZN(e,t){return wr(e,t,4,l_)}function l_(e,t){const n=Gn(e,t),r=n(8,Yf,I.NONE),i=n(10,Wr,0),s=n(12,eR),o=n(14,(l,u)=>tR(l,u));let a=o_(e,i,r,o);return s&&(s.dictionary=a,a=s),{name:n(4,Bl),type:a,nullable:n(6,So,!1),metadata:n(16,Qf)}}function tR(e,t){const n=wr(e,t,4,l_);return n.length?n:null}function eR(e,t){if(!t)return null;const n=Gn(e,t);return zT(null,n(6,nR,H0()),n(8,So,!1),n(4,Ce,0))}function nR(e,t){return o_(e,t,I.Int)}const rR=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,iR=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,sR=e=>`Unsupported message type: ${e} (${z0(dr,e)})`;function hd(e,t){let n=vt(e,t)||0;if(t+=wo,n===-1&&(n=vt(e,t)||0,t+=wo),n===0)return null;const r=e.subarray(t,t+=n);if(r.byteLength<n)throw new Error(rR(n,r.byteLength));const i=Gn(r,0),s=i(4,Fe,lu.V1),o=i(6,Yf,dr.NONE),a=i(8,Wr,0),l=i(10,Ce,0);let u;if(a){const c=o===dr.Schema?a_:o===dr.DictionaryBatch?XN:o===dr.RecordBatch?s_:null;if(!c)throw new Error(sR(o));if(u=c(r,a,s),l>0){const d=e.subarray(t,t+=l);if(d.byteLength<l)throw new Error(iR(l,d.byteLength));u.body=d}}return{version:s,type:o,index:t,content:u}}function oR(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):e;return t instanceof Uint8Array&&aR(t)?uR(t):lR(t)}function aR(e){if(!e||e.length<4)return!1;for(let t=0;t<6;++t)if(C0[t]!==e[t])return!1;return!0}function lR(e){const t=[e].flat();let n;const r=[],i=[];for(const s of t){if(!(s instanceof Uint8Array))throw new Error("IPC data batch was not a Uint8Array.");let o=0;for(;;){const a=hd(s,o);if(a===null)break;if(o=a.index,!!a.content)switch(a.type){case dr.Schema:n||(n=a.content);break;case dr.RecordBatch:r.push(a.content);break;case dr.DictionaryBatch:i.push(a.content);break}}}return{schema:n,dictionaries:i,records:r,metadata:null}}function uR(e){const t=e.byteLength-(C0.length+4),n=vt(e,t),r=Gn(e,t-n),i=r(4,Fe,lu.V1),s=r(8,ey,[]),o=r(10,ey,[]);return{schema:r(6,(a,l)=>a_(a,l,i)),dictionaries:s.map(({offset:a})=>hd(e,a).content),records:o.map(({offset:a})=>hd(e,a).content),metadata:r(12,Qf)}}function cR(e,t){return dR(oR(e),t)}function dR(e,t={}){const{schema:n={fields:[]},dictionaries:r,records:i}=e,{version:s,fields:o}=n,a=new Map,l=hR(t,s,a),u=new Map;fR(n,p=>{const g=p.type;g.typeId===I.Dictionary&&u.set(g.id,g.dictionary)});const c=new Map;for(const p of r){const{id:g,data:v,isDelta:_,body:O}=p,m=u.get(g),f=pd(m,l({...v,body:O}));if(c.has(g)){const y=c.get(g);_||y.clear(),y.add(f)}else{if(_)throw new Error("Delta update can not be first dictionary batch.");c.set(g,Zp(m).add(f))}}c.forEach((p,g)=>a.set(g,p.done()));const d=o.map(p=>Zp(p.type));for(const p of i){const g=l(p);o.forEach((v,_)=>d[_].add(pd(v.type,g)))}return new Gf(n,d.map(p=>p.done()),t.useProxy)}function fR(e,t){e.fields.forEach(function n(r){var i,s,o;t(r),(s=(i=r.type.dictionary)==null?void 0:i.children)==null||s.forEach(n),(o=r.type.children)==null||o.forEach(n)})}function hR(e,t,n){const r={version:t,options:e,dictionary:i=>n.get(i)};return i=>{const{length:s,nodes:o,regions:a,variadic:l,body:u}=i;let c=-1,d=-1,p=-1;return{...r,length:s,node:()=>o[++c],buffer:g=>{const{length:v,offset:_}=a[++d];return g?new g(u.buffer,u.byteOffset+_,v/g.BYTES_PER_ELEMENT):u.subarray(_,_+v)},variadic:()=>l[++p],visit(g){return g.map(v=>pd(v.type,this))}}}}function pd(e,t){const{typeId:n}=e,{length:r,options:i,node:s,buffer:o,variadic:a,version:l}=t,u=KN(e,i);if(n===I.Null)return new u({length:r,nullCount:r,type:e});const c={...s(),type:e};switch(n){case I.Bool:case I.Int:case I.Time:case I.Duration:case I.Float:case I.Decimal:case I.Date:case I.Timestamp:case I.Interval:case I.FixedSizeBinary:return new u({...c,validity:o(),values:o(e.values)});case I.Utf8:case I.LargeUtf8:case I.Binary:case I.LargeBinary:return new u({...c,validity:o(),offsets:o(e.offsets),values:o()});case I.BinaryView:case I.Utf8View:return new u({...c,validity:o(),values:o(),data:Array.from({length:a()},()=>o())});case I.List:case I.LargeList:case I.Map:return new u({...c,validity:o(),offsets:o(e.offsets),children:t.visit(e.children)});case I.ListView:case I.LargeListView:return new u({...c,validity:o(),offsets:o(e.offsets),sizes:o(e.offsets),children:t.visit(e.children)});case I.FixedSizeList:case I.Struct:return new u({...c,validity:o(),children:t.visit(e.children)});case I.RunEndEncoded:return new u({...c,children:t.visit(e.children)});case I.Dictionary:{const{id:d,indices:p}=e;return new u({...c,validity:o(),values:o(p.values)}).setDictionary(t.dictionary(d))}case I.Union:return l<lu.V5&&o(),new u({...c,typeIds:o(P0),offsets:e.mode===$f.Sparse?null:o(e.offsets),children:t.visit(e.children)});default:throw new Error(Hf(n))}}new Uint16Array(new Uint8Array([1,0]).buffer)[0];function pR(e){return cR(e,{useDate:!0})}function yR(e="ws://localhost:3000/"){const t=[];let n=!1,r=null,i;const s={open(){n=!0,l()},close(){for(n=!1,r=null,i=null;t.length;)t.shift().reject("Socket closed")},error(u){if(r){const{reject:c}=r;r=null,l(),c(u)}else console.error("WebSocket error: ",u)},message({data:u}){if(r){const{query:c,resolve:d,reject:p}=r;if(r=null,l(),typeof u=="string"){const g=JSON.parse(u);g.error?p(g.error):d(g)}else if(c.type==="exec")d();else if(c.type==="arrow")d(pR(u));else throw new Error(`Unexpected socket data: ${u}`)}else console.log("WebSocket message: ",u)}};function o(){i=new WebSocket(e),i.binaryType="arraybuffer";for(const u in s)i.addEventListener(u,s[u])}function a(u,c,d){i==null&&o(),t.push({query:u,resolve:c,reject:d}),n&&!r&&l()}function l(){t.length&&(r=t.shift(),i.send(JSON.stringify(r.query)))}return{get connected(){return n},query(u){return new Promise((c,d)=>a(u,c,d))}}}const Kf="COLUMN_REF",Jf="COLUMN_PARAM",mR="TABLE_REF",gR="LITERAL",vR="INTERVAL",_R="ORDER_BY",u_="CAST",wR="CASE",SR="WHEN",c_="UNARY",IR="UNARY_POSTFIX",d_="BINARY",f_="BETWEEN",h_="NOT_BETWEEN",p_="LOGICAL_OPERATOR",y_="IN",m_="FUNCTION",fu="AGGREGATE",Xf="WINDOW",g_="WINDOW_DEF",v_="WINDOW_FRAME",ER="EXPRESSION",Zf="FRAGMENT",__="VERBATIM",th="PARAM",bR="WITH_CLAUSE",w_="SELECT_CLAUSE",S_="FROM_CLAUSE",TR="SAMPLE_CLAUSE",I_="WINDOW_CLAUSE",E_="SELECT_QUERY",b_="DESCRIBE_QUERY",T_="SET_OPERATION";function ri(e){return e instanceof Rn}class Rn{constructor(t){this.type=t}}class zt extends Rn{}class N_ extends zt{constructor(t){super(gR),this.value=t}toString(){return R_(this.value)}}function R_(e){switch(typeof e){case"number":return Number.isFinite(e)?`${e}`:"NULL";case"string":return`'${e.replace("'","''")}'`;case"boolean":return e?"TRUE":"FALSE";default:if(e==null)return"NULL";if(e instanceof Date){const t=+e;if(Number.isNaN(t))return"NULL";const n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate();return t===Date.UTC(n,r,i)?`DATE '${n}-${r+1}-${i}'`:`epoch_ms(${t})`}else return e instanceof RegExp?`'${e.source}'`:`${e}`}}class hu extends zt{constructor(t){super(th),this.param=t}get value(){return this.param.value}toString(){return R_(this.value)}}function A_(e){return e.split(".")}function ms(e){return`"${e}"`}function ic(e){return e&&NR(e)?e.slice(1,-1):e}function NR(e){return e[0]==='"'&&e[e.length-1]==='"'}function Cl(e){return e instanceof O_}class O_ extends zt{constructor(t){super(mR),this.table=[t].flat()}get name(){return this.table[this.table.length-1]}toString(){return this.table.map(t=>ms(t)).join(".")}}class F_ extends zt{constructor(t,n=[]){super(m_),this.name=t,this.args=n}toString(){const{name:t,args:n}=this;return`${t}(${n.join(", ")})`}}function wt(e,...t){return new F_(e,eh(t).map(xt))}function Z(e,...t){return new kl(e,eh(t).map(xt))}function AO(e,...t){return new lr(new AR(e,eh(t).map(xt)))}function _n(e,t=xt){return e.flat().filter(n=>n!=null).map(n=>t(n))}function eh(e){const t=e.length;let n=t;for(;n>0&&e[n-1]===void 0;--n);return n<t?e.slice(0,n):e}function Fr(e){return typeof e=="string"}function yd(e){return Array.isArray(e)}function pu(e){return e&&typeof e.addEventListener=="function"&&e.dynamic!==!1&&"value"in e}class RR extends Rn{constructor(t,n){super(I_),this.name=t,this.def=n}toString(){return`${ms(this.name)} AS ${this.def}`}}class lr extends zt{constructor(t,n=new nh){super(Xf),this.func=t,this.def=n}over(t){return new lr(this.func,this.def.over(t))}partitionby(...t){return new lr(this.func,this.def.partitionby(...t))}orderby(...t){return new lr(this.func,this.def.orderby(...t))}rows(t){return new lr(this.func,this.def.rows(t))}range(t){return new lr(this.func,this.def.range(t))}toString(){return`${this.func} OVER ${this.def}`}}class AR extends F_{constructor(t,n){super(t,n)}}class nh extends Rn{constructor(t,n,r,i){super(g_),this.name=t,this.partition=n,this.order=r,this.frame=i}over(t){return Rs(this,{name:t})}partitionby(...t){return Rs(this,{partition:_n(t)})}orderby(...t){return Rs(this,{order:_n(t)})}rows(t){return Rs(this,{frame:new ny(t)})}range(t){return Rs(this,{frame:new ny(t,!0)})}toString(){const{name:t,partition:n,order:r,frame:i}=this,s=t&&ms(t),o=[s,(n==null?void 0:n.length)&&`PARTITION BY ${n.join(", ")}`,(r==null?void 0:r.length)&&`ORDER BY ${r.join(", ")}`,i].filter(a=>a);return s&&o.length<2?s:`(${o.join(" ")})`}}class ny extends Rn{constructor(t,n=!1,r=void 0){super(v_),this.extent=pu(t)?new hu(t):t,this.range=n,this.exclude=r}toString(){const{range:t,exclude:n,extent:r}=this,i=t?"RANGE":"ROWS",[s,o]=ri(r)?r.value:r,a=ry(s,"PRECEDING"),l=ry(o,"FOLLOWING");return`${i} BETWEEN ${a} AND ${l}${n?` ${n}`:""}`}}function Rs(e,t){return new nh(t.name??e.name,t.partition??e.partition,t.order??e.order,t.frame??e.frame)}function ry(e,t){return e===0?"CURRENT ROW":Number.isFinite(e)?`${Math.abs(e)} ${t}`:`UNBOUNDED ${t}`}function rh(e){return e instanceof yu}class yu extends zt{constructor(t,n){super(t),this.table=n}get column(){return null}toString(){const{column:t,table:n}=this,r=`${n??""}`,i=t==="*"?"*":ms(t);return(r?r+".":"")+i}}class OR extends yu{constructor(t,n){super(Kf,n),this.name=t}get column(){return this.name}}function OO(e){return e instanceof D_}class D_ extends yu{constructor(t,n){super(Jf,n),this.param=t}get column(){return`${this.param.value}`}}function FR(e,t){const n=sh(t);return pu(e)?new D_(new hu(e),n):new OR(e,n)}class x_ extends zt{constructor(t){super(__),this.value=t}toString(){return this.value}}function Ml(e){return new N_(e)}function DR(e){return new x_(e)}function ih(...e){const t=_n(e,String);return t!=null&&t.length?new O_(t):void 0}function xt(e){return Fr(e)?xR(e):L_(e)}function Ra(e){return Fr(e)?DR(e):L_(e)}function L_(e){return e instanceof zt?e:pu(e)?new hu(e):Ml(e)}function sh(e){return Fr(e)?LR(e):yd(e)?ih(e):e}function xR(e){const t=A_(e);return FR(t.pop(),ih(t))}function LR(e){return ih(A_(e))}function FO(){return new nh}class kl extends zt{constructor(t,n,r,i){super(fu),this.name=t,this.args=n,this.isDistinct=r,this.filter=i}distinct(t=!0){return new kl(this.name,this.args,t,this.filter)}where(t){return Fr(t)&&(t=Ra(t)),new kl(this.name,this.args,this.isDistinct,t)}window(){return new lr(this)}partitionby(...t){return this.window().partitionby(...t)}orderby(...t){return this.window().orderby(...t)}toString(){const{name:t,args:n,isDistinct:r,filter:i}=this,s=r?"DISTINCT ":"",o=n!=null&&n.length?n.join(", "):"*",a=i?` FILTER (WHERE ${i})`:"";return`${t}(${s}${o})${a}`}}const BR=["any_value","approx_count_distinct","approx_quantile","arbitrary","arg_max","arg_max_null","arg_min","arg_min_null","array_agg","avg","bit_and","bit_or","bit_xor","bitstring_agg","bool_and","bool_or","corr","count","covar_pop","covar_samp","entropy","favg","first","fsum","geomean","kurtosis_pop","kurtosis","last","mad","max","max_by","median","min","min_by","mode","product","quantile","quantile_cont","quantile_disc","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_sxx","regr_sxy","regr_syy","regr_slope","reservoir_quantile","skewness","stddev","stddev_pop","stddev_samp","string_agg","sum","variance","var_pop","var_samp"];class B_ extends zt{constructor(t,n,r){super(t),this.expr=n,this.extent=r}toSQL(t){const{extent:n,expr:r}=this;return n?`(${r} ${t} ${n[0]} AND ${n[1]})`:""}}class CR extends B_{constructor(t,n){super(f_,t,n)}toString(){return super.toSQL("BETWEEN")}}class MR extends B_{constructor(t,n){super(h_,t,n)}toString(){return super.toSQL("NOT BETWEEN")}}class kR extends zt{constructor(t,n,r){super(d_),this.op=t,this.left=n,this.right=r}toString(){return`(${this.left} ${this.op} ${this.right})`}}class UR extends zt{constructor(t,n){super(u_),this.expr=t,this.cast=n}toString(){return`(${this.expr})::${this.cast}`}}class PR extends zt{constructor(t){super(Zf),this.spans=t}toString(){return this.spans.join("")}}class zR extends Rn{constructor(t,n=!1,r=void 0,i=void 0){super(TR),this.size=t,this.perc=n,this.method=r,this.seed=i}toString(){const{size:t,perc:n,method:r,seed:i}=this,s=n?"%":" ROWS",o=i!=null?`, ${i}`:"";return`${t}${s}${r?` (${r}${o})`:""}`}}class jR extends Rn{constructor(t,n){super(w_),this.expr=t,this.alias=n}toString(){const{expr:t,alias:n}=this;return!n||$R(t,n)?`${t}`:`${t} AS ${ms(n)}`}}function $R(e,t){return e instanceof yu&&e.table==null&&e.column===t}class VR extends Rn{constructor(t,n){super(bR),this.name=t,this.query=n}toString(){return`"${this.name}" AS (${this.query})`}}function C_(e){return e instanceof ii}function mu(e){return e instanceof Qr}function WR(e){return e instanceof gu}class ii extends zt{static select(...t){return new Qr().select(...t)}static from(...t){return new Qr().from(...t)}static with(...t){return new Qr().with(...t)}static union(...t){return new Ui("UNION",t.flat())}static unionAll(...t){return new Ui("UNION ALL",t.flat())}static intersect(...t){return new Ui("INTERSECT",t.flat())}static except(...t){return new Ui("EXCEPT",t.flat())}static describe(t){return new gu(t)}constructor(t){super(t),this._orderby=[],this._limit=void 0,this._offset=void 0,this.cteFor=null}get subqueries(){return[]}clone(){return this}orderby(...t){return this._orderby=this._orderby.concat(_n(t)),this}limit(t){return this._limit=Number.isFinite(t)?t:void 0,this}offset(t){return this._offset=Number.isFinite(t)?t:void 0,this}}class Qr extends ii{constructor(){super(E_),this._with=[],this._select=[],this._from=[],this._where=[],this._sample=void 0,this._groupby=[],this._having=[],this._window=[],this._qualify=[]}get subqueries(){const t=this.cteFor||this,r=(t instanceof Qr?t._with:[]).reduce((s,o)=>(s[o.name]=o.query,s),{}),i=[];return this._from.forEach(({expr:s})=>{if(C_(s))i.push(s);else if(Cl(s)){const o=r[s.name];o&&i.push(o)}}),i}clone(){return Object.assign(new Qr,this)}with(...t){const n=[],r=(i,s)=>{const o=s.clone();o.cteFor=this,n.push(new VR(i,o))};return t.flat().forEach(i=>{if(i!=null)for(const s in i)r(s,i[s])}),this._with=this._with.concat(n),this}select(...t){const n=[],r=(s,o)=>n.push(new jR(s==null?s:xt(s),ic(o)));t.flat().forEach(s=>{if(s!=null)if(Fr(s))r(s,s);else if(rh(s))r(s,s.column);else if(yd(s))r(s[1],s[0]);else for(const o in s)r(s[o],o)});const i=new Set(n.map(s=>s.alias));return this._select=this._select.filter(s=>!i.has(s.alias)).concat(n.filter(s=>s.expr)),this}setSelect(...t){return this._select=[],this.select(...t)}distinct(t=!0){return this._distinct=!!t,this}from(...t){const n=[],r=(i,s)=>n.push(new HR(sh(i),ic(s)));return t.flat().forEach(i=>{if(i!=null)if(Fr(i))r(i,i);else if(Cl(i))r(i,i.name);else if(ri(i))r(i);else if(yd(i))r(i[1],i[0]);else for(const s in i)r(i[s],s)}),this._from=this._from.concat(n),this}setFrom(...t){return this._from=[],this.from(...t)}sample(t,n,r){let i;if(typeof t=="number"){const s=t>0&&t<1,o=s?t*100:Math.floor(t);i=new zR(o,s,n,r)}else i=t;return this._sample=i,this}where(...t){return this._where=this._where.concat(_n(t,Ra)),this}setWhere(...t){return this._where=[],this.where(...t)}groupby(...t){return this._groupby=this._groupby.concat(_n(t)),this}setGroupby(...t){return this._groupby=[],this.groupby(...t)}having(...t){return this._having=this._having.concat(_n(t,Ra)),this}window(...t){const n=[];return t.flat().forEach(r=>{if(r!=null)for(const i in r)n.push(new RR(ic(i),r[i]))}),this._window=this._window.concat(n),this}qualify(...t){return this._qualify=this._qualify.concat(_n(t,Ra)),this}toString(){const{_with:t,_select:n,_distinct:r,_from:i,_sample:s,_where:o,_groupby:a,_having:l,_window:u,_qualify:c,_orderby:d,_limit:p,_offset:g}=this,v=[];if(t.length&&v.push(`WITH ${t.join(", ")}`),v.push(`SELECT${r?" DISTINCT":""} ${n.join(", ")}`),i.length&&v.push(`FROM ${i.join(", ")}`),o.length){const _=o.map(String).filter(O=>O).join(" AND ");_&&v.push(`WHERE ${_}`)}if(s&&v.push(`USING SAMPLE ${s}`),a.length&&v.push(`GROUP BY ${a.join(", ")}`),l.length){const _=l.map(String).filter(O=>O).join(" AND ");_&&v.push(`HAVING ${_}`)}if(u.length&&v.push(`WINDOW ${u.join(", ")}`),c.length){const _=c.map(String).filter(O=>O).join(" AND ");_&&v.push(`QUALIFY ${_}`)}return d.length&&v.push(`ORDER BY ${d.join(", ")}`),Number.isFinite(p)&&v.push(`LIMIT ${p}`),Number.isFinite(g)&&v.push(`OFFSET ${g}`),v.join(" ")}}class gu extends Rn{constructor(t){super(b_),this.query=t}clone(){return new gu(this.query.clone())}toString(){return`DESCRIBE ${this.query}`}}class Ui extends ii{constructor(t,n){super(T_),this.op=t,this.queries=n}get subqueries(){const{queries:t,cteFor:n}=this;return n&&t.forEach(r=>r.cteFor=n),t}clone(){const{op:t,queries:n,...r}=this;return Object.assign(new Ui(t,n),r)}toString(){const{op:t,queries:n,_orderby:r,_limit:i,_offset:s}=this,o=[n.join(` ${t} `)];return r.length&&o.push(`ORDER BY ${r.join(", ")}`),Number.isFinite(i)&&o.push(`LIMIT ${i}`),Number.isFinite(s)&&o.push(`OFFSET ${s}`),o.join(" ")}}class HR extends Rn{constructor(t,n){super(S_),this.expr=t,this.alias=n}toString(){const{expr:t,alias:n}=this,r=C_(t)?`(${t})`:`${t}`;return n&&!(Cl(t)&&t.table.join(".")===n)?`${r} AS ${ms(n)}`:`${r}`}}class qR extends zt{constructor(t,n){super(y_),this.expr=t,this.values=n}toString(){return`(${this.expr} IN (${this.values.join(", ")}))`}}class YR extends zt{constructor(t,n=1){super(vR),this.name=t,this.steps=n}toString(){return`INTERVAL ${this.steps} ${this.name}`}}class M_ extends zt{constructor(t,n){super(p_),this.op=t,this.clauses=n}toString(){const t=this.clauses;return t.length===0?"":t.length===1?`${t[0]}`:`(${t.join(` ${this.op} `)})`}}class GR extends M_{constructor(t){super("AND",t)}}class QR extends M_{constructor(t){super("OR",t)}}class k_ extends zt{constructor(t,n,r){super(t),this.op=n,this.expr=r}}class KR extends k_{constructor(t,n){super(c_,t,n)}toString(){return`(${this.op} ${this.expr})`}}class JR extends k_{constructor(t,n){super(IR,t,n)}toString(){return`(${this.expr} ${this.op})`}}function XR(e,t){return Z("arg_max",e,t)}function ZR(e,t){return Z("arg_min",e,t)}function DO(e){return Z("array_agg",e)}function xO(e){return Z("avg",e)}function LO(e,t){return Z("corr",e,t)}function Aa(e){return Z("count",e)}function BO(e,t){return Z("covar_samp",e,t)}function CO(e,t){return Z("covar_pop",e,t)}function MO(e){return Z("entropy",e)}function kO(e){return Z("first",e)}function UO(e){return Z("kurtosis",e)}function PO(e){return Z("mad",e)}function U_(e){return Z("max",e)}function zO(e){return Z("median",e)}function P_(e){return Z("min",e)}function jO(e){return Z("mode",e)}function $O(e){return Z("last",e)}function VO(e){return Z("product",e)}function WO(e,t){return Z("quantile",e,t)}function tA(e,t){return Z("regr_avgx",e,t)}function eA(e,t){return Z("regr_avgy",e,t)}function nA(e,t){return Z("regr_count",e,t)}function HO(e,t){return Z("regr_intercept",e,t)}function qO(e,t){return Z("regr_r2",e,t)}function YO(e,t){return Z("regr_sxx",e,t)}function GO(e,t){return Z("regr_sxy",e,t)}function QO(e,t){return Z("regr_syy",e,t)}function KO(e,t){return Z("regr_slope",e,t)}function JO(e){return Z("skewness",e)}function XO(e){return Z("stddev",e)}function ZO(e){return Z("stddev_pop",e)}function tF(e){return Z("string_agg",e)}function Yt(e){return Z("sum",e)}function eF(e){return Z("var_samp",e)}function nF(e){return Z("var_pop",e)}function oh(e,t){return new UR(xt(e),t)}function rA(e){return oh(e,"INTEGER")}function rF(e){return oh(e,"FLOAT")}function iy(e){return oh(e,"DOUBLE")}function iA(e,t){return new YR(e,t)}function sA(e){return wt("epoch_ms",e)}function iF(e,t,n=1){return wt("time_bucket",iA(t,n),e)}function sF(e){return wt("make_date",2012,wt("month",e),1)}function oF(e){const t=xt(e);return wt("make_date",2012,wt("month",t),wt("day",t))}function aF(e){return wt("make_date",2012,1,wt("day",e))}function lF(e){return wt("isnan",e)}function uF(e){return wt("isfinite",e)}function cF(e){return wt("isinf",e)}function dF(...e){return wt("greatest",...e)}function fF(...e){return wt("least",...e)}function z_(e){return wt("exp",e)}function oA(e){return wt("log",e)}function Oa(e){return wt("ln",e)}function ls(e){return wt("sign",e)}function Io(e){return wt("abs",e)}function Ul(e){return wt("sqrt",e)}function aA(e){return wt("ceil",e)}function lA(e){return wt("floor",e)}function uA(e,t){return wt("round",e,t)}function hF(e){return wt("trunc",e)}function j_(e,t){return new KR(e,xt(t))}function $_(e,t){return new JR(e,xt(t))}function kt(e,t,n){return new kR(e,xt(t),xt(n))}function V_(e,t,n=!1){const r=n?MR:CR;return new r(xt(e),t==null?void 0:t.map(xt))}function W_(...e){return new GR(_n(e))}function pF(...e){return new QR(_n(e))}function yF(e){return j_("NOT",e)}function cA(e){return $_("IS NULL",e)}function H_(e){return $_("IS NOT NULL",e)}function mF(e){return j_("~",e)}function gF(e,t){return kt("&",e,t)}function vF(e,t){return kt("|",e,t)}function _F(e,t){return kt("<<",e,t)}function wF(e,t){return kt(">>",e,t)}function dA(e,t){return kt("+",e,t)}function Kt(e,t){return kt("-",e,t)}function re(e,t){return kt("*",e,t)}function Gt(e,t){return kt("/",e,t)}function SF(e,t){return kt("//",e,t)}function IF(e,t){return kt("%",e,t)}function We(e,t){return kt("**",e,t)}function EF(e,t){return kt("=",e,t)}function bF(e,t){return kt("<>",e,t)}function TF(e,t){return kt("<",e,t)}function NF(e,t){return kt(">",e,t)}function RF(e,t){return kt("<=",e,t)}function AF(e,t){return kt(">=",e,t)}function OF(e,t){return kt("IS DISTINCT FROM",e,t)}function FF(e,t){return kt("IS NOT DISTINCT FROM",e,t)}function sy(e,t){return V_(e,t,!1)}function DF(e,t){return V_(e,t,!0)}function xF(e,t){return new qR(xt(e),t.map(xt))}function ah(e,...t){return new PR(fA(e,t))}function fA(e,t){const n=[e[0]],r=t.length;for(let i=0,s=0;i<r;){const o=t[i];ri(o)?n[++s]=o:pu(o)?n[++s]=new hu(o):n[s]+=Fr(o)?o:Ml(o);const a=e[++i];ri(n[s])?n[++s]=a:n[s]+=a}return n.filter(i=>i).map(i=>Fr(i)?new x_(i):i)}const q_={[fu]:["args","filter"],[f_]:["expr","extent"],[d_]:["left","right"],[wR]:["expr","_when","_else"],[u_]:["expr"],[Jf]:["param","table"],[Kf]:["table"],[b_]:["query"],[ER]:["node"],[Zf]:["spans"],[S_]:["expr"],[m_]:["args"],[y_]:["expr","values"],[p_]:["clauses"],[h_]:["expr","extent"],[_R]:["expr"],[th]:["value"],[w_]:["expr"],[E_]:["_with","_select","_from","_where","_sample","_groupby","_having","_window","_qualify","_orderby"],[T_]:["subqueries","_orderby"],[c_]:["expr"],[SR]:["when","then"],[Xf]:["func","def"],[I_]:["def"],[g_]:["partition","order","frame"],[v_]:["extent"]};function md(e,t){if(t.has(e))return t.get(e);if(ri(e)){const n=q_[e.type],r=(n==null?void 0:n.length)??0;for(let i=0;i<r;++i){const s=n[i],o=e[s];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)o[l]=md(o[l],t)}else o&&(e[s]=md(o,t))}}return e}function us(e,t){if(!ri(e))return;const n=t(e);if(n)return n;const r=q_[e.type],i=(r==null?void 0:r.length)??0;for(let s=0;s<i;++s){const o=e[r[s]];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)if(o[l]&&+us(o[l],t)<0)return n}else if(o&&+us(o,t)<0)return-1}}const hA=new RegExp(`^(${BR.join("|")})$`),pA=/(\\'|\\"|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\w+\()/g;function yA(e){return e.split(pA).some(t=>t.endsWith("(")&&hA.test(t.slice(0,-1)))}function lh(e){let t=0;return us(e,n=>{switch(n.type){case Xf:return-1;case fu:return t|=1,-1;case Zf:case __:{let r=`${n}`.toLowerCase();const i=r.indexOf("(select ");return i>=0&&(r=r.slice(0,i)),r.includes(") over ")?-1:yA(r)?(t|=2,-1):1}}}),t}function mA(e){const t=new Set;return us(e,n=>{n.type===fu&&t.add(n)}),Array.from(t)}function Y_(e){const t={};return us(e,n=>{(n.type===Kf||n.type===Jf)&&(t[n]=n)}),Object.values(t)}function LF(e){const t=new Set;return us(e,n=>{n.type===th&&t.add(n.param)}),Array.from(t)}function gA(e,t,{replace:n=!1,temp:r=!1,view:i=!1}={}){return"CREATE"+(n?" OR REPLACE ":" ")+(r?"TEMP ":"")+(i?"VIEW":"TABLE")+(n?" ":" IF NOT EXISTS ")+e+" AS "+t}function BF(e,{strict:t=!1}={}){return"CREATE SCHEMA "+(t?"":"IF NOT EXISTS ")+e}const Fa=e=>e;function oy(){return{apply:Fa,invert:Fa,sqlApply:xt,sqlInvert:Fa}}function vA({base:e=null}={}){if(e==null||e===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:t=>Oa(t),sqlInvert:t=>z_(t)};if(e===10)return{apply:Math.log10,invert:t=>Math.pow(10,t),sqlApply:t=>oA(t),sqlInvert:t=>We(10,t)};{const t=+e;return{apply:n=>Math.log(n)/Math.log(t),invert:n=>Math.pow(t,n),sqlApply:n=>Gt(Oa(n),Oa(t)),sqlInvert:n=>We(t,n)}}}function _A({constant:e=1}={}){const t=+e;return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n)),invert:n=>Math.sign(n)*Math.exp(Math.abs(n)-t),sqlApply:n=>(n=xt(n),re(ls(n),Oa(dA(t,Io(n))))),sqlInvert:n=>re(ls(n),Kt(z_(Io(n)),t))}}function wA(){return{apply:e=>Math.sign(e)*Math.sqrt(Math.abs(e)),invert:e=>Math.sign(e)*e*e,sqlApply:e=>(e=xt(e),re(ls(e),Ul(Io(e)))),sqlInvert:e=>re(ls(e),We(e,2))}}function SA({exponent:e=1}={}){const t=+e;return{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),t),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/t),sqlApply:n=>(n=xt(n),re(ls(n),We(Io(n),t))),sqlInvert:n=>re(ls(n),We(Io(n),Gt(1,t)))}}function ay(){return{apply:e=>+e,invert:e=>new Date(e),sqlApply:e=>e instanceof Date?Ml(+e):bA(e)?Ml(+e.value):sA(e),sqlInvert:Fa}}const IA={identity:oy,linear:oy,log:vA,symlog:_A,sqrt:wA,pow:SA,time:ay,utc:ay};function EA(e){const t=IA[e.type];return t?{...e,...t(e)}:null}function bA(e){return e instanceof N_&&e.value instanceof Date}function G_(e){let t=2166136261;for(let n=0,r=e.length;n<r;++n){const i=e.charCodeAt(n),s=i&65280;s&&(t=ly(t^s>>8)),t=ly(t^i&255)}return TA(t)>>>0}function ly(e){return e+(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}function TA(e){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,e+=e<<5,e&4294967295}function NA(e,t,n){switch(e.name){case"count":case"sum":return RA(t,e);case"avg":return AA(t,e);case"arg_max":return OA(t,e);case"arg_min":return FA(t,e);case"variance":case"var_samp":return ea(t,e,n);case"var_pop":return ea(t,e,n,!1);case"stddev":case"stddev_samp":return Ul(ea(t,e,n));case"stddev_pop":return Ul(ea(t,e,n,!1));case"covar_samp":return Da(t,e,n);case"covar_pop":return Da(t,e,n,!1);case"corr":return uy(t,e,n);case"regr_count":return gs(t,e).expr;case"regr_avgx":return X_(t,e);case"regr_avgy":return Z_(t,e);case"regr_syy":return vd(t,0,e,n);case"regr_sxx":return vd(t,1,e,n);case"regr_sxy":return Da(t,e,n,null);case"regr_slope":return tw(t,e,n);case"regr_intercept":return DA(t,e,n);case"regr_r2":return We(uy(t,e,n),2);case"max":case"min":case"bit_and":case"bit_or":case"bit_xor":case"bool_and":case"bool_or":case"product":{const r=Q_(e);return t[r]=e,ah`${e.name}("${r}")`}default:return null}}function Q_(e){return"pre_"+G_(`${e}`).toString(16)}function ie(e,t,n){const r=n==null?void 0:n.filter;r&&(t=t.filter?t.where(W_(r,t.filter)):t.where(r));const i=Q_(t);return e[i]=t,i}function K_(e,t){const n=ie(e,Aa(t.args[0]),t);return{expr:Yt(n),name:n}}function RA(e,t){return Yt(ie(e,t))}function AA(e,t){const n=ie(e,t),{expr:r,name:i}=K_(e,t);return Gt(Yt(re(n,i)),r)}function OA(e,t){const n=ie(e,t),r=ie(e,U_(t.args[1]),t);return XR(n,r)}function FA(e,t){const n=ie(e,t),r=ie(e,P_(t.args[1]),t);return ZR(n,r)}function ea(e,t,n,r=!0){const i=t.args[0],{expr:s}=K_(e,t),o=Kt(i,n(i)),a=ie(e,Yt(We(o,2)),t),l=ie(e,Yt(o),t),u=r?Kt(s,1):s;return Gt(Kt(Yt(a),Gt(We(Yt(l),2),s)),u)}function Da(e,t,n,r=!0){const{expr:i}=gs(e,t),s=J_(e,t,n),o=Eo(e,1,t,n),a=Eo(e,0,t,n),l=Kt(s,Gt(re(o,a),i));return r===null?l:r?Gt(l,Kt(i,1)):Gt(l,i)}function uy(e,t,n){const{expr:r}=gs(e,t),i=J_(e,t,n),s=gd(e,1,t,n),o=gd(e,0,t,n),a=Eo(e,1,t,n),l=Eo(e,0,t,n),u=Kt(s,Gt(We(a,2),r)),c=Kt(o,Gt(We(l,2),r));return Gt(Kt(i,Gt(re(a,l),r)),Ul(re(u,c)))}function gs(e,t){const[n,r]=t.args,i=ie(e,nA(n,r),t);return{expr:Yt(i),name:i}}function Eo(e,t,n,r){const i=n.args,s=i[t],o=i[1-t],a=Yt(Kt(s,r(s))).where(H_(o));return Yt(ie(e,a,n))}function gd(e,t,n,r){const i=n.args,s=i[t],o=i[1-t],a=Yt(We(Kt(s,r(s)),2)).where(H_(o));return Yt(ie(e,a,n))}function J_(e,t,n){const[r,i]=t.args,s=Yt(re(Kt(i,n(i)),Kt(r,n(r))));return Yt(ie(e,s,t))}function X_(e,t){const[n,r]=t.args,{expr:i,name:s}=gs(e,t),o=ie(e,tA(n,r),t);return Gt(Yt(re(o,s)),i)}function Z_(e,t){const[n,r]=t.args,{expr:i,name:s}=gs(e,t),o=ie(e,eA(n,r),t);return Gt(Yt(re(o,s)),i)}function vd(e,t,n,r){const{expr:i}=gs(e,n),s=Eo(e,t,n,r),o=gd(e,t,n,r);return Kt(o,Gt(We(s,2),i))}function tw(e,t,n){const r=Da(e,t,n,null),i=vd(e,1,t,n);return Gt(r,i)}function DA(e,t,n){const r=X_(e,t),i=Z_(e,t),s=tw(e,t,n);return Kt(i,re(s,r))}function xA(e){if(!e.filterStable)return null;const t=e.query();if(!mu(t))return null;const n=Pl(t,l=>{var c;const u=(c=l._from[0])==null?void 0:c.expr;return Cl(u)?u.name:u});if(typeof n!="string")return null;const r=new Map,i={},s={},o=[],a=l=>{const u=l.column,c=Pl(t,d=>{var p;return(p=d._select.find(g=>g.alias===u))==null?void 0:p.expr});return ah`(SELECT avg(${c??l}) FROM "${n}")`};for(const{alias:l,expr:u}of t._select){if(lh(u)>1)return null;const c=mA(u);if(c.length===0)o.push(l),i[l]=u;else{for(const d of c){if(d.isDistinct)return null;const p=NA(d,i,a);if(!p)return null;r.set(d,p)}s[l]=md(u,r)}}return r.size?{group:o,preagg:i,output:s}:null}function Pl(e,t){const n=e.subqueries;if(mu(e)&&n.length===0)return t(e);const r=Pl(n[0],t);for(let i=1;i<n.length;++i){const s=Pl(n[i],t);if(s!==void 0&&s!==r)return NaN}return r}const LA={skip:!0,result:null};class BA{constructor(t,{schema:n="mosaic",enabled:r=!0}={}){this.entries=new Map,this.active=null,this.mc=t,this._schema=n,this._enabled=r}set enabled(t){this._enabled!==t&&(t||this.clear(),this._enabled=t)}get enabled(){return this._enabled}set schema(t){this._schema!==t&&(this.clear(),this._schema=t)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS "${this.schema}" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(t,n,r){var d;if(!this.enabled)return null;const{entries:i,mc:s,schema:o}=this,{source:a}=r;if(!a||this.active&&(this.active.source!==a&&this.clear(),((d=this.active)==null?void 0:d.source)===null))return null;let{active:l}=this;if(!l&&(this.active=l=CA(r),l.source===null))return null;if(i.has(t))return i.get(t);const u=xA(t);let c;if(!u)c=null;else if(n.skip(t,r))c=LA;else{const p=n.remove(a).predicate(t);c=UA(t.query(p),l,u,o),c.result=s.exec([`CREATE SCHEMA IF NOT EXISTS ${o}`,gA(c.table,c.create,{temp:!1})]),c.result.catch(g=>s.logger().error(g))}return i.set(t,c),c}}function CA(e){const{source:t,meta:n}=e,r=e.predicate,i=Y_(r).map(d=>d.column);let s,o;if(!n||!i)return{source:null,columns:o,predicate:s};const{type:a,scales:l,bin:u,pixelSize:c=1}=n;if(a==="point")s=d=>d,o=Object.fromEntries(i.map(d=>[`${d}`,xt(d)]));else if(a==="interval"&&l){const d=l.map(p=>kA(p,c,u));d.some(p=>!p)||(d.length===1?(s=p=>p?sy("active0",p.extent.map(d[0])):[],o={active0:d[0](r.expr)}):(s=p=>p?W_(p.clauses.map((g,v)=>sy(`active${v}`,g.extent.map(d[v])))):[],o=Object.fromEntries(r.clauses.map((p,g)=>[`active${g}`,d[g](p.expr)]))))}return{source:o?t:null,columns:o,predicate:s}}const MA={ceil:aA,round:uA};function kA(e,t,n){const{type:r,domain:i,range:s,apply:o,sqlApply:a}=EA(e);if(!o)return;const l=MA[`${n}`.toLowerCase()]||lA,u=o(Math.min(...i)),c=o(Math.max(...i)),d=(r==="identity"?1:Math.abs(s[1]-s[0])/(c-u))/t,p=d===1?v=>v:v=>re(iy(d),v),g=u===0?v=>v:v=>Kt(v,iy(u));return v=>rA(l(p(g(a(v)))))}function UA(e,t,n,r){const{group:i,output:s,preagg:o}=n,{columns:a}=t,l=e.setSelect({...o,...a}).groupby(Object.keys(a)),[u]=l.subqueries;if(u){const O=Object.values(a).flatMap(m=>Y_(m).map(f=>f.column));PA(u,O)}const c=l._having,d=l._orderby;l._having=[],l._orderby=[];const p=l.toString(),g=(G_(p)>>>0).toString(16),v=`${r}.preagg_${g}`,_=ii.select(i,s).from(v).groupby(i).having(c).orderby(d);return new zA({table:v,create:p,active:t,select:_})}function PA(e,t){const n=new Set,r=i=>{n.has(i)||(n.add(i),mu(i)&&i._from.length&&i.select(t),i.subqueries.forEach(r))};r(e)}class zA{constructor({table:t,create:n,active:r,select:i}){this.table=t,this.create=n,this.result=null,this.active=r,this.select=i,this.skip=!1}query(t){return this.select.clone().where(this.active.predicate(t))}}function ew(e){switch(e){case"BIGINT":case"HUGEINT":case"INTEGER":case"SMALLINT":case"TINYINT":case"UBIGINT":case"UINTEGER":case"USMALLINT":case"UTINYINT":case"DOUBLE":case"FLOAT":case"REAL":return"number";case"DATE":case"TIMESTAMP":case"TIMESTAMPTZ":case"TIMESTAMP WITH TIME ZONE":case"TIME":case"TIMESTAMP_NS":return"date";case"BOOLEAN":return"boolean";case"VARCHAR":case"UUID":case"JSON":return"string";case"ARRAY":case"LIST":return"array";case"BLOB":case"STRUCT":case"MAP":case"GEOMETRY":return"object";default:if(e.startsWith("DECIMAL"))return"number";if(e.startsWith("STRUCT")||e.startsWith("MAP"))return"object";if(e.endsWith("]"))return"array";throw new Error(`Unsupported type: ${e}`)}}const jA="count",$A="nulls",VA="max",WA="min",HA="distinct",qA={[jA]:Aa,[HA]:e=>Aa(e).distinct(),[VA]:U_,[WA]:P_,[$A]:e=>Aa().where(cA(e))};function YA({table:e,column:t,stats:n}){return ii.from(e).select(Array.from(n,r=>({[r]:qA[r](t)})))}async function GA(e,t){return t.length===1&&t[0].column==="*"?KA(e,t[0].table):(await Promise.all(t.map(n=>QA(e,n)))).filter(n=>n)}async function QA(e,{table:t,column:n,stats:r}){const i=ii.from({source:t}).select({column:n}).groupby(ri(n)&&lh(n)?ah`ALL`:[]),[s]=Array.from(await e.query(ii.describe(i))),o={table:t,column:`${n}`,sqlType:s.column_type,type:ew(s.column_type),nullable:s.null==="YES"};if(!(r!=null&&r.length))return o;const[a]=await e.query(YA({table:t,column:n,stats:r}),{persist:!0});return Object.assign(o,a)}async function KA(e,t){return Array.from(await e.query(`DESCRIBE ${sh(t)}`)).map(r=>({table:t,column:r.column_name,sqlType:r.column_type,type:ew(r.column_type),nullable:r.null==="YES"}))}const Hr=Object.freeze({pending:Symbol("pending"),ready:Symbol("ready"),error:Symbol("error"),done:Symbol("done")});class uh extends Promise{constructor(){let t,n;super((r,i)=>{t=r,n=i}),this._resolve=t,this._reject=n,this._state=Hr.pending,this._value=void 0}fulfill(t){if(this._value!==void 0){if(t!==void 0)throw Error("Promise is ready and fulfill has a provided value");this._resolve(this._value)}else{if(t===void 0)throw Error("Promise is neither ready nor has provided value");this._resolve(t)}return this._state=Hr.done,this}ready(t){return this._state=Hr.ready,this._value=t,this}reject(t){return this._state=Hr.error,this._reject(t),this}get state(){return this._state}}uh.prototype.constructor=Promise;function nw(){return{debug(...e){},info(...e){},log(...e){},warn(...e){},error(...e){}}}function JA(e){return(typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:setTimeout)(e)}function XA(e,t){let n=[],r=0;function i(){const s=ZA(n,t);n=[],r=0;for(const o of s)eO(o,e),iO(o,t)}return{add(s,o){s.request.type==="arrow"?(r=r||JA(()=>i()),n.push({entry:s,priority:o,index:n.length})):e(s,o)}}}function ZA(e,t){const n=[],r=new Map;for(const i of e){const{entry:{request:s}}=i,o=tO(s.query,t);if(!r.has(o)){const a=[];n.push(a),r.set(o,a)}r.get(o).push(i)}return n}function tO(e,t){const n=`${e}`;if(mu(e)&&!t.get(n)){if(e._orderby.length||e._where.length||e._qualify.length||e._having.length)return n;const r=e.clone().setSelect("*"),i=e._groupby;if(i.length){const s={};e._select.forEach(({alias:o,expr:a})=>s[o]=a),r.setGroupby(i.map(o=>rh(o)&&s[o.column]||o))}else e._select.some(s=>lh(s.expr))&&r.setGroupby("ALL");return`${r}`}else return n}function eO(e,t){if(nO(e))t({request:{type:"arrow",cache:!1,query:e.query=rO(e)},result:e.result=new uh});else for(const{entry:n,priority:r}of e)t(n,r)}function nO(e){if(e.length>1){const t=`${e[0].entry.request.query}`;for(let n=1;n<e.length;++n)if(t!==`${e[n].entry.request.query}`)return!0}return!1}function rO(e){const t=e.maps=[],n=new Map;for(const s of e){const{query:o}=s.entry.request,a=[];t.push(a);for(const{alias:l,expr:u}of o._select){const c=`${u}`;n.has(c)||n.set(c,[`col${n.size}`,u]);const[d]=n.get(c);a.push([d,l])}}const r=e[0].entry.request.query.clone(),i=r._groupby;if(i.length){const s={};e.maps[0].forEach(([o,a])=>s[a]=o),r.setGroupby(i.map(o=>rh(o)&&s[o.column]||o))}return r.setSelect(Array.from(n.values()))}async function iO(e,t){const{maps:n,query:r,result:i}=e;if(!n)return;let s;try{s=await i}catch(a){for(const{entry:l}of e)l.result.reject(a);return}const o=WR(r);e.forEach(({entry:a},l)=>{const{request:u,result:c}=a,d=n[l],p=o&&d?oO(s,d):d?sO(s,d):s;u.cache&&t.set(String(u.query),p),c.fulfill(p)})}function sO(e,t){return e.select(t.map(n=>n[0]),t.map(n=>n[1]))}function oO(e,t){const n=new Map(t),r=[];for(const i of e)n.has(i.column_name)&&r.push({...i,column_name:n.get(i.column_name)});return r}const aO=typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout,lO=()=>({get:()=>{},set:(e,t)=>t,clear:()=>{}});function uO({max:e=1e3,ttl:t=3*60*60*1e3}={}){let n=new Map;function r(){const i=performance.now()-t;let s=null,o=1/0;for(const[a,l]of n){const{last:u}=l;u<o&&(s=a,o=u),i>u&&n.delete(a)}s&&n.delete(s)}return{get(i){const s=n.get(i);if(s)return s.last=performance.now(),s.value},set(i,s){return n.set(i,{last:performance.now(),value:s}),n.size>e&&aO(r),s},clear(){n=new Map}}}class cO{constructor(t){this.queue=Array.from({length:t},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(t=>!t.head)}insert(t,n){const r=this.queue[n];if(!r)throw new Error(`Invalid queue priority rank: ${n}`);const i={item:t,next:null};r.head===null?r.head=r.tail=i:r.tail=r.tail.next=i}remove(t){for(const n of this.queue){let{head:r,tail:i}=n;for(let s=null,o=r;o;s=o,o=o.next)t(o.item)&&(o===r?r=o.next:s.next=o.next,o===i&&(i=s||r));n.head=r,n.tail=i}}next(){for(const t of this.queue){const{head:n}=t;if(n!==null)return t.head=n.next,t.tail===n&&(t.tail=null),n.item}}}const sr=Object.freeze({High:0,Normal:1,Low:2});class dO{constructor(t=32){this.queue=new cO(3),this.db=null,this.clientCache=null,this._logger=nw(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=t,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;const{request:t,result:n}=this.queue.next();this.pendingResults.push(n),t.type==="exec"&&(this.pendingExec=!0),this.submit(t,n).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==Hr.pending;){const r=this.pendingResults.shift();r.state===Hr.ready?r.fulfill():r.state===Hr.done&&this._logger.warn("Found resolved query in pending results.")}t.type==="exec"&&(this.pendingExec=!1),this.next()})}enqueue(t,n=sr.Normal){this.queue.insert(t,n),this.next()}async submit(t,n){try{const{query:r,type:i,cache:s=!1,options:o}=t,a=r?`${r}`:null;if(s){const d=this.clientCache.get(a);if(d){const p=await d;this._logger.debug("Cache"),n.ready(p);return}}const l=performance.now();this._logQueries&&this._logger.debug("Query",{type:i,sql:a,...o});const u=this.db.query({type:i,sql:a,...o});s&&this.clientCache.set(a,u);const c=await u;s&&this.clientCache.set(a,c),this._logger.debug(`Request: ${(performance.now()-l).toFixed(1)}`),n.ready(i==="exec"?null:c)}catch(r){n.reject(r)}}cache(t){return t!==void 0?this.clientCache=t===!0?uO():t||lO():this.clientCache}logger(t){return t?this._logger=t:this._logger}logQueries(t){return t!==void 0?this._logQueries=!!t:this._logQueries}connector(t){return t?this.db=t:this.db}consolidate(t){t&&!this._consolidate?this._consolidate=XA(this.enqueue.bind(this),this.clientCache):!t&&this._consolidate&&(this._consolidate=null)}request(t,n=sr.Normal){const r=new uh,i={request:t,result:r};return this._consolidate?this._consolidate.add(i,n):this.enqueue(i,n),r}cancel(t){const n=new Set(t);if(n.size){this.queue.remove(({result:r})=>n.has(r)?(r.reject("Canceled"),!0):!1);for(const r of this.pendingResults)n.has(r)&&r.reject("Canceled")}}clear(){this.queue.remove(({result:t})=>(t.reject("Cleared"),!0));for(const t of this.pendingResults)t.reject("Cleared");this.pendingResults=[]}}let na;function fO(e){return e?na=e:na==null&&(na=new rw),na}class rw{constructor(t=yR(),{logger:n=console,manager:r=new dO,cache:i=!0,consolidate:s=!0,preagg:o={}}={}){this.manager=r,this.manager.cache(i),this.manager.consolidate(s),this.databaseConnector(t),this.logger(n),this.clear(),this.preaggregator=new BA(this,o)}clear({clients:t=!0,cache:n=!0}={}){var r,i;this.manager.clear(),t&&((r=this.filterGroups)==null||r.forEach(s=>s.disconnect()),this.filterGroups=new Map,(i=this.clients)==null||i.forEach(s=>this.disconnect(s)),this.clients=new Set),n&&this.manager.cache().clear()}databaseConnector(t){return this.manager.connector(t)}logger(t){return arguments.length&&(this._logger=t||nw(),this.manager.logger(this._logger)),this._logger}cancel(t){this.manager.cancel(t)}exec(t,{priority:n=sr.Normal}={}){return t=Array.isArray(t)?t.filter(r=>r).join(`;
`):t,this.manager.request({type:"exec",query:t},n)}query(t,{type:n="arrow",cache:r=!0,priority:i=sr.Normal,...s}={}){return this.manager.request({type:n,query:t,cache:r,options:s},i)}prefetch(t,n={}){return this.query(t,{...n,cache:!0,priority:sr.Low})}createBundle(t,n,r=sr.Low){const i={name:t,queries:n.map(s=>typeof s=="string"?{sql:s}:s)};return this.manager.request({type:"create-bundle",options:i},r)}loadBundle(t,n=sr.High){const r={name:t};return this.manager.request({type:"load-bundle",options:r},n)}updateClient(t,n,r=sr.Normal){return t.queryPending(),this.query(n,{priority:r}).then(i=>t.queryResult(i).update(),i=>{this._logger.error(i),t.queryError(i)}).catch(i=>this._logger.error(i))}requestQuery(t,n){return this.preaggregator.clear(),n?this.updateClient(t,n):Promise.resolve(t.update())}async connect(t){const{clients:n}=this;if(n.has(t))throw new Error("Client already connected.");n.add(t),t.coordinator=this,this.initializeClient(t),hO(this,t.filterBy,t)}async initializeClient(t){const n=t.fields();return n!=null&&n.length&&t.fieldInfo(await GA(this,n)),t.requestQuery()}disconnect(t){const{clients:n,filterGroups:r}=this;if(!n.has(t))return;n.delete(t),t.coordinator=null;const i=r.get(t.filterBy);i&&i.clients.delete(t)}}function hO(e,t,n){if(!t)return;let r=e.filterGroups.get(t);if(!r){const i=o=>pO(e,t,o),s=()=>yO(e,t);t.addEventListener("activate",i),t.addEventListener("value",s),r={selection:t,clients:new Set,disconnect(){t.removeEventListener("activate",i),t.removeEventListener("value",s)}},e.filterGroups.set(t,r)}r.clients.add(n)}function pO(e,t,n){const{preaggregator:r,filterGroups:i}=e,{clients:s}=i.get(t);for(const o of s)r.request(o,t,n)}function yO(e,t){const{preaggregator:n,filterGroups:r}=e,{clients:i}=r.get(t),{active:s}=t;return Promise.allSettled(Array.from(i,o=>{const a=n.request(o,t,s),l=a?null:t.predicate(o);if(a!=null&&a.skip||!a&&!l)return;const u=(a==null?void 0:a.query(s.predicate))??o.query(l);return e.updateClient(o,u)}))}async function mO(){const e=FT(),t=await xT(e),n=await BT(t.mainWorker),r=new uT,i=new wT(r,n);await i.instantiate(t.mainModule,t.pthreadWorker);const o=await(await fetch("/any_table/open_rubrics.parquet")).arrayBuffer();await i.registerFileBuffer("open_rubrics.parquet",new Uint8Array(o));const a=await i.connect();await a.query(`
    CREATE TABLE open_rubrics AS SELECT * FROM read_parquet('open_rubrics.parquet')
  `);const u=(await a.query("SELECT count(*) as cnt FROM open_rubrics")).toArray()[0].cnt;console.log(`[any_table] Loaded ${u} rows from open_rubrics.parquet`);const c={connected:!0,query:async p=>{const g=typeof p=="string"?p:p.sql??String(p);return await a.query(g)}},d=new rw(c);return fO(d),d}function gO(){const[e,t]=F.useState(0),n=F.useRef(0),r=F.useRef(performance.now());return F.useEffect(()=>{let i;const s=()=>{n.current++;const o=performance.now();o-r.current>=1e3&&(t(n.current),n.current=0,r.current=o),i=requestAnimationFrame(s)};return i=requestAnimationFrame(s),()=>cancelAnimationFrame(i)},[]),e}const fi={display:"inline-flex",alignItems:"center",gap:6,padding:"4px 10px",borderRadius:4,background:"var(--surface-2)",fontSize:"0.7rem",fontFamily:"SF Mono, Menlo, monospace",color:"var(--muted-fg)",whiteSpace:"nowrap"},hi={fontWeight:600,color:"var(--muted-fg)",textTransform:"uppercase",fontSize:"0.6rem",letterSpacing:"0.03em"};function vO({table:e}){const t=gO(),{data:n,layout:r,scroll:i}=e,s=i==null?void 0:i.visibleRowRange;return U.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:[U.jsxs("span",{style:fi,children:[U.jsx("span",{style:hi,children:"rows"})," ",n.totalRows.toLocaleString()]}),U.jsxs("span",{style:fi,children:[U.jsx("span",{style:hi,children:"Row height"})," ",r.rowHeight,"px"]}),U.jsxs("span",{style:fi,children:[U.jsx("span",{style:hi,children:"scroll"})," ",Math.round((i==null?void 0:i.scrollTop)??0),"px"]}),U.jsxs("span",{style:fi,children:[U.jsx("span",{style:hi,children:"visible"})," ",s?`${s.start}${s.end}`:""]}),U.jsxs("span",{style:fi,children:[U.jsx("span",{style:hi,children:"loaded"})," ",n.isLoading?"...":"yes"]}),U.jsxs("span",{style:{...fi,background:t>=55?"var(--good-bg)":t>=30?"var(--warn-bg)":"var(--bad-bg)",color:t>=55?"var(--good-fg)":t>=30?"var(--warn-fg)":"var(--bad-fg)"},children:[U.jsx("span",{style:{...hi,color:"inherit",opacity:.6},children:"fps"})," ",t]})]})}const _O=[{key:"source",width:"8rem"},{key:"winner",width:"4rem"},{key:"instruction",flex:3,minWidth:"12rem"},{key:"response_a",flex:2,minWidth:"10rem"},{key:"response_b",flex:2,minWidth:"10rem"},{key:"rubric",flex:2,minWidth:"10rem"}];function wO(){const e=F.useRef(null),t=cI({table:"open_rubrics",columns:_O,containerRef:e});return U.jsxs(U.Fragment,{children:[U.jsx(vO,{table:t}),U.jsx("div",{ref:e,style:{width:"100%",height:"calc(100dvh - 150px)",position:"relative",border:"1px solid var(--border)",borderRadius:6,background:"var(--surface)",margin:"1rem 0"},children:U.jsxs(Cr.Root,{...t.rootProps,children:[U.jsx(Cr.Header,{style:{padding:"8px",background:"var(--surface)",borderBottom:"1px solid var(--border)"},children:({columns:n})=>n.map(r=>U.jsx(Cr.HeaderCell,{column:r.key,style:{fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.04em",color:"var(--muted-fg)"},children:U.jsx(Cr.SortTrigger,{column:r.key,children:r.key.replace(/_/g," ")})},r.key))}),U.jsx(Cr.Viewport,{children:({rows:n})=>n.map(r=>U.jsx(Cr.Row,{row:r,style:{borderBottom:"1px solid var(--border)",background:r.index%2===0?"var(--surface)":"var(--surface-2)"},children:({cells:i})=>i.map(s=>U.jsx(Cr.Cell,{column:s.column,width:s.width,offset:s.offset,style:{padding:"8px 12px",fontSize:"0.8rem",lineHeight:"1.5",color:"var(--fg)"},children:SO(s.value,s.column)},s.column))},r.key))})]})})]})}function SO(e,t){if(e==null)return"";const n=String(e);if(t==="winner"){const r=n==="A"?"var(--accent)":n==="B"?"var(--bad-fg)":"var(--muted-fg)";return U.jsx("span",{style:{fontWeight:600,color:r},children:n})}return n}function IO(){const[e,t]=F.useState(!1),[n,r]=F.useState(!1),[i,s]=F.useState(null),o=F.useRef(null),[a,l]=F.useState(0);return F.useEffect(()=>{e||(t(!0),mO().then(async u=>{o.current=u;const c=await u.query("SELECT count(*) as cnt FROM open_rubrics"),d=c?c.toArray()[0].cnt:"";l(d),r(!0)}).catch(u=>{console.error(u),s(String(u))}))},[]),i?U.jsxs("div",{style:{padding:"2rem",color:"red"},children:[U.jsx("h1",{children:"Error"}),U.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:i})]}):n?U.jsx(rI,{coordinator:o.current,children:U.jsxs("div",{style:{padding:"1rem"},children:[U.jsx("h1",{style:{margin:"0 0 0.5rem",fontSize:"1.25rem"},children:"AnyTable  OpenRubric-Science Dataset"}),U.jsx(wO,{})]})}):U.jsxs("div",{style:{padding:"2rem"},children:[U.jsx("h1",{style:{margin:"0 0 0.5rem",fontSize:"1.25rem"},children:"AnyTable demo"}),U.jsx("p",{children:"Loading open_rubrics.parquet into DuckDB-WASM..."})]})}sc.createRoot(document.getElementById("root")).render(U.jsx(bw.StrictMode,{children:U.jsx(IO,{})}));export{kl as $,uT as A,FO as B,rw as C,TF as D,zt as E,NF as F,dF as G,U_ as H,Io as I,FT as J,ah as K,uA as L,Gt as M,NO as N,_R as O,sr as P,ii as Q,RF as R,Rn as S,ls as T,cA as U,Aa as V,SR as W,xT as X,ZR as Y,P_ as Z,XR as _,W_ as a,lh as a$,GR as a0,CR as a1,kR as a2,UR as a3,OR as a4,D_ as a5,yu as a6,gu as a7,PR as a8,HR as a9,_F as aA,mF as aB,vF as aC,wF as aD,oh as aE,aA as aF,mA as aG,Y_ as aH,LF as aI,FR as aJ,LO as aK,CO as aL,BO as aM,BF as aN,iF as aO,aF as aP,sF as aQ,oF as aR,MO as aS,sA as aT,EF as aU,z_ as aV,kO as aW,rF as aX,AF as aY,SF as aZ,iA as a_,F_ as aa,qR as ab,YR as ac,N_ as ad,MR as ae,QR as af,hu as ag,zR as ah,jR as ai,Qr as aj,Ui as ak,O_ as al,KR as am,JR as an,x_ as ao,RR as ap,nh as aq,ny as ar,AR as as,lr as at,VR as au,DO as av,sh as aw,Ra as ax,xO as ay,gF as az,xF as b,OO as b0,rh as b1,WR as b2,OF as b3,uF as b4,cF as b5,lF as b6,ri as b7,DF as b8,H_ as b9,md as bA,EA as bB,JO as bC,Ul as bD,XO as bE,ZO as bF,tF as bG,hF as bH,nF as bI,eF as bJ,us as bK,eh as bL,pu as ba,C_ as bb,mu as bc,Cl as bd,UO as be,$O as bf,fF as bg,Oa as bh,oA as bi,PO as bj,zO as bk,IF as bl,jO as bm,yF as bn,We as bo,VO as bp,WO as bq,tA as br,eA as bs,nA as bt,HO as bu,qO as bv,YO as bw,GO as bx,QO as by,KO as bz,FF as c,pR as d,fO as e,wT as f,wR as g,xt as h,sy as i,ew as j,wt as k,Ml as l,L_ as m,gA as n,pF as o,Kt as p,GA as q,iy as r,yR as s,re as t,dA as u,rA as v,AO as w,lA as x,Yt as y,bF as z};
